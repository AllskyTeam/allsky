<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="../js/documentation.js" type="application/javascript"></script>
	<link href="../css/light.css" rel="stylesheet">
	<link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<style>
		#pageTitle::before {
			content: "Troubleshooting Image Flicker or Brightness 'Strobe'";
		} 
	</style>
	<link href="../css/documentation.css" rel="stylesheet">
	<link href="../documentation-favicon.ico" rel="shortcut icon" type="image/png">
	<script src="../js/all.min.js" type="application/javascript"></script>
	<title>Image Flicker</title>
</head>
<body>
<div w3-include-html="/documentation/pageHeader.html" id="pageHeader"></div>
<div class="Layout">
<div class="Layout-sidebar" w3-include-html="/documentation/sidebar.html" id="sidebar"></div>
<div class="Layout-main markdown-body" id="mainContents">

<p>
If your videos to change in brightness every image or "strobe", see below.
</p>

<h2>During daytime AND nighttime</h2>
<p>
If images on the WebUI's
<span class="WebUILink">Liveview</span> page or the Allsky Website flicker every
time a new image appears, it could be the Firefox browser which
has a known issue with image updates.
Try a different browser.
To ensure the issue is browser-related, click on the
<span class="WebUILink">Images</span> link in the WebUI and view the images one at a time,
checking if their brightness changes every image.
If they do NOT, then it's a browser issue.
</p>

<h2>Daytime only flicker (ZWO cameras)</h2>
<p>
Daytime auto exposures with ZWO cameras use an AllSky algorithm that looks
at part of the image (called the <b>histogram box</b>) to determine the average brightness,
and adjusts exposure to keep the brightness within an acceptable range.
By default the histogram box is centered on the image.
If the Sun or Moon go through that box, your images may flicker, especially if it is cloudy.
If that's the case, try moving the histogram box to one of the corners
(but be sure it's within the image the camera lens produces and NOT in the black border).
You can also try adjusting the histogram box size - it should be around 15% of the
width of the camera sensor in pixels.
For a sensor that's 1000 pixels wide, a histogram box of 150 pixels wide is a good place to start.
</p>
<p>
If you are STILL having flicker issues after doing the above,
please follow the instructions on the
<a allsky="true" external="true" href="reportingIssues.html">Reporting Issues</a> page.
</p>

<h2>Nighttime only flicker (ZWO cameras)</h2>
<p>
Nighttime images use the ZWO algorithm, not the Allsky algorithm for auto exposure.
If you see flickering at night, try the following - these steps have helped some people,
but not everyone:
<ul>
<li>Change the <span class="WebUISetting">USB Bandwidth</span> and
	<span class="WebUISetting">Auto USB</span> settings in the WebUI.
<li>Add a more powerful power supply to the Pi,
	or a thicker/shorter wire from the power supply to the Pi.
	The Pi may not be getting enough power,
	which causes it to not provide enough power to the camera.
<li>Add a powered USB 3 hub between the Pi and the camera
	to ensure the camera's getting enough power.
<li>Update the Pi's firmware by executing <code>sudo rpi-update</code>.
</ul>


</div><!-- Layout-main -->
</div><!-- Layout -->
</body>
</html>
<script> includeHTML(); </script>

