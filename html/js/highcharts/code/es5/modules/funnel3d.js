!/**
 * Highcharts JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/funnel3d
 * @requires highcharts
 * @requires highcharts/highcharts-3d
 * @requires highcharts/modules/cylinder
 *
 * Highcharts funnel module
 *
 * (c) 2010-2024 Kacper Madej
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").Color,require("highcharts").RendererRegistry,require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/funnel3d",[["highcharts/highcharts"],["highcharts/highcharts","Color"],["highcharts/highcharts","RendererRegistry"],["highcharts/highcharts","SeriesRegistry"]],e):"object"==typeof exports?exports["highcharts/modules/funnel3d"]=e(require("highcharts"),require("highcharts").Color,require("highcharts").RendererRegistry,require("highcharts").SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.Color,t.Highcharts.RendererRegistry,t.Highcharts.SeriesRegistry)}(this,function(t,e,r,i){return function(){"use strict";var n,o,h,s={620:function(t){t.exports=e},608:function(t){t.exports=r},512:function(t){t.exports=i},944:function(e){e.exports=t}},a={};function d(t){var e=a[t];if(void 0!==e)return e.exports;var r=a[t]={exports:{}};return s[t](r,r.exports,d),r.exports}d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,{a:e}),e},d.d=function(t,e){for(var r in e)d.o(e,r)&&!d.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var p={};d.d(p,{default:function(){return D}});var l=d(944),c=d.n(l),u=d(620),g=d.n(u),f=d(608),y=d.n(f),x=(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=g().parse,b=c().charts,v=y().getRendererType().prototype.Element3D,m=c().merge,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainParts=["top","bottom"],e.parts=["top","bottom","frontUpper","backUpper","frontLower","backLower","rightUpper","rightLower"],e.sideGroups=["upperGroup","lowerGroup"],e.sideParts={upperGroup:["frontUpper","backUpper","rightUpper"],lowerGroup:["frontLower","backLower","rightLower"]},e.pathType="funnel3d",e}return x(e,t),e.prototype.opacitySetter=function(t){var e=parseFloat(t),r=this.parts,i=b[this.renderer.chartIndex],n="group-opacity-"+e+"-"+i.index;if(this.parts=this.mainParts,this.singleSetterForParts("opacity",e),this.parts=r,!i.renderer.filterId){i.renderer.definition({tagName:"filter",attributes:{id:n},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"table",tableValues:"0 "+e}}]}]});for(var o=0,h=this.sideGroups;o<h.length;o++){var s=h[o];this[s].attr({filter:"url(#"+n+")"})}if(this.renderer.styledMode){i.renderer.definition({tagName:"style",textContent:".highcharts-"+n+" {filter:url(#"+n+")}"});for(var a=0,d=this.sideGroups;a<d.length;a++){var s=d[a];this[s].addClass("highcharts-"+n)}}}return this},e.prototype.fillSetter=function(t){var e=w(t),r=e.rgba[3],i={top:w(t).brighten(.1).get(),bottom:w(t).brighten(-.2).get()};if(r<1?(e.rgba[3]=1,e=e.get("rgb"),this.attr({opacity:r})):e=t,e.linearGradient||e.radialGradient||!this.gradientForSides||(e={linearGradient:{x1:0,x2:1,y1:1,y2:1},stops:[[0,w(t).brighten(-.2).get()],[.5,t],[1,w(t).brighten(-.2).get()]]}),e.linearGradient)for(var n=0,o=this.sideGroups;n<o.length;n++)for(var h=o[n],s=this[h].gradientBox,a=e.linearGradient,d=m(e,{linearGradient:{x1:s.x+a.x1*s.width,y1:s.y+a.y1*s.height,x2:s.x+a.x2*s.width,y2:s.y+a.y2*s.height}}),p=0,l=this.sideParts[h];p<l.length;p++){var c=l[p];i[c]=d}else if(m(!0,i,{frontUpper:e,backUpper:e,rightUpper:e,frontLower:e,backLower:e,rightLower:e}),e.radialGradient)for(var u=0,g=this.sideGroups;u<g.length;u++)for(var h=g[u],f=this[h].gradientBox,y=f.x+f.width/2,x=f.y+f.height/2,b=Math.min(f.width,f.height),v=0,A=this.sideParts[h];v<A.length;v++){var c=A[v];this[c].setRadialReference([y,x,b])}if(this.singleSetterForParts("fill",null,i),this.color=this.fill=t,e.linearGradient)for(var C=0,L=[this.frontLower,this.frontUpper];C<L.length;C++){var _=L[C].element,z=_&&this.renderer.gradients[_.gradient];z&&"userSpaceOnUse"!==z.attr("gradientUnits")&&z.attr({gradientUnits:"userSpaceOnUse"})}return this},e.prototype.adjustForGradient=function(){for(var t,e=0,r=this.sideGroups;e<r.length;e++){for(var i=r[e],n={x:Number.MAX_VALUE,y:Number.MAX_VALUE},o={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE},h=0,s=this.sideParts[i];h<s.length;h++)t=this[s[h]].getBBox(!0),n={x:Math.min(n.x,t.x),y:Math.min(n.y,t.y)},o={x:Math.max(o.x,t.x+t.width),y:Math.max(o.y,t.y+t.height)};this[i].gradientBox={x:n.x,width:o.x-n.x,y:n.y,height:o.y-n.y}}},e.prototype.zIndexSetter=function(){return this.finishedOnAdd&&this.adjustForGradient(),this.renderer.Element.prototype.zIndexSetter.apply(this,arguments)},e.prototype.onAdd=function(){this.adjustForGradient(),this.finishedOnAdd=!0},e}(v),C=c().charts,L=c().error,_=c().extend,z=c().merge;function U(t){var e=this.element3d("funnel3d",t),r=this.styledMode,i={"stroke-width":1,stroke:"none"};e.upperGroup=this.g("funnel3d-upper-group").attr({zIndex:e.frontUpper.zIndex}).add(e);for(var n=0,o=[e.frontUpper,e.backUpper,e.rightUpper];n<o.length;n++){var h=o[n];r||h.attr(i),h.add(e.upperGroup)}e.lowerGroup=this.g("funnel3d-lower-group").attr({zIndex:e.frontLower.zIndex}).add(e);for(var s=0,a=[e.frontLower,e.backLower,e.rightLower];s<a.length;s++){var d=a[s];r||d.attr(i),d.add(e.lowerGroup)}return e.gradientForSides=t.gradientForSides,e}function G(t){this.getCylinderEnd||L("A required Highcharts module is missing: cylinder.js",!0,C[this.chartIndex]);var e,r=C[this.chartIndex],i=t.alphaCorrection=90-Math.abs(r.options.chart.options3d.alpha%180-90),n=this.cuboidPath.call(this,z(t,{depth:t.width,width:(t.width+t.bottom.width)/2})),o=n.isTop,h=!n.isFront,s=!!t.middle,a=this.getCylinderEnd(r,z(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:i})),d=t.bottom.width,p=z(t,{width:d,x:t.x-d/2,z:t.z-d/2,alphaCorrection:i}),l=this.getCylinderEnd(r,p,!0),c=d,u=p,g=l,f=l;s&&(c=t.middle.width,u=z(t,{y:t.y+t.middle.fraction*t.height,width:c,x:t.x-c/2,z:t.z-c/2}),g=this.getCylinderEnd(r,u,!1),f=this.getCylinderEnd(r,u,!1));var y={top:a,bottom:l,frontUpper:this.getCylinderFront(a,g),zIndexes:{group:n.zIndexes.group,top:0!==o?0:3,bottom:1!==o?0:3,frontUpper:h?2:1,backUpper:h?1:2,rightUpper:h?2:1}};return y.backUpper=this.getCylinderBack(a,g),e=Math.min(c,t.width)/Math.max(c,t.width)!=1,y.rightUpper=this.getCylinderFront(this.getCylinderEnd(r,z(t,{x:t.x-t.width/2,z:t.z-t.width/2,alphaCorrection:e?-i:0}),!1),this.getCylinderEnd(r,z(u,{alphaCorrection:e?-i:0}),!s)),s&&(e=Math.min(c,d)/Math.max(c,d)!=1,z(!0,y,{frontLower:this.getCylinderFront(f,l),backLower:this.getCylinderBack(f,l),rightLower:this.getCylinderFront(this.getCylinderEnd(r,z(p,{alphaCorrection:e?-i:0}),!0),this.getCylinderEnd(r,z(u,{alphaCorrection:e?-i:0}),!1)),zIndexes:{frontLower:h?2:1,backLower:h?1:2,rightLower:h?1:2}})),y}var k=function(t){var e=t.prototype;e.funnel3d||(e.Element3D.types.funnel3d=A,_(e,{funnel3d:U,funnel3dPath:G}))},O={center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,gradientForSides:!0,animation:!1,edgeWidth:0,colorByPoint:!0,showInLegend:!1,dataLabels:{align:"right",crop:!1,inside:!1,overflow:"allow"}},S=d(512),P=d.n(S),M=(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),F=P().seriesTypes.column,B=c().extend,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e}(F.prototype.pointClass);B(E.prototype,{shapeType:"funnel3d"});var I=c().deg2rad,R=c().pick,j=(h=function(t,e){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),T=c().noop,W=P().series,H=P().seriesTypes.column,N=c().extend,q=c().merge,Y=c().pick,V=c().relativeLength,X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.alignDataLabel=function(t,e,r){var i=t.dlBoxRaw,n=this.chart.inverted,o=t.plotY>Y(this.translatedThreshold,this.yAxis.len),h=Y(r.inside,!!this.options.stacking),s={x:i.x,y:i.y,height:0};r.align=Y(r.align,!n||h?"center":o?"right":"left"),r.verticalAlign=Y(r.verticalAlign,n||h?"middle":o?"top":"bottom"),"top"!==r.verticalAlign&&(s.y+=i.bottom/("bottom"===r.verticalAlign?1:2)),s.width=this.getWidthAt(s.y),this.options.reversed&&(s.width=i.fullWidth-s.width),h?s.x-=s.width/2:"left"===r.align?(r.align="right",s.x-=1.5*s.width):"right"===r.align?(r.align="left",s.x+=s.width/2):s.x-=s.width/2,t.dlBox=s,H.prototype.alignDataLabel.apply(this,arguments)},e.prototype.bindAxes=function(){W.prototype.bindAxes.apply(this,arguments),N(this.xAxis.options,{gridLineWidth:0,lineWidth:0,title:void 0,tickPositions:[]}),q(!0,this.yAxis.options,{gridLineWidth:0,title:void 0,labels:{enabled:!1}})},e.prototype.translate=function(){W.prototype.translate.apply(this,arguments);var t,e,r,i,n,o,h,s,a,d=this.chart,p=this.options,l=p.reversed,c=p.ignoreHiddenPoint,u=d.plotWidth,g=d.plotHeight,f=p.center,y=V(f[0],u),x=V(f[1],g),w=V(p.width,u),b=V(p.height,g),v=V(p.neckWidth,u),m=V(p.neckHeight,g),A=x-b/2+b-m,C=this.points,L=0,_=0;this.getWidthAt=e=function(t){return t>A||b===m?v:v+(w-v)*(1-(t-(x-b/2))/(b-m))},this.center=[y,x,b],this.centerX=y;for(var z=0;z<C.length;z++){var U=C[z];c&&!1===U.visible||(L+=U.y)}for(var G=0;G<C.length;G++){var U=C[G];h=null,r=L?U.y/L:0,o=(n=x-b/2+_*b)+r*b,t=e(n),s=o-n,a={gradientForSides:Y(U.options.gradientForSides,p.gradientForSides),x:y,y:n,height:s,width:t,z:1,top:{width:t}},t=e(o),a.bottom={fraction:r,width:t},n>=A?a.isCylinder=!0:o>A&&(h=o,t=e(A),o=A,a.bottom.width=t,a.middle={fraction:s?(A-n)/s:0,width:t}),l&&(a.y=n=x+b/2-(_+r)*b,a.middle&&(a.middle.fraction=1-(s?a.middle.fraction:0)),t=a.width,a.width=a.bottom.width,a.bottom.width=t),U.shapeArgs=N(U.shapeArgs,a),U.percentage=100*r,U.plotX=y,l?U.plotY=x+b/2-(_+r/2)*b:U.plotY=(n+(h||o))/2,i=function(t,e,r,i){var n=e.options.chart.options3d,o=R(void 0,!!r&&e.inverted),h={x:e.plotWidth/2,y:e.plotHeight/2,z:n.depth/2,vd:R(n.depth,1)*R(n.viewDistance,0)},s=e.scale3d||1,a=I*n.beta*(o?-1:1),d=I*n.alpha*(o?-1:1),p={cosA:Math.cos(d),cosB:Math.cos(-a),sinA:Math.sin(d),sinB:Math.sin(-a)};return r||(h.x+=e.plotLeft,h.y+=e.plotTop),t.map(function(t){var e,r,i,n=(e=(o?t.y:t.x)-h.x,r=(o?t.x:t.y)-h.y,i=(t.z||0)-h.z,{x:p.cosB*e-p.sinB*i,y:-p.sinA*p.sinB*e+p.cosA*r-p.cosB*p.sinA*i,z:p.cosA*p.sinB*e+p.sinA*r+p.cosA*p.cosB*i}),a=function(t,e,r){var i=r>0&&r<Number.POSITIVE_INFINITY?r/(t.z+e.z+r):1;return{x:t.x*i,y:t.y*i}}(n,h,h.vd);return a.x=a.x*s+h.x,a.y=a.y*s+h.y,a.z=n.z*s+h.z,{x:o?a.y:a.x,y:o?a.x:a.y,z:a.z}})}([{x:y,y:U.plotY,z:l?-(w-e(U.plotY))/2:-e(U.plotY)/2}],d,!0)[0],U.tooltipPos=[i.x,i.y],U.dlBoxRaw={x:y,width:e(U.plotY),y:n,bottom:a.height||0,fullWidth:w},c&&!1===U.visible||(_+=r)}},e.compose=k,e.defaultOptions=q(H.defaultOptions,O),e}(H);N(X.prototype,{pointClass:E,translate3dShapes:T}),P().registerSeriesType("funnel3d",X),X.compose(y().getRendererType());var D=c();return p.default}()});