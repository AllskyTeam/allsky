<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="../js/documentation.js" type="application/javascript"></script>
	<link href="../css/light.css" rel="stylesheet">
	<link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<style>
		#pageTitle::before {
			content: "Allsky Settings";
		} 
	</style>
	<link href="../css/documentation.css" rel="stylesheet">
	<link href="../documentation-favicon.ico" rel="shortcut icon" type="image/png">
	<script src="../js/all.min.js" type="application/javascript"></script>
	<title>AllSky Settings</title>
</head>
<body>
<div w3-include-html="/documentation/pageHeader.html" id="pageHeader"></div>
<div class="Layout">
<div class="Layout-sidebar" w3-include-html="/documentation/sidebar.html" id="sidebar"></div>
<div class="Layout-main markdown-body" id="mainContents">

Once you've installed Allsky there are many settings you must modify.
These settings <b>must</b> be changed via the WebUI rather than manually editing files
since the WebUI performs error checking and updates other files as appropriate.
<p>
There WebUI contains many pages; the two used to changes settings are
the <b>Allsky Settings</b> and <b>Editor</b> pages,
and are described below.

<h2><i class="fa fa-camera fa-fw"></i> "Allsky Settings" Page</h2>
<details><summary></summary>
<p>
This section lists the settings that are updated in the WebUI's <b>Allsky Settings</b> page.
A (partial) typical page is below.
The entries highlighted in yellow are Advanced entries that aren't changed very often;
to see them, click on the <b>Show advanced options...</b> button on the bottom of the page.
</p>
<img allsky="true" src="AllskySettingsPage.png" title="Typical Allsky Settings page" alt="AllskySettings" border="1" loading="lazy">

<p>
<blockquote>
<b>RPi camera users, please note</b>
that several settings have different ranges on Buster versus Bullseye,
so you'll need to update them when upgrading to Bullseye.
For example, <span class="WebUISetting">Brightness</span> in Buster ranged from
0 (black) to 100 (white), whereas in Bullseye it's -100 to 100.
</blockquote>
</p>
<p>
The exact list of settings available depends on your camera model;
settings specific to a camera <b>type</b> (e.g., RPi or ZWO) are indicated as such.
Where appropriate, the WebUI displays the minimum, maximum, and default values when
you hover over a value,
and only displays settings the camera supports, like cooler temperature for cooled cameras.
</p>
<div style="border: 1px solid gray">
Legend:
<ul class="minimalPadding">
<li>Defaults for settings marked with <span class="cameraDependent">CD</span>
	are <span class="cameraDependent">C</span>amera
	<span class="cameraDependent">D</span>ependent and are displayed in the WebUI.
<li>When changed, settings with "(AW)" after them are uploaded to your Allsky Website(s).
</ul>
</div>
<br>

<table role="table">
<thead>
<tr><th>WebUI Setting</th><th>Default</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td class="note" colspan="3">Daytime settings</td></tr>

<tr><td class="WebUISetting">Daytime Capture</td> <td>Yes</td>
	<td>Enable to <b>capture</b> images during the day.</td>
</tr>
<tr><td class="WebUISetting">Daytime Save (AW)</td> <td>No</td>
	<td>Enable to <b>save</b> images during the day (they are always saved at night).
	Only applies if <span class="WebUISetting">Daytime Capture</span> is enabled.
	</td>
</tr>
<tr><td class="WebUISetting">Auto-Exposure</td> <td>Yes</td>
	<td>Turns on/off Auto-Exposure, which delivers properly exposed images even if
	the overall brightness of the sky changes due to cloud cover, sun, etc.</td>
</tr>
<tr><td class="WebUISetting">Max Auto-Exposure</td> <td><span class="cameraDependent">CD</span></td>
	<td>The maximum exposure in milliseconds when using 
	<span class="WebUISetting">Auto-Exposure</span>.
	When <span class="WebUISetting">Auto-Exposure</span> is on,
	this value will be used as the delay between frames.
	Ignored if <span class="WebUISetting">Auto-Exposure</span> is off.</td>
</tr>
<tr><td class="WebUISetting">Manual Exposure</td> <td>0.5</td>
	<td>Manual exposure time in milliseconds.
	If <span class="WebUISetting">Auto-Exposure</span> is on this value is used as a starting exposure.</td>
</tr>
<tr><td class="WebUISetting">Mean Target</td> <td>0.5</td>
	<td>(RPi only) The target mean brightness level when
	<span class="WebUISetting">Auto-Exposure</span> is on.
	Ranges from 0.0 (pure black) to 1.0 (pure white).
	Best used when both <span class="WebUISetting">Auto-Exposure</span> and
	<span class="WebUISetting">Auto-Gain</span> are enabled.</td>
</tr>
<tr><td class="WebUISetting">Brightness</td> <td><span class="cameraDependent">CD</span></td>
	<td>This setting changes the amount of light in images.</td>
</tr>
<tr><td class="WebUISetting">Delay</td> <td>5000</td>
	<td>Time in milliseconds to wait between the end of one image and the start of the next.</td>
</tr>
<tr><td class="WebUISetting">Auto-Gain</td> <td>No</td>
	<td>Turns on/off Auto-Gain which delivers properly exposed images even if
	the overall brightness of the sky changes.
	With RPi cameras, this should typically be turned on.
	With ZWO cameras you'll probably want this off and use the lowest
	gain possible since daytime images are bright and don't need any gain.</td>
</tr>
<tr><td class="WebUISetting">Max Auto-Gain</td>
	<td><span class="cameraDependent">CD</span></td> <td>Maximum gain when using <span class="WebUISetting">Auto-Gain</span>.
	Ignored if <span class="WebUISetting">Auto-Gain</span> is off.</td>
</tr>
<tr><td class="WebUISetting">Gain</td> <td><span class="cameraDependent">CD</span></td>
	<td>Gain is similar to ISO on regular cameras.
	When <span class="WebUISetting">Auto-Gain</span> is on, this value is used as a starting gain.
	When <span class="WebUISetting">Auto-Gain</span> is off,
	increasing this produces brighter images, but with more noise.</td>
</tr>
<tr><td class="WebUISetting">Binning</td> <td>1x1</td>
	<td>Bin 2x2 collects the light from 4 pixels to form one larger pixel on the image.
	Bin 3x3 uses 9 pixels, etc.
	Increasing the bin results in smaller, lower-resolution images and reduces the need for long exposure.
	Look up your camera specifications to know what values are supported.
	<br>This variable is usually only changed during the day for testing.
	<blockquote>On CCD camera, binning normally produces brighter images.
	CMOS camera may, or may not produce brighter images, depending on the camera model.
	</blockquote>
	</td>
</tr>
<tr><td class="WebUISetting">Auto White Balance</td> <td>No</td>
	<td>Sets daytime auto white balance.
	When used, <span class="WebUISetting">Red balance</span> and
	<span class="WebUISetting">Blue balance</span> are used as starting points.</td>
</tr>
<tr><td class="WebUISetting">Red Balance</td> <td><span class="cameraDependent">CD</span></td>
	<td>The intensity of the red component of the image.</td>
</tr>
<tr><td class="WebUISetting">Blue Balance</td> <td><span class="cameraDependent">CD</span></td>
	<td>The intensity of the blue component of the image.</td>
</tr>
<tr><td class="WebUISetting">Frames To Skip</td> <td>5</td>
	<td>When starting Allsky during the day, skip <i>up to</i> this many images
	while the auto-exposure software gets to the correct exposure.
	<br>Only applies if daytime <span class="WebUISetting">Auto-Exposure</span> is enabled.
	</td>
</tr>
<tr><td class="WebUISetting">Cooling</td> <td>No</td>
	<td>(ZWO only) Enable to use cooling on cameras that support it.</td>
</tr>
<tr><td class="WebUISetting">Target Temp.</td> <td>0</td>
	<td>(ZWO only) Sensor's target temperature <i>when cooler is enabled</i>.
	In degrees Celsius.</td>
</tr>
<tr><td class="WebUISetting">Tuning File</td> <td>No</td>
	<td>(RPi on Bullseye only) Name of the optional daytime tuning file.
	See <a href='https://www.raspberrypi.com/documentation/accessories/camera.html'
		target='_blank'>this documentation</a> for more information.
	</td>
</tr>

<tr><td class="note" colspan="3">Nighttime settings
	<p>Unless otherwise specified, these setttings are the same as the daytime ones.</td>
</tr>

<tr><td class="WebUISetting">Auto-Exposure</td> <td>Yes</td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Max Auto-Exposure</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Manual Exposure</td> <td>10000</td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Mean Target</td> <td>0.2</td>
	<td>(RPi only)</td>
</tr>
<tr><td class="WebUISetting">Brightness</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Delay</td> <td>10</td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Auto-Gain</td> <td>No</td>
	<td>With ZWO cameras enabling <span class="WebUISetting">Auto-Exposure</span> and
	<span class="WebUISetting">Auto-Gain</span> together
	can produce unpredictable results so testing is needed.</td>
</tr>
<tr><td class="WebUISetting">Max Auto-Gain</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Gain</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Binning</td> <td>1x1</td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Auto White Balance</td> <td>No</td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Red Balance</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Blue Balance</td> <td><span class="cameraDependent">CD</span></td>
	<td></td>
</tr>
<tr><td class="WebUISetting">Frames To Skip</td> <td>1</td>
	<td>Only applies if nighttime <span class="WebUISetting">Auto-Exposure</span> is enabled.</td>
</tr>
<tr><td class="WebUISetting">Cooling</td> <td>No</td>
	<td>(ZWO only)</td>
</tr>
<tr><td class="WebUISetting">Target Temp.</td> <td>0</td>
	<td>(ZWO only)</td>
</tr>
<tr><td class="WebUISetting">Tuning File</td> <td>No</td>
	<td>(RPi on Bullseye only)</td>
</tr>

<tr><td class="note" colspan="3">Both daytime and nighttime settings</td></tr>

<!-- THIS MAY CHANGE IN THE FUTURE. THE RPi width AND height BEHAVIOR HAS ONLY BEEN TESTED WITH LIBCAMERA.
a "digital zoom" whereby the specified portion of the camera's sensor is used when taking a picture,
but the picture is then expanded so <b>the final picture resolution is the same as the camera's resolution</b>.
0 turns off digital zoom and uses the sensor's maximum width.
Look up your camera specifications to know what values are supported.
If you want the final image to contain only a portion of what strikes the sensor,
use the <span class="shSetting">CROP</span> setting in the
<span class="fileName">config.sh</span> file instead.
-->
<tr><td class="WebUISetting">Configuration File</td> <td>[none]</td>
	<td>Configuration file to use for settings.  Not currently used.</td>
</tr>
<tr><td class="WebUISetting">Saturation</td> <td><span class="cameraDependent">CD</span></td>
	<td>(RPi only) Sets saturation from black and white to extra saturated.</td>
</tr>
<tr><td class="WebUISetting">Contrast</td> <td><span class="cameraDependent">CD</span></td>
	<td>(RPi only) Changes the difference between blacks and whites in an image.</td>
</tr>
<tr><td class="WebUISetting">Sharpness</td> <td><span class="cameraDependent">CD</span></td>
	<td>(RPi only) Changes the sharpness of an imgage.
	Images that are too sharp look unnatural.</td>
</tr>
<tr><td class="WebUISetting class="WebUISetting"">Gamma</td> <td><span class="cameraDependent">CD</span></td>
	<td>(ZWO only) Increases or decreases contrast between dark and bright areas.</td>
</tr>
<tr><td class="WebUISetting">Offset</td> <td>0</td>
	<td>(ZWO only) Adds about 1/10 the specified value to every pixel,
	which brightens the whole image.</td>
</tr>
<tr><td class="WebUISetting">Aggression</td> <td>75%</td>
	<td>(ZWO only) Specifies how much of a calculated exposure change should be made
	during auto-exposure. Lower numbers smooth out brightness changes but take longer to
	react to changes.</td>
</tr>
<tr><td class="WebUISetting">Gain Transition Time</td> <td>15</td>
	<td>(ZWO only) Number of <b>minutes</b> over which to increase or decrease
	the gain when going from day-to-night or night-to-day images.
	This helps smooth brightness differences.
	Only works if nighttime <span class="WebUISetting">Auto-Gain</span> is off.
	<code>0</code> disables transitions.</td>
</tr>
<tr><td class="WebUISetting">Image Width</td> <td>0</td>
	<td><code>0</code> uses the sensor's full width in pixels.
	Otherwise, with <b>ZWO</b> cameras the
	<span class="WebUISetting">Image Width</span> and <span class="WebUISetting">Image Height</span>
	variables set a crop area around the center of the sensor,
	the same as the <span class="shSetting">CROP</span> setting in
	<span class="fileName">config.sh</span>.
	With <b>RPi</b> cameras these variables decrease resolution of the full-sensor image,
	then increases the resolution, thereby negating the changes.
	<b>There is no reason to set the <span class="WebUISetting">Width</span> and
	<span class="WebUISetting">Weight</span> with RPi cameras.</b></td>
</tr>
<tr><td class="WebUISetting">Image Height</td> <td>0</td>
	<td> Same as </span class="WebUISetting">Width</span> but for the sensor's height.</td>
</tr>
<tr><td class="WebUISetting">Image Type</td> <td>auto</td>
	<td>Image format: <b>auto</b>:
	automatically picks the best type of image based on the camera.
	If you have a color camera it will use RGB24; mono cameras use RAW16 if the output file is a .png,
	otherwise RAW8 is used.
	<b>RAW8</b>: 8-bit mono. <b>RGB24</b>: color (red, green, blue), 8 bits per channel.
	<b>RAW16</b>: 16-bit mono.</td>
</tr>
<tr><td class="WebUISetting">Quality</td> <td>95</td>
	<td>For JPG images, this specifies the quality - 0 (low quality) to 100 (high quality).
	Larger numbers produce higher-quality, but larger, files.
	For PNG, this is the amount of compression - 0 for no compression (but quicker to save)
	to 9 for highest compression (but slowest to save).
	If you use very short delays between pictures you may want to play with these
	numbers to ensure the quickest delay possible.</td>
</tr>
<tr><td class="WebUISetting">Mean Threshold</td> <td>Yes</td>
	<td>(RPi only) When using <span class="WebUISetting">Mean Target</span>,
	this specifies how close the target brightness should be to the Target.</td>
</tr>
<tr><td class="WebUISetting">Auto USB Bandwidth</td> <td>Yes</td>
	<td>(ZWO only) Automatically sets the <span class="WebUISetting">USB bandwidth</span>.</td>
</tr>
<tr><td class="WebUISetting">USB Bandwidth</td> <td><span class="cameraDependent">CD</span></td>
	<td>(ZWO only) How much of the USB bandwidth to use.</td>
</tr>
<tr><td class="WebUISetting">Filename (AW)</td> <td>image.jpg</td>
	<td>The name of the image file. Supported extensions are <b>jpg</b> and <b>png</b>.</td>
</tr>
<tr><td class="WebUISetting">Rotation</td> <td>None</td>
	<td>(RPi on Bullseye only) How to rotate the image.
	On <b>Bullseye</b> images can only be rotated 180 degrees.</td>
</tr>
<tr><td class="WebUISetting">Flip</td> <td>No flip</td>
	<td>How to flip the image (No flip, Horizontal, Vertical, or Both).</td>
</tr>
<tr><td class="WebUISetting">Notification Images</td> <td>Yes</td>
	<td>Displays notification images, e.g., "Camera off during day" if daytime images are not being taken.</td>
</tr>
<tr><td class="WebUISetting">Consistent Delays Between Images</td> <td>Yes</td>
	<td>Enable to force the time between the start of exposures to be a consistent length
	(<span class="WebUISetting">Max Auto-Exposure + Delay</span>).</td>
</tr>
<tr><td class="WebUISetting">Latitude (AW)</td> <td></td>
	<td>Latitude of the camera.
	Formats include: 123.4N, 123.4S, 123.4, or -123.4.
	Southern hemisphere is negative.
	</td>
</tr>
<tr><td class="WebUISetting">Longitude (AW)</td> <td></td>
	<td>Longitude of the camera.
	Formats include: 123.4E, 123.4W, 123.4, or -123.4.
	West is negative.
	</td>
</tr>
<tr><td class="WebUISetting">Angle (AW)</td> <td>-6</td>
	<td>Altitude of the Sun above or below the horizon at which daytime and nighttime switch.
	Can be negative (Sun below horizon) or positive (Sun above horizon).
	<ul class="minimalPadding">
	<li><code>0</code> = Sunset
	<li><code>-6</code> = Civil twilight
	<li><code>-12</code> = Nautical twilight
	<li><code>-18</code> = Astronomical twilight
	</ul>
	<a allsky="true" href="/documentation/explanations/angleSunriseSunset.html">Click here</a>
	for a more detailed description of <span class="WebUISetting">Angle</span>.
	</td>
</tr>
<tr><td class="WebUISetting">Take Dark Frames</td> <td>No</td>
	<td>Enable to take dark frames which are use to decrease noise in images.
	<br>
	See <a allsky="true" href="/documentation/explanations/darkFrames.html">this page</a>
	for an in-depth explanation of dark frames, including how to take and use them.
	</td>
</tr>
<tr><td class="WebUISetting">Use Dark Frames</td> <td>No</td>
	<td>Enable to perform dark frame subtraction at night.
	<br>Requires that you first took dark frames using the
	<span class="WebUISetting">Take Dark Frames</span> setting.
	</td>
</tr>
<tr><td class="WebUISetting">Locale</td> <td>en_US.UTF-8</td>
	<td>Your locale, used to determine what the thousands and decimal separators are.
	Type <code>locale</code> at a command prompt to see your choices (use the LC_NUMERIC entry).</td>
</tr>
<tr><td class="WebUISetting">Histogram Box</td> <td>500 500 50 50</td>
	<td>(ZWO only) X and Y size of histogram box in pixels and the middle point of
	the box in percent.
	This box is used to determine the average brightness of the image for auto-exposure
	compensation.
	If the Sun goes through the center of your image you may want to move the box.
	</td>
</tr>
<tr><td class="WebUISetting">Debug Level</td> <td>0</td>
	<td>Determines the amount of output in the log file.
	Log entries can also be viewed with <code>journalctl -u allsky</code>.
	<br><code>0</code> outputs error messages only.
	</td>
</tr>
<tr><td class="WebUISetting">Version 0.8 Exposure</td> <td>Yes</td>
	<td>(ZWO only) Determines if the new version 0.8 exposure method is used (video capture stops between images).
	This decreases the sensor temperature between 5 - 15 degrees Celsius.
	If you see ASI_ERROR_TIMEOUTs in the log file, try turning this off.
	See <a href="https://github.com/thomasjacquin/allsky/issues/417">Issue 417</a>.</td>
</tr>
<tr><td class="WebUISetting">Require WebUI Login</td> <td>Yes</td>
	<td>Determines if you need to log into the WebUI.
	<b>If you Pi is accessible on the Internet, do NOT disable this!!</b></td>
</tr>
<tr><td class="WebUISetting">Always Show Advanced</td> <td>No</td>
	<td>Enable to always show the advanced options,
	which are typically not used very often, so are hidden.</td>
</tr>

<tr><td class="note" colspan="3">Image overlay settings
	<p>See the
	<a allsky="true" href="/documentation/explanations/imageOverlays.html">image overlay</a>
	page for details on the image overlay.
	<br><b>Note, the <u>image overlay</u> is what's embedded in every image;
	the <u>constellation overlay</u> is what's optionally overlayed
	on top of images in the Allsky Website.</b>
	This page only deals with the <u>image overlay</u>.
	</p>
</td></tr>
<tr><td class="WebUISetting">External Overlay</td> <td>No</td>
	<td>Enable to have image overlays added by the new, enhanced external
	<a allsky="true" href="/documentation/overlays/overlays.html">overlay</a> program.
	<br><b>When enabled, the overlay settings below do NOT apply</b>.
	<blockquote>
	This setting will be turned on by default in the next Allsky release,
	and the internal overlay capability, as well as this "Image overlay settings"
	section of the WebUI will be removed.
	</blockquote>
	</td>
</tr>
<tr><td class="WebUISetting">Show Time</td> <td>Yes</td>
	<td>Display the time the picture was taken in the overlay?</td>
</tr>
<tr><td class="WebUISetting">Time Format</td> <td>%Y%m%d %H:%M:%S</td>
	<td>Determines the format of the displayed time.
	Run <code>man 3 strftime</code> to see the options.</td>
</tr>
<tr><td class="WebUISetting">Show Temperature</td> <td>Yes</td>
	<td>(ZWO only) Display the camera sensor temperature in the overlay?</td>
</tr>
<tr><td class="WebUISetting">Temperature Units</td> <td>Celsius</td>
	<td>Determines what unit(s) the temperature will be displayed in (Celsius, Fahrenheit, or Both).</td>
</tr>
<tr><td class="WebUISetting">Show Exposure</td> <td>Yes</td>
	<td>Display the exposure time in the overlay? If <span class="WebUISetting">Auto-Exposure</span> is enabled,
	"(auto)" will appear after the exposure.</td>
</tr>
<tr><td class="WebUISetting">Show Gain</td> <td>Yes</td>
	<td>Display the gain in the overlay? If <span class="WebUISetting">Auto-Gain</span> is enabled,
	"(auto)" will appear after the gain.</td>
</tr>
<tr><td class="WebUISetting">Show Brightness</td> <td>No</td>
	<td>Display the brightness level in the overlay?</td>
</tr>
<tr><td class="WebUISetting">Show USB</td> <td>No</td>
	<td>(ZWO only) Display the USB Bandwidth in the overlay? This is primarily for debugging.</td>
</tr>
<tr><td class="WebUISetting">Show Mean Brightness</td> <td>No</td>
	<td>Display the mean (average) brightness in the overlay?
	This value is used to determine the correct auto-exposure and auto-gain levels.</td>
</tr>
<tr><td class="WebUISetting">Show Histogram Box</td> <td>No</td>
	<td>(ZWO only) Show the histogram box on the image?</td>
</tr>
<tr><td class="WebUISetting">Show Focus Metric</td> <td>No</td>
	<td>Display a focus metric in the overlay to help you focus the camera?
		Higher numbers are better, but only use when the brightness isn't changing.
	</td>
</tr>
<tr><td class="WebUISetting">Text Overlay</td> <td></td>
	<td>Text overlay that appears below the time, in the same font.</td>
</tr>
<tr><td class="WebUISetting">Extra Text File</td> <td></td>
	<td>The full path name to a text file which will be displayed under other information.
	The file can contain multiple lines which will be displayed underneath each other.</td>
</tr>
<tr><td class="WebUISetting">Max Age Of Extra</td> <td>0</td>
	<td>If you specified an <span class="WebUISetting">Extra Text File</span>
	then it must be updated within this number of seconds;
	if not it's contents will not be displayed.
	Set to <code>0</code> to ignore this check and always display the contents of the file.</td>
</tr>
<tr><td class="WebUISetting">Line Height</td> <td>30</td>
	<td>The line height of the text displayed in the image.
	If you change the font size then adjust this value if required.</td>
</tr>
<tr><td class="WebUISetting">Text X</td> <td>15</td>
	<td>Start of text from the left side, in pixels.</td>
</tr>
<tr><td class="WebUISetting">Text Y</td> <td>35</td>
	<td>Start of text from the top, in pixels.</td>
</tr>
<tr><td class="WebUISetting">Font Name</td> <td>Simplex</td>
	<td>Font type for the overlay.</td>
</tr>
<tr><td class="WebUISetting">Font Color</td> <td>255 0 0</td>
	<td>Font color in Blue, Green, and Red (BGR).
	NOTE: When using RAW 16 only the first two values are used, i.e., 255 128 0.</td>
</tr>
<tr><td class="WebUISetting">Small Font Color</td> <td>0 0 255</td>
	<td>Small font color in BGR.
	NOTE: When using RAW 16 only the first two values are used, i.e., 255 128 0.</td>
</tr>
<tr><td class="WebUISetting">Font Smoothness</td> <td>Antialiased</td>
	<td>Controls the smoothness of the fonts.</td>
</tr>
<tr><td class="WebUISetting">Font Size</td> <td>7</td>
	<td>Font size.
	This is impacted by the sensor size so you'll need to experiment with this.</td>
</tr>
<tr><td class="WebUISetting">Font Weight</td> <td>1</td>
	<td>Font line thickness.</td>
</tr>
<tr><td class="WebUISetting">Use Outline Font</td> <td>No</td>
	<td>Should an outline to the text overlay be added to improve contrast?</td>
</tr>

<tr><td class="note" colspan="3">Allsky Map and Website Setting
	<p>
	If you want your allsky camera's location to display on the
	<a href='https://www.thomasjacquin.com/allsky-map'>Allsky map</a>,
	the information in this section will be sent to the map server every other
	morning to ensure it's fresh.
	The server automatically removes old data.
	Note that only a limited number of updates per day are allowed to catch bogus updates.
	</p>
	</td>
</tr>

<tr><td class="WebUISetting">Display Settings</td> <td>No</td>
	<td>People sometimes ask others what settings they are using.
	Enable this setting to add a link to your Allsky Website's popout that displays your
	settings in the WebUI's "Allsky Settings" page.
	<br>Only works if you are running the Allsky Website.</td></tr>
<tr><td class="WebUISetting">Show on Map</td> <td>No</td>
	<td>Enable to have your camera appear on the
	<a href='https://www.thomasjacquin.com/allsky-map'>Allsky map</a>.
	<br><b>If off, the following settings are ignored.</b></td></tr>
<tr><td class="WebUISetting">Website URL</td> <td></td>
	<td>Your website's URL, for example: https://www.thomasjacquin.com/allsky.
	If your camera is not accessible on the Internet or you do not want the
	map page to link to your website, leave this field blank.
	<blockquote>
	If a <span class="WebUISetting">Website URL</span> is specified,
	the <span class="WebUISetting">Image URL</span> must also be specified, and vice versa.
	</blockquote>
	</td></tr>
<tr><td class="WebUISetting">Image URL</td> <td></td>
	<td>The URL to your allsky image, for example: https://wwww.thomasjacquin.com/allsky/image.jpg.
	Right-click on the image and select <i>Copy Image Address</i> to determine what to
	put in this field.
	<br>
	If you have the Allsky Website installed <b>on your Pi</b> and are using its image,
	you may need to set this field to
	<br><span class="fileName">&lt;Pi name&gt;/current/tmp/image.jpg</span> or
	whatever's in the <span class="editorSetting">imageName</span> field of your website's
	<span class="fileName">configuration.js</span> file.
	Be careful of using "http" versus "https", and after enabling
	<span class="WebUISetting">Show On Map</span>, look at the map to ensure you can see your image.
	If your camera is not accessible on the Internet or you do not want the image
	to appear on the map page, leave this field empty.
	However, one of the main purposes of the map is to show pictures from cameras around the world,
	so adding your image URL is <b>strongly</b> encouraged.</td></tr>
<tr><td class="WebUISetting">Location (AW)</td> <td></td>
	<td>The location of your camera.
	You can put any level of detail you want,
	but there's no need to enter the country since it will be obvious by looking at the map.</td></tr>
<tr><td class="WebUISetting">Owner (AW)</td> <td></td>
	<td>The owner of the camera - your name, an association name, an observatory, etc.</td></tr>
<tr><td class="WebUISetting">Camera (AW)</td> <td></td>
	<td>The type and model of your camera, for example: <b>ZWO ASI224MC</b> or <b>RPi HQ</b>.
	This field is required and a default value is set during Allsky installation.</td></tr>
<tr><td class="WebUISetting">Lens (AW)</td> <td></td>
	<td>The lens you're using on your camera, for example: <b>Arecont 1.55</b>.</td></tr>
<tr><td class="WebUISetting">Computer (AW)</td> <td></td>
	<td>The computer runni g your allsky camera, for example: <b>Raspberry Pi 3</b>.
	This field is required and a default value is set during Allsky installation.</td></tr>
<tr><td class="WebUISetting">Latitude &amp; longitude (AW)</td>
	<td></td> <td>These are described above and are
	required for your camera to appear on the Allsky Map.
	<blockquote>
	The actual values are not displayed on the map,
	but users can zoom in to see exactly where the camera is.
	If that bothers you, change their values slightly, but beware that these settings
	are also used to determine when your daytime and nighttime are so changing their
	values too much can impact your daytime/nighttime settings.
	</blockquote>
	</td></tr>

<tr><td class="note" colspan="3">Camera Type</td></tr>

<tr><td class="WebUISetting">Camera Type</td> <td></td>
	<td>The type of camera you are using: ZWO or RPi (which includes the HD and compatible models).
	<br>This is initially set during Allsky installation.
	</td></tr>
<tr><td class="WebUISetting">Camera Model</td> <td></td>
	<td>This read-only field displays the model of camera you are using.
	It is determined automatically based on what camera is connected to your Pi.
	<br>If more than one camera of the specified type is connected, the first one is used.</td></tr>

</tbody>
</table>
</details>


<h2><i class="fa fa-code fa-fw"></i> "Editor" Page</h2>
<details><summary></summary>
<p>
This section lists the settings that are updated in the WebUI's <b>Editor</b> page.
A typical page is below:
</p>
<img allsky="true" src="EditorPage.png" title="Typical Editor page" alt="Editor" border="1" loading="lazy">
<p>
Files that can be edited include <span class="fileName">config.sh</span>,
<span class="fileName">ftp-settings.sh</span>,
and if you have the Allsky Website installed, a local and/or remote
<span class="fileName">configuration.json</span> file.
Further, if you have a <span class="fileName">endOfNight_additionalSteps.sh</span> file,
it can also be edited.
</p>
<p>
The tables below describe the settings in the
<span class="fileName">config.sh</span> and
<span class="fileName">ftp-settings.sh</span> files;
settings in the <span class="fileName">configuration.json</span> files are described in the
<a allsky="true" href="allskyWebsite.html">Allsky Website Settings</a> page.
</p>
<p>
Information on the color scheme used by the Editor is
<a allsky="true" href="EditorColors.html" target="_blank" title="Opens in new tab">here <i class="fa fa-external-link-alt fa-fw"></i></a>.
</p>

<h3>config.sh settings</h3>
<span class="fileName">config.sh</span> lets you configure the overall behavior of Allsky.
<details sub><summary></summary>

<table role="table">
<thead>
<tr><th colspan="3"><span class="fileName">config.sh</span></th></tr>
<tr><th>Setting</th><th>Default</th><th>Description</th></tr>
</thead>
<tbody>

<tr><td class="note" colspan="3">image.jpg Settings</td></tr>

<tr><td class="shSetting">IMG_UPLOAD</td> <td>false</td>
	<td>Upload the current image to a local or remote Allsky Website?
	<br>Ignored if you don't have an Allsky Website.
	</td>
</tr>
<tr><td class="shSetting">IMG_UPLOAD_ORIGINAL_NAME</td> <td>false</td>
	<td>Should the name of the uploaded image be <span class="fileName">image.jpg</span> (if false)
	or <span class="fileName">image-YYYYMMDDHHMMSS.jpg</span> (if true)?
	<br>This is rarely used and is ignored if you don't have an Allsky Website or
	<span class="shSetting">IMG_UPLOAD</span> is false.
	</td>
</tr>
<tr><td class="shSetting">IMG_UPLOAD_FREQUENCY</td> <td>1</td>
	<td>How often should the current image be uploaded?
	This is useful for slow or costly networks.
	<br>This only applies if <span class="shSetting">IMG_UPLOAD</span> is "true".
	</td>
</tr>
<tr><td class="shSetting">IMG_DIR</td> <td>current/tmp</td>
	<td>Location of the image the website will use.
	"current" is an alias for <span class="fileName">/home/pi/allsky</span>.
	<br><b>Only change this if you know what you are doing.</b>
	<br>Ignored if you don't have an Allsky Website.
	</td>
</tr>
<tr><td class="shSetting">IMG_RESIZE</td> <td>false</td>
	<td>Resize images before cropping and stretching?
	Large sensor cameras like the RPi HQ may need to be resized (i.e., shrunken)
	in order for timelapses to work.
	<br>Typically you'll want the
	<span class="shSetting">IMG_WIDTH</span>&nbsp;/&nbsp;<span class="shSetting">IMG_HEIGHT</span>
	ratio to be the same as the sensor's width / height ratio,
	otherwise images will be distorted.</td>
</tr>
<tr><td class="shSetting">IMG_WIDTH</td> <td>1520</td>
	<td>The width of the resized image.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">IMG_HEIGHT</td> <td>2028</td>
	<td>The height of the resized image.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">CROP_IMAGE</td> <td>false</td>
	<td>Crop images before stretching?
	This is often used to remove most of the dark areas when using a fisheye lens.
	The image is cropped from the center so you'll need to experiment with the correct settings.
	Cropped images on the left or top will likely need the
	<span class="WebUISetting">Text X</span> and/or <span class="WebUISetting">Text Y</span>
	WebUI settings changed.</td>
</tr>
<tr><td class="shSetting">CROP_WIDTH</td> <td>640</td>
	<td>The width of the resulting image.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">CROP_HEIGHT</td> <td>480</td>
	<td>The height of the resulting image.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">CROP_OFFSET_X</td> <td>0</td>
	<td>The X offset to use when cropping.
	To move the crop rectangle left, use a negative number.</td>
</tr>
<tr><td class="shSetting">CROP_OFFSET_Y</td> <td>0</td>
	<td>The Y offset to use when cropping.
	To move the crop rectangle up, use a negative number.</td>
</tr>
<tr><td class="shSetting">AUTO_STRETCH</td> <td>false</td>
	<td>Stretch the image?
	This increases the contrast without saturating highlights or shadows.</td>
</tr>
<tr><td class="shSetting">AUTO_STRETCH_AMOUNT</td> <td>10</td>
	<td>How much to increase the contrast. 0 is none, 3 is typical, and 20 is a lot.</td>
</tr>
<tr><td class="shSetting">AUTO_STRETCH_MID_POINT</td> <td>10%</td>
	<td>Where the maximum change "slope" in contrast should fall in the image
	(0% is white; 50% is middle-gray; 100% is black).</td>
</tr>

<tr><td class="shSetting">RESIZE_UPLOADS</td> <td>false</td>
	<td>Resize uploaded pictures?
	<br>You may want images on your Pi to have higher resolution than images
	uploaded to an Allsky Website.
	For example, images from cameras with large sensors won't fit on most monitors
	at full resolution, so huge images in some senses are a waste.
	</td>
</tr>
<tr><td class="shSetting">RESIZE_UPLOADS_SIZE</td> <td>962x720</td>
	<td>Sets the width x height of resized images being uploaded.
	<br>Must be even numbers. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">IMG_CREATE_THUMBNAILS</td> <td>true</td>
	<td>Create thumbnails of the images and save in <span class="fileName">~/allsky/images</span>?
	If you never look at them via the WebUI's "Images" page,
	consider changing this to "false".
	</td>
</tr>
<tr><td class="shSetting">REMOVE_BAD_IMAGES</td> <td>true</td>
	<td>Remove corrupt or too bright/too dark images and their
	thumbnails before generating keograms, startrails, and timelapse videos?
	<br><b>We suggest always leaving this turned on</b>;
	if images are being removed that you want to keep, change the THRESHOLDs below.</td>
</tr>
<tr><td class="shSetting">REMOVE_BAD_IMAGES_THRESHOLD_LOW</td> <td>1</td>
	<td>Images whose mean brightness is below this percent will be removed.
	Set to <code>0</code> to disable this check.
	<br>Only applies if <span class="shSetting">REMOVE_BAD_IMAGES</span> is "true".
	</td>
</tr>
<tr><td class="shSetting">REMOVE_BAD_IMAGES_THRESHOLD_HIGH</td> <td>90</td>
	<td>Images whose mean brightness is above this percent will be removed (max: 100).
	Set to <code>0</code> to disable this check.
	<br>Only applies if <span class="shSetting">REMOVE_BAD_IMAGES</span> is "true".
	</td>
</tr>
<tr><td class="shSetting">CAPTURE_EXTRA_PARAMETERS</td> <td></td>
	<td>Any additional capture parameters.
	Rarely used.
	<br>Run <code>~/allsky/capture_ZWO --help</code> or <code>~/allsky/capture_RPi --help</code>
	for a list of options.
	</td>
</tr>

<tr><td class="note" colspan="3">Timelapse Settings</td></tr>

<tr><td class="shSetting">TIMELAPSE</td> <td>true</td>
	<td>Build a timelapse video at the end of the night?</td>
</tr>
<tr><td class="shSetting">TIMELAPSEWIDTH</td> <td>0</td>
	<td>Override the width of the generated timelapse; must be an even number.
	<br><code>0</code> uses the images's full size.
	<br>Large sensor cameras like the RPi HQ often need the timelapse to be shrunk
	in order for timelapses to work (or the individual images need to be shrunk).
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSEHEIGHT</td> <td>0</td>
	<td>Override the height of the generated timelapse; must be an even number.
	<br><code>0</code> uses the images's full size.
	<br>If you change the width and height you'll probably want the resulting aspect ratio
	to match the original images.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_BITRATE</td> <td>2000k</td>
	<td>Bitrate the timelapse video will be created with.
	Higher values produce better quality video but larger files.
	<br>Be sure to include the trailing <code>k</code>.</td>
</tr>
<tr><td class="shSetting">FPS</td> <td>25</td>
	<td>The timelapse video
	<span class="shSetting">F</span>rames
	<span class="shSetting">P</span>er
	<span class="shSetting">S</span>econd.
	<br>Higher numbers produce smoother, but shorter, videos.
	</td>
</tr>
<tr><td class="shSetting">VCODEC</td> <td>libx264</td>
	<td>Encoder used to create the timelapse video.
	Rarely changed.
	</td>
</tr>
<tr><td class="shSetting">PIX_FMT</td> <td>yuv420p</td>
	<td>Pixel format.
	<br>If you don't know what this is, don't change it.
	</td>
</tr>
<tr><td class="shSetting">FFLOG</td> <td>warning</td>
	<td>Level of debugging information output when creating a timelapse.
	Set to <code>info</code> for more output.</td>
</tr>
<tr><td class="shSetting">KEEP_SEQUENCE</td> <td>false</td>
	<td>Keep the sequence of symbolic links created when creating a timelapse?
	<br>Primarily used when debugging.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_EXTRA_PARAMETERS</td> <td></td>
	<td>Any additional timelapse parameters. Run <code>ffmpeg -?</code> to see the options.</td>
</tr>
<tr><td class="shSetting">UPLOAD_VIDEO</td> <td>false</td>
	<td>Upload the timelapse video to your Allsky Website?</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_UPLOAD_THUMBNAIL</td> <td>false</td>
	<td>Upload the timelapse video's thumbnail to your Allsky Website?
	Many remote servers don't support thumbnail creation so the thumbnail needs to be
	created on the Pi and uploaded.
	<br>Not needed if your only Allsky Website is on your Pi.
	</td>
</tr>

<tr><td class="note" colspan="3">Mini Timelapse Settings</td></tr>

<tr><td class="shSetting">TIMELAPSE_MINI_IMAGES</td> <td>0</td>
	<td>A "mini" timelapse only includes the most recent images,
	and is created often.
	It's a good way to see "recent" activity.
	This setting determines the number of images in the mini timelapse.
	Keep in mind the more images you have the longer it'll take to create the video.
	10&nbsp;-&nbsp;15 is a good starting point.
	<br><b>Note that each mini timelapse overwrites the prior one.</b>
	<br>The following settings only apply if this settings is greater than 0.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_FREQUENCY</td> <td>5</td>
	<td>After how many images should the mini timelapse be created?
	Slower machines and machines with slow networks should use higher numbers.
	3&nbsp;-&nbsp;5 works well on a Pi 4 with 4 GB memory.
	<br>Every <span class="shSetting">TIMELAPSE_MINI_FREQUENCY</span> images a new
	mini timelapse is created using the last
	<span class="shSetting">TIMELAPSE_MINI_IMAGES</span> images.
	For example, every 5 frames a new mini timelapse is created using the most recent 15 images.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_UPLOAD_VIDEO</td> <td>true</td>
	<td>Like <span class="shSetting">UPLOAD_VIDEO</span> but for mini timelapses.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_UPLOAD_THUMBNAIL</td> <td>true</td>
	<td>Like <span class="shSetting">TIMELAPSE_UPLOAD_THUMBNAIL</span> but for mini timelapses.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_FPS</td> <td>2</td>
	<td>Like <span class="shSetting">FPS</span> but for mini timelapses.
	<br>Since mini timelapses contain a very small number of images,
	this setting should be small to avoid very short videos.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_BITRATE</td> <td>1000k</td>
	<td>Like <span class="shSetting">TIMELAPSE_BITRATE</span> but for mini timelapses.
	<br>This is normally smaller than a full timelapse to save on processing time.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_WIDTH</td> <td>1014</td>
	<td>Like <span class="shSetting">TIMELAPSEWIDTH</span> but for mini timelapses.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>
<tr><td class="shSetting">TIMELAPSE_MINI_HEIGHT</td> <td>760</td>
	<td>Like <span class="shSetting">TIMELAPSEHEIGHT</span> but for mini timelapses.
	<br>Must be an even number. The default is just an example.
	</td>
</tr>

<tr><td class="note" colspan="3">Keogram Settings</td></tr>

<tr><td class="shSetting">KEOGRAM</td> <td>true</td>
	<td>Build a keogram image at the end of the night?</td>
</tr>
<tr><td class="shSetting">KEOGRAM_EXTRA_PARAMETERS</td> <td>various</td>
	<td>Additional keogram parameters. Execute <code>~/allsky/keogram --help</code> for a list.</td>
</tr>
<tr><td class="shSetting">UPLOAD_KEOGRAM</td> <td>false</td>
	<td>Upload the keogram image to your Allsky Website?</td>
</tr>

<tr><td class="note" colspan="3">Startrails Settings</td></tr>

<tr><td class="shSetting">STARTRAILS</td> <td>true</td>
	<td>Build a startrail image at the end of the night?</td>
</tr>
<tr><td class="shSetting">BRIGHTNESS_THRESHOLD</td> <td>0.1</td>
	<td>Average brightness level above which images are discarded (moon, head lights, aurora, etc.).
	If you are only getting very short trails, or none at all, adjust this number.
	<br>Values are 0.0 (pure black, filters out nothing) to 1.0 (pure white, uses every image).
	</td>
</tr>
<tr><td class="shSetting">UPLOAD_STARTRAILS</td> <td>false</td>
	<td>Upload the startrails image to your Allsky Website?</td>
</tr>

<tr><td class="note" colspan="3">Other Settings</td></tr>

<tr><td class="shSetting">THUMBNAIL_SIZE_X</td> <td>100</td>
	<td>Sets the width of thumbnails.</td>
</tr>
<tr><td class="shSetting">THUMBNAIL_SIZE_Y</td> <td>75</td>
	<td>Sets the height of thumbnails.
	<br>These numbers determine the size of the thumbnails in
	<span class="fileName">~/allsky/images</span>
	as well as any thumbnails created by the Allsky Website.
	<blockquote>Although changing these will change the size of the thumbnails,
	no testing has been done to see if there are negative side effects.</blockquote>
	</td>
</tr>

<tr><td class="shSetting">DAYS_TO_KEEP</td> <td>14</td>
	<td>Number of days' data to keep before starting deleting.
	Set to blank ("") to keep ALL days' data.</td>
</tr>
<tr><td class="shSetting">WEB_DAYS_TO_KEEP</td> <td>28</td>
	<td>Number of days' of web data to keep before starting deleting.
	Set to blank ("") to keep ALL days' web data.
	<blockquote>This only applies to Allsky Websites on the Pi.</blockquote>
	</td>
</tr>
<tr><td class="shSetting">POST_END_OF_NIGHT_DATA</td> <td>false</td>
	<td>Send data to your Allsky Website at the end of each night?
	Installing the Allsky Websit automatically sets this to "true".
	</td>
</tr>
<tr><td class="shSetting">WEBUI_DATA_FILES</td> <td></td>
	<td>One or more colon-separated full path names to text files that contain user-supplied
	data to display on the WebUI's <b>System</b> page.
	See the <a href="#WEBUI_DATA_FILES">WEBUI_DATA_FILES section</a> for more
	information and an example of this setting.</td>
</tr>
<tr><td class="shSetting">UHUBCTL_PATH</td> <td></td>
	<td>If you have the <code>uhubctl</code> command installed enter its path name.
	<code>uhubctl</code> resets the USB bus and can sometimes eliminate ASI_ERROR_TIMEOUTs.</td>
</tr>
<tr><td class="shSetting">UHUBCTL_PORT</td> <td>2</td>
	<td>Enter the USB port the camera is on.
	Port 1 is USB 2.0 and port 2 is USB 3.0 on a Pi 4.</td>
</tr>

<tr><td class="note" colspan="3">Do not change anything lower in the file</td></tr>
</tbody>
</table>
</details>

<br>
<h3>ftp-settings.sh settings</h3>
<p>
In order to upload files to your Allsky Website (on the Pi and/or a remote server),
connection details must be specified in <span class="fileName">ftp-settings.sh</span>.
</p>

<details sub><summary></summary>
<p>
The <span class="shSetting">WEB_*_DIR</span>
 variables below are optionally used to copy a file to an Allsky Website on the Pi
<b>AND</b> upload it to a remote Allsky Website.
</p>
<p>
In the table below, "remote" refers to a location that's not on the Pi
(which may be an Allsky Website or simply a directory on another server),
and "local" refers to an Allsky Website on the Pi.
</p>

<blockquote><b>YOU</b> must create the remote directories.
Directories on the Pi are created during Allsky Website installation.
</blockquote>

<table role="table">
<thead>
<tr><th colspan="3"><span class="fileName">ftp-settings.sh</span></th></tr>
<tr><th>Configuration</th><th>Default</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td class="shSetting">PROTOCOL</td> <td></td>
	<td>How the file should be uploaded:
	<ul class="minimalPadding">
	<li><code>local</code> - copies the file to the local Allsky Website.
	<li><code>ftp</code> - uses File Transfer Protocol (FTP) to upload to a remote server.
	<li><code>ftps</code> - uses secure File Transfer Protocol (FTPs) to upload to a remote server.
		<b>This is preferred over the insecure <code>ftp</code></b>.
	<li><code>sftp</code> - uses SSH file transfer to upload to a remote server.
	<li><code>scp</code> - uses secure cp (copy) to copy the file to a remote server.
	<li><code>S3</code> - copies the file to an Amazon Web Services (AWS) server.
	<li><code>gcs</code> - copies the file to a Google Cloud Storage (GCS) server.
	</ul>
	</td>
</tr>

<tr><td class="note" colspan="3">image.jpg Settings</td></tr>
<tr><td class="shSetting">IMAGE_DIR</td> <td></td>
	<td>The remote directory where the current image should go.</td>
</tr>
<tr><td class="shSetting">WEB_IMAGE_DIR</td> <td></td>
	<td>The local directory where the current image should go.</td>
</tr>

<tr><td class="note" colspan="3">Timelapse Settings</td></tr>
<tr><td class="shSetting">VIDEOS_DIR</td> <td></td>
	<td>The remote directory where the timelapse video should go.</td>
</tr>
<tr><td class="shSetting">VIDEOS_DESTINATION_NAME</td> <td></td>
	<td>Remote name of the timelapse video file.
	If not specified it's the same name as the file being uploaded.</td>
</tr>
<tr><td class="shSetting">WEB_VIDEOS_DIR</td> <td></td>
	<td>Location on the Pi to copy the timelapse video to.</td>
</tr>

<tr><td class="note" colspan="3">Keogram Settings</td></tr>
<tr><td class="shSetting">KEOGRAM_DIR</td> <td></td>
	<td>The remote directory where the keogram image should go.</td>
</tr>
<tr><td class="shSetting">KEOGRAM_DESTINATION_NAME</td> <td></td>
	<td>Remote name of the keogram image file.
	If not specified it's the same name as the file being uploaded.</td>
</tr>
<tr><td class="shSetting">WEB_KEOGRAM_DIR</td> <td></td>
	<td>Location on the Pi to copy the keogram file to.</td>
</tr>

<tr><td class="note" colspan="3">Startrails Settings</td></tr>
<tr><td class="shSetting">STARTRAILS_DIR</td> <td></td>
	<td>The remote directory where the startrails image should go.</td>
</tr>
<tr><td class="shSetting">STARTRAILS_DESTINATION_NAME</td> <td></td>
	<td>Remote name of the startrails file.
	If not specified it's the same name as the file being uploaded.</td>
</tr>
<tr><td class="shSetting">WEB_STARTRAILS_DIR</td> <td></td>
	<td>Location on the Pi to copy the startrails file to.</td>
</tr>

<tr><td class="note" colspan="3">Other Settings</td></tr>
<tr><td class="shSetting">REMOTE_HOST</td> <td></td>
	<td>Remote server DNS name or IP address.</td>
</tr>
<tr><td class="shSetting">REMOTE_USER</td> <td></td>
	<td>Your remote user name.</td>
</tr>
<tr><td class="shSetting">REMOTE_PASSWORD</td> <td></td>
	<td>Your ftp / ftps / sftp password.</td>
</tr>
<tr><td class="shSetting">REMOTE_PORT</td> <td></td>
	<td>An optional port number for <code>lftp</code>. Is rarely needed.</td>
</tr>
<tr><td class="shSetting">LFTP_COMMANDS</td> <td></td>
	<td>An optional colon-separated (;) list of commands needed by the <code>lftp</code> command.
	See <a allsky="true" href="/documentation/troubleshooting/uploads.html">this page</a>
	for example commands to enter into <span class="shSetting">LFTP_COMMANDS</span>.
	</td>
</tr>

<tr><td class="note" colspan="3">scp Settings</td></tr>
<tr><td class="shSetting">SSH_KEY_FILE</td> <td></td>
	<td>Path to the SSH key file</td>
</tr>

<tr><td class="note" colspan="3">S3 Settings</td></tr>
<tr><td colspan="3">
	You need to install the AWS Command-Line Interface (CLI):
	<pre>
	sudo apt-get install python3-pip
	pip3 install awscli --upgrade --user
	export PATH=/home/pi/.local/bin:$PATH
	aws configure</pre>
	When prompted, enter a valid access key ID, Secret Access Key, and Default region name,
	for example, (e.g. "us-west-2").  Set the Default output format to "json" when prompted.
	</td>
</tr>
<tr><td class="shSetting">AWS_CLI_DIR</td> <td>/home/pi/.local/bin</td>
	<td>Directory on the Pi where the AWS tools are installed.
	<br>If you used a different PATH variable above, change this setting to match it.
	</td>
</tr>
<tr><td class="shSetting">S3_BUCKET</td> <td>allskybucket</td>
	<td>Name of S3 Bucket where the files will be uploaded
	(must be in Default region specified above).</td>
</tr>
<tr><td class="shSetting">S3_ACL</td> <td>private</td>
	<td>S3 Access Control List.
	If you want to serve your uploaded files vis http(s), change this to "public-read".
	You will need to ensure the S3 bucket policy is configured to allow public access to
	objects with a public-read ACL.
	<br>You may need to set a CORS policy in S3 if the files are to be accessed by
	Javascript from a different domain.
	</td>
</tr>

<tr><td class="note" colspan="3">GCS Settings</td></tr>
<tr><td class="shSetting">GCS_BUCKET</td> <td>allskybucket</td>
	<td>Name of S3 Bucket where the files will be uploaded.</td>
</tr>
<tr><td class="shSetting">GCS_ACL</td> <td>private</td>
	<td>GCS Access Control List.
	You can use any one of the predefined acl rules found
	<a href="https://cloud.google.com/storage/docs/access-control/lists#predefined-acl">here</a>.
	To access files over https, set this to "publicRead".
	</td>
</tr>
</tbody>
</table>

<br>
If you have the Allsky Website <b>only</b> on your Pi, set these variables:
<pre>
PROTOCOL="local"
IMAGE_DIR=""
VIDEOS_DIR="/home/pi/allsky/html/allsky/videos"
KEOGRAM_DIR="/home/pi/allsky/html/allsky/keograms"
STARTRAILS_DIR="/home/pi/allsky/html/allsky/startrails"
</pre>

<br>
If you are using SSH Key with Amazon's Lightsail,
copy the <span class="fileName">ssh-key.pem.pem</span> file to your Pi,
for example, in <span class="fileName">~</span>,
then execute <code>chmod 400 ~/ssh-key.pem</code> and set these variables:
<pre>
PROTOCOL="sftp"
REMOTE_HOST="remote host name"
REMOTE_USER="remote user name"
REMOTE_PASSWORD="n/a"
LFTP_COMMANDS="set sftp:connect-program 'ssh -a -x -i /home/pi/ssh-key.pem'"
</pre>
</details>
</details>


<h2>WEBUI_DATA_FILES tutorial</h2>
<details><summary></summary>

<p>
The <span class="WebUISetting">WEBUI_DATA_FILES</span> setting in
<span class="fileName">config.sh</span>
allows you to specify a list of file names that contain information and buttons to add to the WebUI <b>System</b> page.
The data can be anything you want, but often contains weather and/or fan data.
</p>
<blockquote>
<b>You</b> need to provide script(s) to create file(s) in the format specified below.
</blockquote>
This tutorial assumes you are familiar with writing scripts;
if so, the changes needed to implement WEBUI_DATA_FILES are very easy, despite the length of this tutorial.

<p>
Each file listed in the <span class="WebUISetting">WEBUI_DATA_FILES</span>
variable contains one or more lines.
Blank lines and lines that begin with <code>#</code> are ignored.
The remaining lines must contain the fields listed in the tables below,
separated by <b>tabs</b>.
Each of these lines has its own entry on the <b>System</b> page.
</p>

<p>
There are three types of lines in a data file.
The first word of a line determines what type of line it is:
<ol>
<li><b>data</b> lines specify basic, two-column information that goes before the first progress bar.
	These lines are good when the data has no associated status, for example,
	a simple on/off value, like:
	<br><code>Dew heater: &nbsp; &nbsp; on</code>.
<li><b>progress</b> lines display as progress bars like the CPU temperature bar
	on the <b>System</b> page.
	Your bars go after the last system-supplied progress bar and are good when
	the data has an associated status, for example, when the CPU is too hot its bar turns red.
<li><b>button</b> lines add a button to the page under the last system-supplied button,
	and are used to initiate an action like turning a dew heater on.
</ol>
</p>

The fields for each line type are described in the tables below.
<ol>
<li>The first table column lists the purpose of the field.
<li>The second column lists the type of data the field contains.
<li>The third column describes the field.
<li>The fourth column states whether or not the field <i>typically</i>
changes when the data is updated.
</ol>

<table role="table">
<thead>
<tr><th>"data" Fields</th>
	<th>Field Type</th>
	<th>Description</th>
	<th>Typically Changes</th></tr>
</thead>
<tbody>
<tr><td><b>type</b></td>
	<td>text</td>
	<td>Must be <b>data</b>. Defines the line type.</td>
	<td>Never.</td>
</tr>
<tr><td><b>timeout</b></td>
	<td>integer</td>
	<td>Number of seconds after the data file was created that the data should expire.
	<code>0</code> disables the check.
	Expired data is displayed in red with "(EXPIRED)" appended to the label.</td>
	<td>No.</td>
</tr>
<tr><td><b>label</b></td>
	<td>text</td>
	<td>The name for this data, for example: <code>Ambient temperature</code>.</td>
	<td>No.</td>
</tr>
<tr><td><b>data</b></td>
	<td>text</td>
	<td>The actual data - what should appear in the second column on the web page.
	For example, for "20 C".</td>
	<td>Yes - every time new data is written to the file.</td>
</tr>
</tbody>
</table>

&nbsp;

<table role="table">
<thead>
<tr><th>"progress" Fields</th>
	<th>Field Type</th>
	<th>Description</th>
	<th>Typically Changes</th></tr>
</thead>
<tbody>
<tr><td><b>type</b></td>
	<td>text</td>
	<td>Must be <b>progress</b>.</td>
	<td>Never.</td>
</tr>
<tr><td><b>timeout</b></td>
	<td>integer</td>
	<td>Number of seconds after the data file was created that the data should expire.
		<code>0</code> disables the check. Expired data is displayed in red with
		"(EXPIRED)" appended to the label.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>label</b></td>
	<td>text</td>
	<td>The name for this data, for example: "Dew point".</td>
	<td>No.</td>
</tr>
<tr><td><b>data</b></td>
	<td>text</td>
	<td>The actual data to appear in the progress bar.
		Typically a number followed by an optional unit specifier,
		for example, "20 C" for temperature, but could be any text.
	</td>
	<td>Yes - every time new data is written to the file.</td>
</tr>
<tr><td><b>minimum value</b></td>
	<td>integer</td>
	<td>The minimum possible value of <b>current value</b>; often <code>0</code>,
		but for a temperature will usually be negative.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>current value</b></td>
	<td>integer</td>
	<td>The current value of the data.
		This determines how wide the progress bar is.
		Will typically be the same as <b>data</b> without the unit specifier, for example, "20".
		This value should be between <b>minimum value</b> and <b>maximum value</b> inclusive.
	</td>
	<td>Yes - every time new data is written to the file.</td>
</tr>
<tr><td><b>maximum value</b></td>
	<td>integer</td>
	<td>The maximum possible value of <b>current value</b>; often <code>100</code>,
		especially for percents.
		For a temperature, use the highest value you expect the temperature to be.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>danger</b></td>
	<td>integer</td>
	<td>A <b>current value</b> greater than or equal to the <b>danger</b>
		value causes the progress bar to turn red.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>warning</b></td>
	<td>integer</td>
	<td>A <b>current value</b> greater than or equal to the <b>warning</b>
		value and less than the <b>danger</b> value causes the progress bar to turn amber.
		The progress bar will be green for any value less than <b>warning</b>.
	</td>
	<td>No.</td>
</tr>
</tbody>
</table>

&nbsp;

<table role="table">
<thead>
<tr><th>"button" Fields</th>
	<th>Field Type</th>
	<th>Description</th>
	<th>Typically Changes</th>
</tr>
</thead>
<tbody>
<tr><td><b>type</b></td>
	<td>text</td>
	<td>Must be <b>button</b>.</td>
	<td>Never.</td>
</tr>
<tr><td><b>message</b></td>
	<td>text</td>
	<td>An optional status message that should appear near the top of the page after the
		button is pressed and the button command was successful.
		For example, "Dew heater turned on".
		If not successful an error message is displayed containing any output from the command.
		Use <code>-</code> to indicate no message should be displayed on success
		(error messages will still be displayed).
	</td>
	<td>No.</td>
</tr>
<tr><td><b>command</b></td>
	<td>text</td>
	<td>The program that should be executed when the button is pressed.
		For example, <span class="fileName">/home/pi/turn_on_dew_heater.sh</span>.
		If needed you can prepend <code>sudo<code> to the command.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>button color</b></td>
	<td>text</td>
	<td>The button's color.
		Choices are: red, green, blue, yellow, cyan, white, and black.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>FA icon</b></td>
	<td>text</td>
	<td>The Fonts Awesome (FA) icon on the button.
		For example, the right-facing triangle on the "Start allsky" button has an
		FA icon of "play".
		If you don't want an icon on the button, enter <code>-</code>.
	</td>
	<td>No.</td>
</tr>
<tr><td><b>button label</b></td>
	<td>text</td>
	<td>What should appear on the button face, for example, "Enable dew heater".</td>
	<td>No.</td>
</tr>
</tbody>
</table>


<h3>Example</h3>
Let's assume you have a weather station that provides the ambient temperature, humidity, and dew point, and the dome over your camera has a dew heater.

You wrote a script called <span class="fileName">/home/pi/weather/getWeatherData.sh</span>
that polls the weather station and writes the ambient temperature, humidity,
and dew point to a file called <span class="fileName">/home/pi/weather/weatherdata.txt</span>
every minute.
You must manually turn the dew heater on and off via a Python script called
<span class="fileName">/home/pi/dewheater/toggleDewHeater.py</span>.
The <span class="fileName">toggleDewHeater.ph</span>
command toggles the status of the dew heater and writes the
new status (either "on" or "off") to
<span class="fileName">/home/pi/dewheater/status.txt</span> whenever you call the program.

<p>
To get all this working, follow the steps below:
</p>

<h4>Determine what data you want to display.</h4>
You want to display the temperature, humidity, dew point, and dew heater status.
You will use both the humidity and dew point numbers to determine if you should turn the dew heater on or off via a toggle button you will add to the web page.
You want the ambient temperature in Celsius and Fahrenheit.
<p>
You will add the following to the WebUI's <b>System</b> page:
<ul>
<li>temperature
<li>humidity
<li>dew point
<li>dew heater status
<li>a button to toggle the dew heater on/off
</ul>
</p>

<h4>Determine what you want to call the items</h4>
This is pretty easy.
You will set the <b>label</b> fields for the temperature, humidity, dew point, and dew heater status to "Ambient temperature", "Humidity", "Dew point", and "Dew heater status" respectively.
The dew heater toggle button will have a <b>button label</b> of "Toggle dew heater".

<h3>Determine how you want the data displayed</h3>
The temperature is just a number with no "good" or "bad" value so you will display it as "data".
<p>
Although the dew point is also just a number, you want to highlight it when it's getting close to the ambient temperature so you'll know it's possible for dew to form.
Hence, you'll display it as a "progress" bar.
</p>
<p>
If the humidity gets too high you want to call attention to it, so you'll display it as a "progress" bar.
</p>
<p>
The dew heater toggle switch will be a "button".
</p>

<h4>Determine expiration timeout</h4>
If the weather data gets too old it may fool you into turning the dew heater off when it should remain on, so you want its data to expire.
Your weather station provides new data every minute.
If it misses a minute or two you don't want the data on the <b>System</b> page to turn red, so you will set the temperature and dew point <b>timeout</b> fields to 300 (5 minutes).
Just for fun you will set the humidity <b>timeout</b> value to 600 (10 minutes).

<p>
The dew heater status information doesn't change unless you manually turn it on or off, so you don't want it's status to expire, hence will use 0 for its <b>timeout</b> value.
</p>

<p>
Timeout values don't apply to buttons.
</p>

<h4>For "progress" bars, determine the "danger" and "warning" cutoffs and "minimum value" and "maximum value"</h4>
You've noticed that when the humidity gets above 90% you get dew on the inside of the dome,
so you will set the dew heater <b>danger</b> value to 85.
You aren't sure what to use for the <b>warning</b> value so you'll initially set it to 75,
and will adjust it later if needed.
By definition humidity ranges from 0% to 100% so use 0 and 100 for its
<b>minimum value</b> and <b>maximum value</b> respectively.

<p>
The cutoffs for the dew point will vary based on the temperature so will require some logic in
<span class="fileName">getWeatherData.sh</span>.
Let's say you decide to set the dew point <b>danger</b> cutoff to be 90% <i>of the ambient temperature</i>,
and the <b>warning</b> cutoff to be 80%.
This means if the ambient temperature is 20 C, the dew point <b>danger</b> cutoff would be
18 C (20 * 0.9) and the <b>warning</b> cutoff would be 16 C (20 * 0.8).
You aren't interested in dew point values significantly less than the ambient temperature since
the chance of dew in those cases is almost zero, so you'll set the dew point <b>minimum value</b>
to the ambient temperature minus 5 degrees.
Likewise, you aren't interested in dew point values significantly greater than the
ambient temperature since it's almost certain there will be dew, so you'll set the <b>maximum value</b>
to the dew point <b>danger</b> value plus 3 degrees.
This in effect sets the left side of the progress bar to be (ambient - 5) and the
right side of the bar to be (<b>danger</b> + 3).
<br>[This may be confusing now, but will clear up when you see what it
looks like and play around with different values.]
</p>

<p>
The other items are of type "data" and "button" so this step doesn't apply to them.
</p>

<h4>Determine what button(s) should look like</h4>
You like green so will make the dew heater toggle button green by specifying its <b>button color</b> as "green".
<p>
You want an icon on the button since the other buttons have icons,
so you go to the <a href="https://fontawesome.com/v4/icons/">Font Awesome</a>
web page to look for an icon (Allsky uses Font Awesome version 4.7).
You pick the "random" icon so will set the button's <b>FA icon</b> field to <code>random</code>.
</p>

<a name="WEBUI_DATA_FILES">
<h4>Modify the <code>WEBUI_DATA_FILES</code> variable</h4>
You need to enter the names of your files in the
<span class="WebUISetting">WEBUI_DATA_FILES</span> variable of the
<span class="fileName">config.sh</span> file,
but how many files should you have?
You could put everything in one file but you have two scripts that create files
and would need to coordinate between them so they don't overwrite each other.
You decide on three data files - one with the weather data, one with the dew heater status,
and one with the dew heater button information.
You could have put the button information in the first or second file,
but to simplify the <span class="fileName">toggleDewHeater.ph</span>
script you put it in a 3rd file that will never change.
You call the 3rd file <span class="fileName">/home/pi/dewheater/button.txt</span>.
<p>
This is what you use:
<code>
WEBUI_DATA_FILES="/home/pi/weather/weatherdata.txt:/home/pi/dewheater/status.txt:/home/pi/dewheater/button.txt
</code>
</p>
<blockquote>The file names must be full path names and must be separated by colons (":").</blockquote>

The "data", "progress", and "button" lines in the first file will come first on the <b>System</b> page;
those in the second file will come second on the <b>System</b> page, etc.
You can change the order items appear on the <b>System</b> page by changing the order of files in the
<span class="WebUISetting">WEBUI_DATA_FILES</span> variable.

<h4>Create/modify scripts to update the data file(s)</h4>
The <span class="fileName">getWeatherData.sh</span>
script needs to write the three weather "data" lines to
<span class="fileName">/home/pi/weather/weatherdata.txt</span>.
It helps if you have the script create header lines in the output file so you remember what field is what.

<p>
The program's logic would be:
<ol>
<li>Get the data from the hardware.
<li>Optionally write the "data" header line to
<span class="fileName">/home/pi/weather/weatherdata.txt</span>.
<li>Calculate the Fahrenheit ambient temperature based on the Celsius value returned by the hardware.
<li>Append the Ambient temperature "data" line to the file.
<li>Optionally append the "progress" header line to the file.
<li>Calculate new <b>danger</b>, <b>warning</b>, <b>minimum value</b>,
	and <b>maximum value</b> numbers for the Dew point based on the ambient temperature.
<li>Append the Dew point "progress" line to the file.
<li>Append the Humidity "progress" line to the file.
<li>Wait for the next update from the hardware, then go back to step 1.
</ol>
</p>

Using the decisions you made above,
the <span class="fileName">/home/pi/weather/weatherdata.txt</span> would look like the following,
assuming the temperature was 20 C, the dew point was 17 C, and the humidity was 87%.
<code>
# Type	  Timeout  Label                 Data
data	  300      Ambient temperature	20 C (68 F)

# Type	  Timeout  Label                 Data    Min   Current  Max  Danger  Warning
progress  300      Dew point             17 C    12    17       21   18      16
progress  600      Humidity              87%     0     87       100  85      75
</code>
Note all fields are separated by <b>tabs</b>.
The header lines (which are ignored since they begin with "#") can be in any format,
so to make it easier to make sure you have the correct fields you added multiple
spaces between their columns to line them up with the data fields below.

<p>
The <span class="fileName">toggleDewHeater.py</span> program needs to write
the "data" line for the dew heater
status to <span class="fileName">/home/pi/dewheater/status.txt</span> every time it is executed.
Its logic is:
<ol>
<li>Get the dew heater status from the hardware.
<li>Toggle the status.
<li>Optionally write the "data" header line to
<span class="fileName">/home/pi/dewheater/status.txt</span>.
<li>Append the new dew heater status "data" line to the file.
<li>Output "Dew heater turned on" or "Dew heater turned off".
<li>Exit.
</ol>
</p>

The <span class="fileName">/home/pi/dewheater/status.txt</span>
file will look like the following after clicking the button,
assuming the dew heater is currently off.

<code>
# Type	  Timeout  Label                 Data
data	  0        Dew heater status     on
</code>

Since the toggle button won't change, create the
<span class="fileName">/home/pi/dewheater/button.txt</span> file manually:
<code>
# Type    message  command                                 Color   FA icon  Button  Label
button    -        /home/pi/dewheater/toggleDewHeater.py   green   random	Toggle  dew heater
</code>
Notice the <b>message</b> field is "-" which means there's no message to display on success.
This is because the <span class="fileName">toggleDewHeater.py</span>
command outputs "Dew heater turned on"
or "Dew heater turned off", and that output is displayed as a message.
Remember that if <span class="fileName">toggleDewHeater.py</span> exits with a failure
(i.e., a non-0 exit code)
any error message it outputs will be displayed as an error message on the web page so you
should make sure those error messages are useful.

<p>
When you press the "Toggle dew heater" button or call
<span class="fileName">toggleDewHeater.py</span> from the command line,
it will update the <span class="fileName">/home/pi/dewheater/status.txt</span>
file by changing the "off" to "on" or vice versa.
The rest of the file remains the same.
</p>

<blockquote>Commands listed in a button's <b>command</b> field must be executable by the
web server running as group <b>www-data</b>, and must be in a directory that web server has permissions to get to.
<span class="fileName">chmod g+x /home/pi/dewheater/toggleDewHeater.py</span>
will fix permissions on the command.
</blockquote>

<h4>Test, test, test. Then test some more.</h4>
To get a feel for what things look like and how the above actually works,
copy/paste the above file examples to
<span class="fileName">/home/pi/weather/weatherdata.txt</span>,
<span class="fileName">/home/pi/dewheater/status.txt</span>,
and <span class="fileName">/home/pi/dewheater/button.txt</span> files on your Pi.
Then add
<code>
WEBUI_DATA_FILES="/home/pi/weather/weatherdata.txt:/home/pi/dewheater/status.txt
</code>
to <span class="fileName">config.sh</span> via the WebUI's <b>Editor</b> page.
Now, go to the <b>System</b> page in the WebUI and in addition to the normal information you should see the items you added.
Refreshing the screen won't change those items since the data files are not being updated yet.

<p>
Clicking the "Toggle dew heater" button should display a red message at the top of the web page that says "'/home/pi/dewheater/toggleDewHeater.py' failed: sh: 1: /home/pi/dewheater/toggleDewHeater.py: not found".
That's the output when the web page tried to execute '/home/pi/dewheater/toggleDewHeater.py' which doesn't exist.
</p>

<p>
Try making changes to the three files you created.
For example, change the <b>command</b> for the button to "echo Hello, world!".
When you next click on the button you should see a green message at the top saying "Hello, world!".
Now change it to "echo Hello, world!; exit 1".
What happens now?
</p>

After you understand what's happening and why, start modifying your script(s) to put your own data into the required format.

<h4>Tips</h4>
To see what the button colors look like, add the following lines to
<span class="fileName">/home/pi/dewheater/button.txt</span>:
<pre>
button	-	/home/pi/dewheater/toggleDewHeater.py	red     random	red
button	-	/home/pi/dewheater/toggleDewHeater.py	green   random	green
button	-	/home/pi/dewheater/toggleDewHeater.py	blue    random	blue
button	-	/home/pi/dewheater/toggleDewHeater.py	yellow  random	yellow
button	-	/home/pi/dewheater/toggleDewHeater.py	cyan    random	cyan
button	-	/home/pi/dewheater/toggleDewHeater.py	white   random	white
button	-	/home/pi/dewheater/toggleDewHeater.py	black   random	black
</pre>

<h4>Troubleshooting</h4>
If you get a message about the first field needing to be "data", "progress",
or "button" but those words ARE at the beginning of a line,
the fields probably aren't separated by tabs.
If you get a message saying you don't have the correct number of fields, count them to verify,
and make sure the fields are separated by tabs, not spaces.

</details>


<h2>[MORE TO COME ...]</h2>
<details><summary></summary>
<br>

These color balances work for some people on Buster (raspistill):
<ul>
<li>RPi HQ Red: 3.24, Blue: 1.47
<li>RPi HQ no AWB, Red: 2.8, Blue: 2.2, Saturation: 40
</ul>

Luc Bodson uses these with RPi HQ and libcamera:
<ul>
<li>IR filter in place: Saturation: 1.4, AWB, Red: 3.47, Blue: 1.6
<li>IR filter removed: Saturation: 0.5, no AWB, Red: 1.0, Blue 1.6
</ul>
</details>

</div><!-- Layout-main -->
</div><!-- Layout -->
</body>
</html>
<script> includeHTML(); </script>
