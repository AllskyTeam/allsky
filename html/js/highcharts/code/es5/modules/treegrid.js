!/**
 * Highcharts Gantt JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/treegrid
 * @requires highcharts
 *
 * Tree Grid
 *
 * (c) 2016-2024 Jon Arild Nygard
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").StackItem,require("highcharts").Axis,require("highcharts").Color):"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",[["highcharts/highcharts"],["highcharts/highcharts","StackItem"],["highcharts/highcharts","Axis"],["highcharts/highcharts","Color"]],e):"object"==typeof exports?exports["highcharts/modules/treegrid"]=e(require("highcharts"),require("highcharts").StackItem,require("highcharts").Axis,require("highcharts").Color):t.Highcharts=e(t.Highcharts,t.Highcharts.StackItem,t.Highcharts.Axis,t.Highcharts.Color)}(this,function(t,e,i,r){return function(){"use strict";var s,o,n,a,l={532:function(t){t.exports=i},620:function(t){t.exports=r},184:function(t){t.exports=e},944:function(e){e.exports=t}},h={};function d(t){var e=h[t];if(void 0!==e)return e.exports;var i=h[t]={exports:{}};return l[t](i,i.exports,d),i.exports}d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,{a:e}),e},d.d=function(t,e){for(var i in e)d.o(e,i)&&!d.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var c={};d.d(c,{default:function(){return tF}});var p=d(944),f=d.n(p),u=d(184),v=d.n(u),g=f().addEvent,m=f().find,k=f().fireEvent,x=f().isArray,b=f().isNumber,y=f().pick;!function(t){function e(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function i(){var t;(null===(t=this.brokenAxis)||void 0===t?void 0:t.hasBreaks)&&(this.options.ordinal=!1)}function r(){var t=this.brokenAxis;if(null==t?void 0:t.hasBreaks){for(var e=this.tickPositions,i=this.tickPositions.info,r=[],s=0;s<e.length;s++)t.isInAnyBreak(e[s])||r.push(e[s]);this.tickPositions=r,this.tickPositions.info=i}}function s(){this.brokenAxis||(this.brokenAxis=new h(this))}function o(){var t,e,i=this.isDirty,r=this.options.connectNulls,s=this.points,o=this.xAxis,n=this.yAxis;if(i)for(var a=s.length;a--;){var l=s[a],h=!(null===l.y&&!1===r)&&((null===(t=null==o?void 0:o.brokenAxis)||void 0===t?void 0:t.isInAnyBreak(l.x,!0))||(null===(e=null==n?void 0:n.brokenAxis)||void 0===e?void 0:e.isInAnyBreak(l.y,!0)));l.visible=!h&&!1!==l.options.visible}}function n(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,y(this.pointArrayMap,["y"]))}function a(t,e){var i,r,s,o,n=this,a=n.points;if(null===(i=null==t?void 0:t.brokenAxis)||void 0===i?void 0:i.hasBreaks){var l=t.brokenAxis;e.forEach(function(e){r=(null==l?void 0:l.breakArray)||[],s=t.isXAxis?t.min:y(n.options.threshold,t.min);var i,h,d=null===(h=null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.breaks)||void 0===h?void 0:h.filter(function(t){for(var e=!0,i=0;i<r.length;i++){var s=r[i];if(s.from===t.from&&s.to===t.to){e=!1;break}}return e});a.forEach(function(i){o=y(i["stack"+e.toUpperCase()],i[e]),r.forEach(function(e){if(b(s)&&b(o)){var r="";s<e.from&&o>e.to||s>e.from&&o<e.from?r="pointBreak":(s<e.from&&o>e.from&&o<e.to||s>e.from&&o>e.to&&o<e.from)&&(r="pointInBreak"),r&&k(t,r,{point:i,brk:e})}}),null==d||d.forEach(function(e){k(t,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function l(){var t=this.currentDataGrouping,e=null==t?void 0:t.gapSize,i=this.points.slice(),r=this.yAxis,s=this.options.gapSize,o=i.length-1;if(s&&o>0){"value"!==this.options.gapUnit&&(s*=this.basePointRange),e&&e>s&&e>=this.basePointRange&&(s=e);for(var n=void 0,a=void 0;o--;)if(a&&!1!==a.visible||(a=i[o+1]),n=i[o],!1!==a.visible&&!1!==n.visible){if(a.x-n.x>s){var l=(n.x+a.x)/2;i.splice(o+1,0,{isNull:!0,x:l}),r.stacking&&this.options.stacking&&((r.stacking.stacks[this.stackKey][l]=new(v())(r,r.options.stackLabels,!1,l,this.stack)).total=0)}a=n}}return this.getGraphPath(i)}t.compose=function(t,h){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),g(t,"init",s),g(t,"afterInit",e),g(t,"afterSetTickPositions",r),g(t,"afterSetOptions",i);var d=h.prototype;d.drawBreaks=a,d.gappedPath=l,g(h,"afterGeneratePoints",o),g(h,"afterRender",n)}return t};var h=function(){function t(t){this.hasBreaks=!1,this.axis=t}return t.isInBreak=function(t,e){var i=t.repeat||1/0,r=t.from,s=t.to-t.from,o=e>=r?(e-r)%i:i-(r-e)%i;return t.inclusive?o<=s:o<s&&0!==o},t.lin2Val=function(e){var i=this.brokenAxis,r=i&&i.breakArray;if(!r||!b(e))return e;var s,o,n=e;for(o=0;o<r.length&&!((s=r[o]).from>=n);o++)s.to<n?n+=s.len:t.isInBreak(s,n)&&(n+=s.len);return n},t.val2Lin=function(e){var i=this.brokenAxis,r=i&&i.breakArray;if(!r||!b(e))return e;var s,o,n=e;for(o=0;o<r.length;o++)if((s=r[o]).to<=e)n-=s.len;else if(s.from>=e)break;else if(t.isInBreak(s,e)){n-=e-s.from;break}return n},t.prototype.findBreakAt=function(t,e){return m(e,function(e){return e.from<t&&t<e.to})},t.prototype.isInAnyBreak=function(e,i){var r,s,o,n=this.axis,a=n.options.breaks||[],l=a.length;if(l&&b(e)){for(;l--;)t.isInBreak(a[l],e)&&(r=!0,s||(s=y(a[l].showPoints,!n.isXAxis)));o=r&&i?r&&!s:r}return o},t.prototype.setBreaks=function(e,i){var r=this,s=r.axis,o=s.chart.time,n=x(e)&&!!e.length&&!!Object.keys(e[0]).length;s.isDirty=r.hasBreaks!==n,r.hasBreaks=n,null==e||e.forEach(function(t){t.from=o.parse(t.from)||0,t.to=o.parse(t.to)||0}),e!==s.options.breaks&&(s.options.breaks=s.userOptions.breaks=e),s.forceRedraw=!0,s.series.forEach(function(t){t.isDirty=!0}),n||s.val2lin!==t.val2Lin||(delete s.val2lin,delete s.lin2val),n&&(s.userOptions.ordinal=!1,s.lin2val=t.lin2Val,s.val2lin=t.val2Lin,s.setExtremes=function(t,e,i,o,n){if(r.hasBreaks){for(var a=this.options.breaks||[],l=void 0;l=r.findBreakAt(t,a);)t=l.to;for(;l=r.findBreakAt(e,a);)e=l.from;e<t&&(e=t)}s.constructor.prototype.setExtremes.call(this,t,e,i,o,n)},s.setAxisTranslation=function(){if(s.constructor.prototype.setAxisTranslation.call(this),r.unitLength=void 0,r.hasBreaks){var e,i,o,n,a=s.options.breaks||[],l=[],h=[],d=y(s.pointRangePadding,0),c=0,p=s.userMin||s.min,f=s.userMax||s.max;a.forEach(function(e){i=e.repeat||1/0,b(p)&&b(f)&&(t.isInBreak(e,p)&&(p+=e.to%i-p%i),t.isInBreak(e,f)&&(f-=f%i-e.from%i))}),a.forEach(function(t){if(o=t.from,i=t.repeat||1/0,b(p)&&b(f)){for(;o-i>p;)o-=i;for(;o<p;)o+=i;for(n=o;n<f;n+=i)l.push({value:n,move:"in"}),l.push({value:n+t.to-t.from,move:"out",size:t.breakSize})}}),l.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,o=p,l.forEach(function(t){1===(e+="in"===t.move?1:-1)&&"in"===t.move&&(o=t.value),0===e&&b(o)&&(h.push({from:o,to:t.value,len:t.value-o-(t.size||0)}),c+=t.value-o-(t.size||0))}),r.breakArray=h,b(p)&&b(f)&&b(s.min)&&(r.unitLength=f-p-c+d,k(s,"afterBreaks"),s.staticScale?s.transA=s.staticScale:r.unitLength&&(s.transA*=(f-s.min+d)/r.unitLength),d&&(s.minPixelPadding=s.transA*(s.minPointOffset||0)),s.min=p,s.max=f)}}),y(i,!0)&&s.chart.redraw()},t}();t.Additions=h}(o||(o={}));var P=o,A=d(532),G=d.n(A),O=f().dateFormats,B=f().addEvent,w=f().defined,E=f().erase,T=f().find,N=f().isArray,I=f().isNumber,L=f().merge,C=f().pick,S=f().timeUnits,M=f().wrap;function W(t){return f().isObject(t,!0)}function z(t,e){var i={width:0,height:0};if(e.forEach(function(e){var r,s=t[e],o=0,n=0;W(s)&&(o=(r=W(s.label)?s.label:{}).getBBox?r.getBBox().height:0,r.textStr&&!I(r.textPxLength)&&(r.textPxLength=r.getBBox().width),n=I(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(n=Math.round(r.getBBox().width)),i.height=Math.max(o,i.height),i.width=Math.max(n,i.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){var r=this.treeGrid.mapOfPosToGridNode[-1].height||0;i.width+=this.options.labels.indentation*(r-1)}return i}function j(t){var e=this.grid,i=3===this.side;if(i||t.apply(this),!(null==e?void 0:e.isColumn)){var r=(null==e?void 0:e.columns)||[];i&&(r=r.slice().reverse()),r.forEach(function(t){t.getOffset()})}i&&t.apply(this)}function R(t){if(!0===(this.options.grid||{}).enabled){var e=this.axisTitle,i=this.height,r=this.horiz,s=this.left,o=this.offset,a=this.opposite,l=this.options,h=this.top,d=this.width,c=this.tickSize(),p=e&&e.getBBox().width,f=l.title.x,u=l.title.y,v=C(l.title.margin,r?5:10),g=e?this.chart.renderer.fontMetrics(e).f:0,m=(r?h+i:s)+(r?1:-1)*(a?-1:1)*(c?c[0]/2:0)+(this.side===n.bottom?g:0);t.titlePosition.x=r?s-(p||0)/2-v+f:m+(a?d:0)+o+f,t.titlePosition.y=r?m-(a?i:0)+(a?g:-g)/2+o+u:h-v+u}}function D(){var t,e=this.chart,i=this.options.grid,r=void 0===i?{}:i,s=this.userOptions;if(r.enabled&&((t=this.options).labels.align=C(t.labels.align,"center"),this.categories||(t.showLastLabel=!1),this.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1),r.columns)for(var o=this.grid.columns=[],n=this.grid.columnIndex=0;++n<r.columns.length;){var a=L(s,r.columns[n],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),l=new(G())(this.chart,a,"yAxis");l.grid.isColumn=!0,l.grid.columnIndex=n,E(e.axes,l),E(e[this.coll]||[],l),o.push(l)}}function q(){var t=this.axisTitle,e=this.grid,i=this.options;if(!0===(i.grid||{}).enabled){var r=this.min||0,s=this.max||0,o=this.ticks[this.tickPositions[0]];if(t&&!this.chart.styledMode&&(null==o?void 0:o.slotWidth)&&!this.options.title.style.width&&t.css({width:""+o.slotWidth+"px"}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var a=i.lineWidth;if(a){var l=this.getLinePath(a),h=l[0],d=l[1],c=(this.tickSize("tick")||[1])[0]*(this.side===n.top||this.side===n.left?-1:1);if("M"===h[0]&&"L"===d[0]&&(this.horiz?(h[2]+=c,d[2]+=c):(h[1]+=c,d[1]+=c)),!this.horiz&&this.chart.marginRight){var p=["L",this.left,h[2]||0],f=[h,p],u=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(s+this.tickmarkOffset)],v=[["M",d[1]||0,this.toPixels(s+this.tickmarkOffset)],u];this.grid.upperBorder||r%1==0||(this.grid.upperBorder=this.grid.renderBorder(f)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.upperBorder.animate({d:f})),this.grid.lowerBorder||s%1==0||(this.grid.lowerBorder=this.grid.renderBorder(v)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.lowerBorder.animate({d:v}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.axisLineExtra.animate({d:l})):this.grid.axisLineExtra=this.grid.renderBorder(l),this.axisLine[this.showAxis?"show":"hide"]()}}if((e&&e.columns||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)&&this.tickPositions.length){for(var g=this.tickmarkOffset,m=this.tickPositions[this.tickPositions.length-1],k=this.tickPositions[0],x=void 0,b=void 0;(x=this.hiddenLabels.pop())&&x.element;)x.show();for(;(b=this.hiddenMarks.pop())&&b.element;)b.show();(x=this.ticks[k].label)&&(r-k>g?this.hiddenLabels.push(x.hide()):x.show()),(x=this.ticks[m].label)&&(m-s>g?this.hiddenLabels.push(x.hide()):x.show());var y=this.ticks[m].mark;y&&m-s<g&&m-s>0&&this.ticks[m].isLast&&this.hiddenMarks.push(y.hide())}}}function H(){var t=this.tickPositions&&this.tickPositions.info,e=this.options,i=e.grid||{},r=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!w(r.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||t.count>1)&&(e.labels.align="left",w(r.x)||(e.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function F(t){var e,i=this.options,r=t.userOptions,s=i&&W(i.grid)?i.grid:{};!0===s.enabled&&(e=L(!0,{className:"highcharts-grid-axis "+(r.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},r),"xAxis"!==this.coll||(w(r.linkedTo)&&!w(r.tickPixelInterval)&&(e.tickPixelInterval=350),!(!w(r.tickPixelInterval)&&w(r.linkedTo))||w(r.tickPositioner)||w(r.tickInterval)||w(r.units)||(e.tickPositioner=function(t,i){var r=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(r){for(var s=e.units||[],o=void 0,n=1,a="year",l=0;l<s.length;l++){var h=s[l];if(h&&h[0]===r.unitName){o=l;break}}var d=I(o)&&s[o+1];if(d){a=d[0]||"year";var c=d[1];n=c&&c[0]||1}else"year"===r.unitName&&(n=10*r.count);var p=S[a];return this.tickInterval=p*n,this.chart.time.getTimeTicks({unitRange:p,count:n,unitName:a},t,i,this.options.startOfWeek)}})),L(!0,this.options,e),this.horiz&&(i.minPadding=C(r.minPadding,0),i.maxPadding=C(r.maxPadding,0)),I(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=s.borderWidth))}function X(t){var e=t.userOptions,i=e&&e.grid||{},r=i.columns;i.enabled&&r&&L(!0,this.options,r[0])}function U(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function V(t){var e=this.horiz,i=this.maxLabelDimensions,r=this.options.grid,s=void 0===r?{}:r;if(s.enabled&&i){var o=2*this.options.labels.distance,n=e?s.cellHeight||o+i.height:o+i.width;N(t.tickSize)?t.tickSize[0]=n:t.tickSize=[n,0]}}function _(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function K(t){var e=this.grid;(e.columns||[]).forEach(function(e){return e.destroy(t.keepEvents)}),e.columns=void 0}function Y(t){var e=t.userOptions||{},i=e.grid||{};i.enabled&&w(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),this.grid||(this.grid=new tt(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function J(t){var e=this.label,i=this.axis,r=i.reversed,s=i.chart,o=i.options.grid||{},a=i.options.labels,l=a.align,h=n[i.side],d=t.tickmarkOffset,c=i.tickPositions,p=this.pos-d,f=I(c[t.index+1])?c[t.index+1]-d:(i.max||0)+d,u=i.tickSize("tick"),v=u?u[0]:0,g=u?u[1]/2:0;if(!0===o.enabled){var m,k=void 0,x=void 0,b=void 0;if("top"===h?m=(k=i.top+i.offset)-v:"bottom"===h?k=(m=s.chartHeight-i.bottom+i.offset)+v:(k=i.top+i.len-(i.translate(r?f:p)||0),m=i.top+i.len-(i.translate(r?p:f)||0)),"right"===h?b=(x=s.chartWidth-i.right+i.offset)+v:"left"===h?x=(b=i.left+i.offset)-v:(x=Math.round(i.left+(i.translate(r?f:p)||0))-g,b=Math.min(Math.round(i.left+(i.translate(r?p:f)||0))-g,i.left+i.len)),this.slotWidth=b-x,t.pos.x="left"===l?x:"right"===l?b:x+(b-x)/2,t.pos.y=m+(k-m)/2,e){var y=s.renderer.fontMetrics(e),P=e.getBBox().height;if(a.useHTML)t.pos.y+=y.b+-(P/2);else{var A=Math.round(P/y.h);t.pos.y+=(y.b-(y.h-y.f))/2+-((A-1)*y.h/2)}}t.pos.x+=i.horiz&&a.x||0}}function Q(t){var e=t.axis,i=t.value;if(e.options.grid&&e.options.grid.enabled){var r=e.tickPositions,s=(e.linkedParent||e).series[0],o=i===r[0],n=i===r[r.length-1],a=s&&T(s.options.data,function(t){return t[e.isXAxis?"x":"y"]===i}),l=void 0;a&&s.is("gantt")&&(l=L(a),f().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(l,e.chart)),t.isFirst=o,t.isLast=n,t.point=l}}function Z(){var t=this.options,e=t.grid||{},i=this.categories,r=this.tickPositions,s=r[0],o=r[1],n=r[r.length-1],a=r[r.length-2],l=this.linkedParent&&this.linkedParent.min,h=this.linkedParent&&this.linkedParent.max,d=l||this.min,c=h||this.max,p=this.tickInterval,f=I(d)&&d>=s+p&&d<o,u=I(d)&&s<d&&s+p>d,v=I(c)&&n>c&&n-p<c,g=I(c)&&c<=n-p&&c>a;!0===e.enabled&&!i&&(this.isXAxis||this.isLinked)&&((u||f)&&!t.startOnTick&&(r[0]=d),(v||g)&&!t.endOnTick&&(r[r.length-1]=c))}function $(t){var e,i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,(e=arguments,Array.prototype.slice.call(e,1)))}(s=n||(n={}))[s.top=0]="top",s[s.right=1]="right",s[s.bottom=2]="bottom",s[s.left=3]="left";var tt=function(){function t(t){this.axis=t}return t.prototype.isOuterAxis=function(){var t,e=this.axis,i=e.chart,r=e.grid.columnIndex,s=(null===(t=e.linkedParent)||void 0===t?void 0:t.grid.columns)||e.grid.columns||[],o=r?e.linkedParent:e,n=-1,a=0;return 3===e.side&&!i.inverted&&s.length?!e.linkedParent:((i[e.coll]||[]).forEach(function(t,i){t.side!==e.side||t.options.isInternal||(a=i,t!==o||(n=i))}),a===n&&(!I(r)||s.length===r))},t.prototype.renderBorder=function(t){var e=this.axis,i=e.chart.renderer,r=e.options,s=i.path(t).addClass("highcharts-axis-line").add(e.axisGroup);return i.styledMode||s.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),s},t}();O.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},O.W=function(t){var e=this.toParts(t),i=(e[7]+6)%7,r=e.slice(0);r[2]=e[2]-i+3;var s=this.toParts(this.makeTime(r[0],0,1));return 4!==s[7]&&(e[1]=0,e[2]=1+(11-s[7])%7),(1+Math.floor((this.makeTime(r[0],r[1],r[2])-this.makeTime(s[0],s[1],s[2]))/6048e5)).toString()};var te=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)0>e.indexOf(r[s])&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(i[r[s]]=t[r[s]]);return i},ti=f().extend,tr=f().isNumber,ts=f().pick;function to(t,e,i,r,s,o){var n,a,l=o&&o.after,h=o&&o.before,d={data:r,depth:i-1,id:t,level:i,parent:e||""},c=0,p=0;"function"==typeof h&&h(d,o);var f=(s[t]||[]).map(function(e){var r=to(e.id,t,i+1,e,s,o),l=e.start||NaN,h=!0===e.milestone?l:e.end||NaN;return n=!tr(n)||l<n?l:n,a=!tr(a)||h>a?h:a,c=c+1+r.descendants,p=Math.max(r.height+1,p),r});return r&&(r.start=ts(r.start,n),r.end=ts(r.end,a)),ti(d,{children:f,descendants:c,height:p}),"function"==typeof l&&l(d,o),d}var tn={getNode:to,getTree:function(t,e){var i,r;return to("",null,1,null,(i=[],Object.keys(r=t.reduce(function(t,e){var r=e.parent,s=void 0===r?"":r,o=e.id;return void 0===t[s]&&(t[s]=[]),t[s].push(e),o&&i.push(o),t},{})).forEach(function(t){var e;if(""!==t&&-1===i.indexOf(t)){var s=r[t].map(function(t){return te(t,[])});(e=r[""]).push.apply(e,s),delete r[t]}}),r),e)}},ta=f().addEvent,tl=f().removeEvent,th=f().isObject,td=f().isNumber,tc=f().pick,tp=f().wrap;function tf(){this.treeGrid||(this.treeGrid=new tg(this))}function tu(t,e,i,r,s,o,n,a,l){var h,d,c,p=tc(this.options&&this.options.labels,o),f=this.pos,u=this.axis,v="treegrid"===u.type,g=t.apply(this,[e,i,r,s,p,n,a,l]);if(v){var m=p&&th(p.symbol,!0)?p.symbol:{},k=m.width,x=m.padding,b=void 0===x?u.linkedParent?0:5:x,y=p&&td(p.indentation)?p.indentation:0;c=(d=(h=u.treeGrid.mapOfPosToGridNode)&&h[f])&&d.depth||1,g.x+=(void 0===k?0:k)+2*b+(c-1)*y}return g}function tv(t){var e,i,r,s,o,n,a,l,h,d,c,p,f,u,v,g,m,k=this.pos,x=this.axis,b=this.label,y=this.treeGrid,P=this.options,A=null==y?void 0:y.labelIcon,G=null==b?void 0:b.element,O=x.treeGrid,B=x.options,w=x.chart,E=x.tickPositions,T=O.mapOfPosToGridNode,N=tc(null==P?void 0:P.labels,null==B?void 0:B.labels),I=N&&th(N.symbol,!0)?N.symbol:{},L=T&&T[k],C=L||{},S=C.descendants,M=C.depth,W=L&&S&&S>0,z="treegrid"===x.type&&G,j=E.indexOf(k)>-1,R="highcharts-treegrid-node-",D=R+"level-",q=w.styledMode;(z&&L&&b.removeClass(RegExp(D+".*")).addClass(D+M),t.apply(this,Array.prototype.slice.call(arguments,1)),z&&W)?(v=O.isCollapsed(L),e={color:!q&&b.styles.color||"",collapsed:v,group:b.parentGroup,options:I,renderer:b.renderer,show:j,xy:b.xy},s=!(r=this.treeGrid).labelIcon,o=e.renderer,n=e.xy,l=(a=e.options).width||0,h=a.height||0,d=(null!==(i=a.padding)&&void 0!==i?i:this.axis.linkedParent)?0:5,c={x:n.x-l/2-d,y:n.y-h/2},p=e.collapsed?90:180,f=e.show&&td(c.y),(u=r.labelIcon)||(r.labelIcon=u=o.path(o.symbols[a.type](a.x||0,a.y||0,l,h)).addClass("highcharts-label-icon").add(e.group)),u[f?"show":"hide"](),o.styledMode||u.attr({cursor:"pointer",fill:tc(e.color,"#666666"),"stroke-width":1,stroke:a.lineColor,strokeWidth:a.lineWidth||0}),u[s?"attr":"animate"]({translateX:c.x,translateY:c.y,rotation:p}),g=R+(v?"collapsed":"expanded"),m=R+(v?"expanded":"collapsed"),b.addClass(g).removeClass(m),q||b.css({cursor:"pointer"}),[b,A].forEach(function(t){t&&!t.attachedTreeGridEvents&&(ta(t.element,"mouseover",function(){b.addClass("highcharts-treegrid-node-active"),b.renderer.styledMode||b.css({textDecoration:"underline"})}),ta(t.element,"mouseout",function(){var t;t=th(N.style)?N.style:{},b.removeClass("highcharts-treegrid-node-active"),b.renderer.styledMode||b.css({textDecoration:t.textDecoration||"none"})}),ta(t.element,"click",function(){y.toggleCollapse()}),t.attachedTreeGridEvents=!0)})):A&&(tl(G),null==b||b.css({cursor:"default"}),A.destroy())}var tg=function(){function t(t){this.tick=t}return t.compose=function(t){var e=t.prototype;e.toggleCollapse||(ta(t,"init",tf),tp(e,"getLabelPosition",tu),tp(e,"renderLabel",tv),e.collapse=function(t){this.treeGrid.collapse(t)},e.expand=function(t){this.treeGrid.expand(t)},e.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})},t.prototype.collapse=function(t){var e=this.tick,i=e.axis,r=i.brokenAxis;if(r&&i.treeGrid.mapOfPosToGridNode){var s=e.pos,o=i.treeGrid.mapOfPosToGridNode[s],n=i.treeGrid.collapse(o);r.setBreaks(n,tc(t,!0))}},t.prototype.destroy=function(){this.labelIcon&&this.labelIcon.destroy()},t.prototype.expand=function(t){var e=this.tick,i=e.pos,r=e.axis,s=r.treeGrid,o=r.brokenAxis,n=s.mapOfPosToGridNode;if(o&&n){var a=n[i],l=s.expand(a);o.setBreaks(l,tc(t,!0))}},t.prototype.toggleCollapse=function(t){var e=this.tick,i=e.axis,r=i.brokenAxis;if(r&&i.treeGrid.mapOfPosToGridNode){var s=e.pos,o=i.treeGrid.mapOfPosToGridNode[s],n=i.treeGrid.toggleCollapse(o);r.setBreaks(n,tc(t,!0))}},t}(),tm=(d(620),f().extend,f().isArray),tk=f().isNumber,tx=f().isObject,tb=f().merge,ty=f().pick,tP=(f().relativeLength,function(t){var e,i,r,s,o,n,a={};if(tx(t))for(s=tk(t.from)?t.from:1,n=t.levels,i={},e=tx(t.defaults)?t.defaults:{},tm(n)&&(i=n.reduce(function(t,i){var r,o,n;return tx(i)&&tk(i.level)&&(o=ty((n=tb({},i)).levelIsConstant,e.levelIsConstant),delete n.levelIsConstant,delete n.level,tx(t[r=i.level+(o?0:s-1)])?tb(!0,t[r],n):t[r]=n),t},{})),o=tk(t.to)?t.to:1,r=0;r<=o;r++)a[r]=tb({},e,tx(i[r])?i[r]:{});return a}),tA=f().addEvent,tG=f().isArray,tO=f().splat,tB=f().find,tw=f().fireEvent,tE=f().isObject,tT=f().isString,tN=f().merge,tI=f().pick,tL=f().removeEvent,tC=f().wrap;function tS(t,e){var i=t.collapseEnd||0,r=t.collapseStart||0;return i>=e&&(r-=.5),{from:r,to:i,showPoints:!1}}function tM(t,e,i){var r,s,o=[],n=[],a={},l=e||!1,h={},d=-1,c=tn.getTree(t,{after:function(t){var e=h[t.pos],i=0,r=0;e.children.forEach(function(t){r+=(t.descendants||0)+1,i=Math.max((t.height||0)+1,i)}),e.descendants=r,e.height=i,e.collapsed&&n.push(e)},before:function(t){var e,i,r=tE(t.data,!0)?t.data:{},s=tT(r.name)?r.name:"",n=a[t.parent],c=tE(n,!0)?h[n.pos]:null;l&&tE(c,!0)&&(e=tB(c.children,function(t){return t.name===s}))?(i=e.pos,e.nodes.push(t)):i=d++,!h[i]&&(h[i]=e={depth:c?c.depth+1:0,name:s,id:r.id,nodes:[t],children:[],pos:i},-1!==i&&o.push(s),tE(c,!0)&&c.children.push(e)),tT(t.id)&&(a[t.id]=t),e&&!0===r.collapsed&&(e.collapsed=!0),t.pos=i}});return r=h,{categories:o,mapOfIdToNode:a,mapOfPosToGridNode:h=(s=function(t,e,r){var o=t.nodes,n=e+(-1===e?0:i-1),a=(n-e)/2,l=e+a;return o.forEach(function(t){var i=t.data;tE(i,!0)&&(i.y=e+(i.seriesIndex||0),delete i.seriesIndex),t.pos=l}),r[l]=t,t.pos=l,t.tickmarkOffset=a+.5,t.collapseStart=n+.5,t.children.forEach(function(t){s(t,n+1,r),n=(t.collapseEnd||0)-.5}),t.collapseEnd=n+.5,r})(r["-1"],-1,{}),collapsedNodes:n,tree:c}}function tW(t){var e=t.target;e.axes.filter(function(t){return"treegrid"===t.type}).forEach(function(i){var r,s,o=i.options||{},n=o.labels,a=i.uniqueNames,l=e.time.parse(o.max),h=!i.treeGrid.mapOfPosToGridNode||i.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}),d=0;if(h){var c=[];if(r=i.series.reduce(function(t,i){var r=i.options.data||[],s=r[0],o=Array.isArray(s)&&!s.find(function(t){return"object"==typeof t});return c.push(o),i.visible&&(r.forEach(function(r){(o||i.options.keys&&i.options.keys.length)&&(r=i.pointClass.prototype.optionsToObject.call({series:i},r),i.pointClass.setGanttPointAliases(r,e)),tE(r,!0)&&(r.seriesIndex=d,t.push(r))}),!0===a&&d++),t},[]),l&&r.length<l)for(var p=r.length;p<=l;p++)r.push({name:p+"​"});s=tM(r,a||!1,!0===a?d:1),i.categories=s.categories,i.treeGrid.mapOfPosToGridNode=s.mapOfPosToGridNode,i.hasNames=!0,i.treeGrid.tree=s.tree,i.series.forEach(function(t,e){var i=(t.options.data||[]).map(function(i){return(c[e]||tG(i)&&t.options.keys&&t.options.keys.length)&&r.forEach(function(t){var e=tO(i);e.indexOf(t.x||0)>=0&&e.indexOf(t.x2||0)>=0&&(i=t)}),tE(i,!0)?tN(i):i});t.visible&&t.setData(i,!1)}),i.treeGrid.mapOptionsToLevel=tP({defaults:n,from:1,levels:n&&n.levels,to:i.treeGrid.tree&&i.treeGrid.tree.height}),"beforeRender"===t.type&&(i.treeGrid.collapsedNodes=s.collapsedNodes)}})}function tz(t,e){var i,r,s,o=this.treeGrid.mapOptionsToLevel||{},n="treegrid"===this.type,l=this.ticks,h=l[e];n&&this.treeGrid.mapOfPosToGridNode?((i=o[(s=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(r={labels:i}),!h&&a?l[e]=h=new a(this,e,void 0,void 0,{category:s.name,tickmarkOffset:s.tickmarkOffset,options:r}):(h.parameters.category=s.name,h.options=r,h.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function tj(t,e,i,r){var s=this,o="treegrid"===i.type;s.treeGrid||(s.treeGrid=new tq(s)),o&&(tA(e,"beforeRender",tW),tA(e,"beforeRedraw",tW),tA(e,"addSeries",function(t){if(t.options.data){var e=tM(t.options.data,i.uniqueNames||!1,1);s.treeGrid.collapsedNodes=(s.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes)}}),tA(s,"foundExtremes",function(){s.treeGrid.collapsedNodes&&s.treeGrid.collapsedNodes.forEach(function(t){var e=s.treeGrid.collapse(t);s.brokenAxis&&(s.brokenAxis.setBreaks(e,!1),s.treeGrid.collapsedNodes&&(s.treeGrid.collapsedNodes=s.treeGrid.collapsedNodes.filter(function(e){return t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd})))})}),tA(s,"afterBreaks",function(){"yAxis"===s.coll&&!s.staticScale&&s.chart.options.chart.height&&(s.isDirty=!0)}),i=tN({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),t.apply(s,[e,i,r]),o&&(s.hasNames=!0,s.options.showLastLabel=!0)}function tR(t){var e,i,r,s,o,n=this.options,a=this.chart.time,l="number"==typeof n.linkedTo?null===(e=this.chart[this.coll])||void 0===e?void 0:e[n.linkedTo]:void 0;if("treegrid"===this.type){if(this.min=null!==(r=null!==(i=this.userMin)&&void 0!==i?i:a.parse(n.min))&&void 0!==r?r:this.dataMin,this.max=null!==(o=null!==(s=this.userMax)&&void 0!==s?s:a.parse(n.max))&&void 0!==o?o:this.dataMax,tw(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],l){var h=l.getExtremes();this.min=tI(h.min,h.dataMin),this.max=tI(h.max,h.dataMax),this.tickPositions=l.tickPositions}this.linkedParent=l}else t.apply(this,Array.prototype.slice.call(arguments,1))}function tD(t){var e=this;"treegrid"===this.type&&e.visible&&e.tickPositions.forEach(function(t){var i=e.ticks[t];i.label&&i.label.attachedTreeGridEvents&&(tL(i.label.element),i.label.attachedTreeGridEvents=!1)}),t.apply(e,Array.prototype.slice.call(arguments,1))}var tq=function(){function t(t){this.axis=t}return t.compose=function(t,e,i,r){if(!t.keepProps.includes("treeGrid")){var s=t.prototype;t.keepProps.push("treeGrid"),tC(s,"generateTick",tz),tC(s,"init",tj),tC(s,"setTickInterval",tR),tC(s,"redraw",tD),s.utils={getNode:tn.getNode},a||(a=r)}return t.keepProps.includes("grid")||(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=z,M(t.prototype,"unsquish",$),M(t.prototype,"getOffset",j),B(t,"init",Y),B(t,"afterGetTitlePosition",R),B(t,"afterInit",D),B(t,"afterRender",q),B(t,"afterSetAxisTranslation",H),B(t,"afterSetOptions",F),B(t,"afterSetOptions",X),B(t,"afterSetScale",U),B(t,"afterTickSize",V),B(t,"trimTicks",Z),B(t,"destroy",K),B(e,"afterSetChartSize",_),B(r,"afterGetLabelPosition",J),B(r,"labelFormat",Q)),P.compose(t,i),tg.compose(r),t},t.prototype.setCollapsedStatus=function(t){var e=this.axis,i=e.chart;e.series.forEach(function(e){var r=e.options.data;if(t.id&&r){var s=i.get(t.id),o=r[e.data.indexOf(s)];s&&o&&(s.collapsed=t.collapsed,o.collapsed=t.collapsed)}})},t.prototype.collapse=function(t){var e=this.axis,i=e.options.breaks||[],r=tS(t,e.max);return i.push(r),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i},t.prototype.expand=function(t){var e=this.axis,i=e.options.breaks||[],r=tS(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce(function(t,e){return(e.to!==r.to||e.from!==r.from)&&t.push(e),t},[])},t.prototype.getTickPositions=function(){var t=this.axis,e=Math.floor(t.min/t.tickInterval)*t.tickInterval,i=Math.ceil(t.max/t.tickInterval)*t.tickInterval;return Object.keys(t.treeGrid.mapOfPosToGridNode||{}).reduce(function(r,s){var o=+s;return o>=e&&o<=i&&!(t.brokenAxis&&t.brokenAxis.isInAnyBreak(o))&&r.push(o),r},[])},t.prototype.isCollapsed=function(t){var e=this.axis,i=e.options.breaks||[],r=tS(t,e.max);return i.some(function(t){return t.from===r.from&&t.to===r.to})},t.prototype.toggleCollapse=function(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)},t}(),tH=f();tq.compose(tH.Axis,tH.Chart,tH.Series,tH.Tick);var tF=f();return c.default}()});