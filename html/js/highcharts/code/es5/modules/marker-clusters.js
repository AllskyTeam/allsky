!/**
 * Highcharts JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/marker-clusters
 * @requires highcharts
 *
 * Marker clusters module for Highcharts
 *
 * (c) 2010-2024 Wojciech Chmiel
 *
 * License: www.highcharts.com/license
 */function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("highcharts")):"function"==typeof define&&define.amd?define("highcharts/modules/marker-clusters",[["highcharts/highcharts"]],i):"object"==typeof exports?exports["highcharts/modules/marker-clusters"]=i(require("highcharts")):t.Highcharts=i(t.Highcharts)}(this,function(t){return function(){"use strict";var i,e={944:function(i){i.exports=t}},o={};function r(t){var i=o[t];if(void 0!==i)return i.exports;var n=o[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(i,{a:i}),i},r.d=function(t,i){for(var e in i)r.o(i,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)};var n={};r.d(n,{default:function(){return tg}});var a,s=r(944),l=r.n(s),u={cluster:{enabled:!1,allowOverlap:!0,animation:{duration:500},drillToCluster:!0,minimumClusterSize:2,layoutAlgorithm:{gridSize:50,distance:40,kmeansThreshold:100},marker:{symbol:"cluster",radius:15,lineWidth:0,lineColor:"#ffffff"},dataLabels:{enabled:!0,format:"{point.clusterPointsAmount}",verticalAlign:"middle",align:"center",style:{color:"contrast"},inside:!0}},tooltip:{clusterFormat:"<span>Clustered points: {point.clusterPointsAmount}</span><br/>"}},d=l().fireEvent,p=l().isArray,h=l().objectEach,c=l().uniqueKey,f=function(){function t(t){void 0===t&&(t={});var i=this;this.autoId=!t.id,this.columns={},this.id=t.id||c(),this.modified=this,this.rowCount=0,this.versionTag=c();var e=0;h(t.columns||{},function(t,o){i.columns[o]=t.slice(),e=Math.max(e,t.length)}),this.applyRowCount(e)}return t.prototype.applyRowCount=function(t){this.rowCount=t,h(this.columns,function(i){p(i)&&(i.length=t)})},t.prototype.getColumn=function(t,i){return this.columns[t]},t.prototype.getColumns=function(t,i){var e=this;return(t||Object.keys(this.columns)).reduce(function(t,i){return t[i]=e.columns[i],t},{})},t.prototype.getRow=function(t,i){var e=this;return(i||Object.keys(this.columns)).map(function(i){var o;return null===(o=e.columns[i])||void 0===o?void 0:o[t]})},t.prototype.setColumn=function(t,i,e,o){var r;void 0===i&&(i=[]),void 0===e&&(e=0),this.setColumns(((r={})[t]=i,r),e,o)},t.prototype.setColumns=function(t,i,e){var o=this,r=this.rowCount;h(t,function(t,i){o.columns[i]=t.slice(),r=t.length}),this.applyRowCount(r),(null==e?void 0:e.silent)||(d(this,"afterSetColumns"),this.versionTag=c())},t.prototype.setRow=function(t,i,e,o){void 0===i&&(i=this.rowCount);var r=this.columns,n=e?this.rowCount+1:i+1;h(t,function(t,a){var s=r[a]||(null==o?void 0:o.addColumns)!==!1&&Array(n);s&&(e?s.splice(i,0,t):s[i]=t,r[a]=s)}),n>this.rowCount&&this.applyRowCount(n),(null==o?void 0:o.silent)||(d(this,"afterSetRows"),this.versionTag=c())},t}(),m=l().animObject,v=u.cluster,g=l().addEvent,x=l().defined,y=l().error,C=l().isArray,I=l().isFunction,k=l().isObject,M=l().isNumber,b=l().merge,S=l().objectEach,A=l().relativeLength,w=l().syncTimeout,X={grid:function(t,i,e,o){var r,n,a,s,l,u,d={},p=this.getGridOffset(),h=this.getScaledGridSize(o);for(u=0;u<t.length;u++){var c=Q(this,{x:t[u],y:i[u]});n=c.x-p.plotLeft,a=c.y-p.plotTop,s=Math.floor(n/h),null!==(r=d[l=Math.floor(a/h)+":"+s])&&void 0!==r||(d[l]=[]),d[l].push({dataIndex:e[u],x:t[u],y:i[u]})}return d},kmeans:function(t,i,e,o){var r,n=[],a=[],s={},l=o.processedDistance||v.layoutAlgorithm.distance,u=o.iterations,d=0,p=!0,h=0,c=0,f=[];o.processedGridSize=o.processedDistance;var m=this.markerClusterAlgorithms?this.markerClusterAlgorithms.grid.call(this,t,i,e,o):{};for(var g in m)m[g].length>1&&(r=O(m[g]),n.push({posX:r.x,posY:r.y,oldX:0,oldY:0,startPointsLen:m[g].length,points:[]}));for(;p;){for(var x=0;x<n.length;x++)n[x].points.length=0;a.length=0;for(var y=0;y<t.length;y++)h=t[y],c=i[y],(f=this.getClusterDistancesFromPoint(n,h,c)).length&&f[0].distance<l?n[f[0].clusterIndex].points.push({x:h,y:c,dataIndex:e[y]}):a.push({x:h,y:c,dataIndex:e[y]});for(var y=0;y<n.length;y++)1===n[y].points.length&&(f=this.getClusterDistancesFromPoint(n,n[y].points[0].x,n[y].points[0].y))[1].distance<l&&(n[f[1].clusterIndex].points.push(n[y].points[0]),n[f[0].clusterIndex].points.length=0);p=!1;for(var y=0;y<n.length;y++)r=O(n[y].points),n[y].oldX=n[y].posX,n[y].oldY=n[y].posY,n[y].posX=r.x,n[y].posY=r.y,(n[y].posX>n[y].oldX+1||n[y].posX<n[y].oldX-1||n[y].posY>n[y].oldY+1||n[y].posY<n[y].oldY-1)&&(p=!0);u&&(p=d<u-1),d++}for(var y=0,C=n.length;y<C;++y)s["cluster"+y]=n[y].points;for(var y=0,C=a.length;y<C;++y)s["noise"+y]=[a[y]];return s},optimizedKmeans:function(t,i,e,o){var r,n,a,s,l,u,d=o.processedDistance||v.layoutAlgorithm.gridSize,p=this.getRealExtremes(),h=(this.options.cluster||{}).marker,c={};if(!this.markerClusterInfo||this.initMaxX&&this.initMaxX<p.maxX||this.initMinX&&this.initMinX>p.minX||this.initMaxY&&this.initMaxY<p.maxY||this.initMinY&&this.initMinY>p.minY)this.initMaxX=p.maxX,this.initMinX=p.minX,this.initMaxY=p.maxY,this.initMinY=p.minY,c=this.markerClusterAlgorithms?this.markerClusterAlgorithms.kmeans.call(this,t,i,e,o):{},this.baseClusters=null;else{null!==(r=this.baseClusters)&&void 0!==r||(this.baseClusters={clusters:this.markerClusterInfo.clusters,noise:this.markerClusterInfo.noise});for(var f=0,m=this.baseClusters.clusters;f<m.length;f++){var g=m[f];g.pointsOutside=[],g.pointsInside=[];for(var y=0,C=g.data;y<C.length;y++){var I=C[y],k=Q(this,I),M=Q(this,g);s=Math.sqrt(Math.pow(k.x-M.x,2)+Math.pow(k.y-M.y,2)),l=d-(u=(null===(a=null===(n=g.clusterZone)||void 0===n?void 0:n.marker)||void 0===a?void 0:a.radius)?g.clusterZone.marker.radius:(null==h?void 0:h.radius)?h.radius:v.marker.radius)>=0?d-u:u,s>u+l&&x(g.pointsOutside)?g.pointsOutside.push(I):x(g.pointsInside)&&g.pointsInside.push(I)}g.pointsInside.length&&(c[g.id]=g.pointsInside);for(var b=0,S=0,A=g.pointsOutside;S<A.length;S++){var w=A[S];c[g.id+"_noise"+b++]=[w]}}for(var X=0,Y=this.baseClusters.noise;X<Y.length;X++){var P=Y[X];c[P.id]=P.data}}return c}},Y=[],P=0;function L(t,i,e){t.attr({opacity:i}).animate({opacity:1},e)}function z(t,i,e,o){var r,n;D(t,o,e,!0,!0);for(var a=0;a<i.length;a++)null===(n=null===(r=i[a].point)||void 0===r?void 0:r.destroy)||void 0===n||n.call(r)}function D(t,i,e,o,r){t.point&&(o&&t.point.graphic&&(t.point.graphic.show(),L(t.point.graphic,i,e)),r&&t.point.dataLabel&&(t.point.dataLabel.show(),L(t.point.dataLabel,i,e)))}function O(t){for(var i=t.length,e=0,o=0,r=0;r<i;r++)e+=t[r].x,o+=t[r].y;return{x:e/i,y:o/i}}function T(t,i){var e=[];return e.length=i,t.clusters.forEach(function(t){t.data.forEach(function(t){e[t.dataIndex]=t})}),t.noise.forEach(function(t){e[t.data[0].dataIndex]=t.data[0]}),e}function V(){return Math.random().toString(36).substring(2,7)+"-"+P++}function E(t,i,e){t.point&&(i&&t.point.graphic&&t.point.graphic.hide(),e&&t.point.dataLabel&&t.point.dataLabel.hide())}function j(t){(t.point||t.target).firePointEvent("drillToCluster",t,function(t){var i,e,o,r,n=t.point||t.target,a=n.series,s=a.xAxis,l=a.yAxis,u=a.chart,d=u.inverted,p=u.mapView,h=u.pointer;if((null===(r=a.options.cluster)||void 0===r?void 0:r.drillToCluster)&&n.clusteredData){var c=n.clusteredData.map(function(t){return t.x}).sort(function(t,i){return t-i}),f=n.clusteredData.map(function(t){return t.y}).sort(function(t,i){return t-i}),m=c[0],v=c[c.length-1],g=f[0],x=f[f.length-1],y=Math.abs((v-m)*.1),C=Math.abs((x-g)*.1),I=Math.min(m,v)-y,k=Math.max(m,v)+y,M=Math.min(g,x)-C,b=Math.max(g,x)+C;if(p)p.fitToBounds({x1:I,x2:k,y1:M,y2:b});else if(s&&l){var S=s.toPixels(I),A=s.toPixels(k),w=l.toPixels(M),X=l.toPixels(b);d&&(S=(i=[w,X,S,A])[0],A=i[1],w=i[2],X=i[3]),S>A&&(S=(e=[A,S])[0],A=e[1]),w>X&&(w=(o=[X,w])[0],X=o[1]),h&&(h.zoomX=!0,h.zoomY=!0),u.transform({from:{x:S,y:w,width:A-S,height:X-w}})}}})}function R(t,i){var e=t.chart,o=t.xAxis,r=t.yAxis;return e.mapView?e.mapView.pixelsToProjectedUnits(i):{x:o?o.toValue(i.x):0,y:r?r.toValue(i.y):0}}function G(t){var i,e,o,r,n,a,s,l,u,d,p=this.chart,h=p.mapView,c=m(null===(i=this.options.cluster)||void 0===i?void 0:i.animation),f=c.duration||500,v=null===(e=this.markerClusterInfo)||void 0===e?void 0:e.pointsState,g=null==v?void 0:v.newState,x=null==v?void 0:v.oldState,y=[],C=0,I=0,k=0,M=!1,b=!1;if(x&&g){var S=Q(this,u=g[t.stateId]);I=S.x-(h?0:p.plotLeft),k=S.y-(h?0:p.plotTop),1===u.parentsId.length?(l=x[null==g?void 0:g[t.stateId].parentsId[0]],(null===(o=u.point)||void 0===o?void 0:o.graphic)&&(null===(r=l.point)||void 0===r?void 0:r.plotX)&&l.point.plotY&&(l.point.plotX!==u.point.plotX||l.point.plotY!==u.point.plotY)&&(d=u.point.graphic.getBBox(),C=(null===(n=u.point.graphic)||void 0===n?void 0:n.isImg)?0:d.width/2,u.point.graphic.attr({x:l.point.plotX-C,y:l.point.plotY-C}),u.point.graphic.animate({x:I-(u.point.graphic.radius||0),y:k-(u.point.graphic.radius||0)},c,function(){var t,i;b=!0,null===(i=null===(t=l.point)||void 0===t?void 0:t.destroy)||void 0===i||i.call(t)}),(null===(a=u.point.dataLabel)||void 0===a?void 0:a.alignAttr)&&(null===(s=l.point.dataLabel)||void 0===s?void 0:s.alignAttr)&&(u.point.dataLabel.attr({x:l.point.dataLabel.alignAttr.x,y:l.point.dataLabel.alignAttr.y}),u.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y},c)))):0===u.parentsId.length?(E(u,!0,!0),w(function(){D(u,.1,c,!0,!0)},f/2)):(E(u,!0,!0),u.parentsId.forEach(function(t){var i,e,o;(null==x?void 0:x[t])&&(l=x[t],y.push(l),(null===(i=l.point)||void 0===i?void 0:i.graphic)&&(M=!0,l.point.graphic.show(),l.point.graphic.animate({x:I-(l.point.graphic.radius||0),y:k-(l.point.graphic.radius||0),opacity:.4},c,function(){b=!0,z(u,y,c,.7)}),l.point.dataLabel&&-9999!==l.point.dataLabel.y&&(null===(o=null===(e=u.point)||void 0===e?void 0:e.dataLabel)||void 0===o?void 0:o.alignAttr)&&(l.point.dataLabel.show(),l.point.dataLabel.animate({x:u.point.dataLabel.alignAttr.x,y:u.point.dataLabel.alignAttr.y,opacity:.4},c))))}),w(function(){b||z(u,y,c,.85)},f),M||w(function(){z(u,y,c,.1)},f/2))}}function F(){var t;null===(t=this.markerClusterSeriesData)||void 0===t||t.forEach(function(t){var i;null===(i=null==t?void 0:t.destroy)||void 0===i||i.call(t)}),this.markerClusterSeriesData=null}function Z(){var t,i,e,o,r,n,s,l,u,d,p,h,c,m,y,C,k,b,S,w,X=this,Y=X.chart,P=Y.mapView,L=X.getColumn("x"),z=X.getColumn("y"),D=X.options.cluster,O=X.getRealExtremes(),T=[],V=[],E=[];if(P&&X.is("mappoint")&&L&&z&&(null===(t=X.options.data)||void 0===t||t.forEach(function(t,i){var e=X.projectPoint(t);e&&(L[i]=e.x,z[i]=e.y)})),(null==D?void 0:D.enabled)&&(null==L?void 0:L.length)&&(null==z?void 0:z.length)&&!Y.polar){C=D.layoutAlgorithm.type,(S=D.layoutAlgorithm).processedGridSize=A(S.gridSize||v.layoutAlgorithm.gridSize,Y.plotWidth),S.processedDistance=A(S.distance||v.layoutAlgorithm.distance,Y.plotWidth),u=S.kmeansThreshold||v.layoutAlgorithm.kmeansThreshold;var G=S.processedGridSize/2,F=R(X,{x:0,y:0}),Z=R(X,{x:G,y:G});d=Math.abs(F.x-Z.x),p=Math.abs(F.y-Z.y);for(var q=0;q<L.length;q++)!X.dataMaxX&&(x(c)&&x(h)&&x(y)&&x(m)?M(z[q])&&M(y)&&M(m)&&(c=Math.max(L[q],c),h=Math.min(L[q],h),y=Math.max(z[q]||y,y),m=Math.min(z[q]||m,m)):(c=h=L[q],y=m=z[q])),L[q]>=O.minX-d&&L[q]<=O.maxX+d&&(z[q]||O.minY)>=O.minY-p&&(z[q]||O.maxY)<=O.maxY+p&&(T.push(L[q]),V.push(z[q]),E.push(q));x(c)&&x(h)&&M(y)&&M(m)&&(X.dataMaxX=c,X.dataMinX=h,X.dataMaxY=y,X.dataMinY=m),k=(b=(I(C)?C:X.markerClusterAlgorithms?C&&X.markerClusterAlgorithms[C]?X.markerClusterAlgorithms[C]:T.length<u?X.markerClusterAlgorithms.kmeans:X.markerClusterAlgorithms.grid:function(){return!1}).call(this,T,V,E,S))?X.getClusteredData(b,D):b,D.animation&&(null===(e=null===(i=X.markerClusterInfo)||void 0===i?void 0:i.pointsState)||void 0===e?void 0:e.oldState)?(function(t){for(var i,e,o=0,r=Object.keys(t);o<r.length;o++)null===(e=null===(i=t[r[o]].point)||void 0===i?void 0:i.destroy)||void 0===e||e.call(i)}(X.markerClusterInfo.pointsState.oldState),n=X.markerClusterInfo.pointsState.newState):n={},s=L.length,l=X.markerClusterInfo,k&&(X.dataTable.modified=new f({columns:{x:k.groupedXData,y:k.groupedYData}}),X.hasGroupedData=!0,X.markerClusterInfo=k,X.groupMap=k.groupMap),a.apply(this),k&&X.markerClusterInfo&&(null===(o=X.markerClusterInfo.clusters)||void 0===o||o.forEach(function(t){(w=X.points[t.index]).isCluster=!0,w.clusteredData=t.data,w.clusterPointsAmount=t.data.length,t.point=w,g(w,"click",j)}),null===(r=X.markerClusterInfo.noise)||void 0===r||r.forEach(function(t){t.point=X.points[t.index]}),D.animation&&X.markerClusterInfo&&(X.markerClusterInfo.pointsState={oldState:n,newState:X.getPointsState(k,l,s)}),D.animation?this.hideClusteredData():this.destroyClusteredData(),this.markerClusterSeriesData=this.hasGroupedData?this.points:null)}else a.apply(this)}function q(t,i,e){for(var o=[],r=0;r<t.length;r++){var n=Q(this,{x:i,y:e}),a=Q(this,{x:t[r].posX,y:t[r].posY}),s=Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2));o.push({clusterIndex:r,distance:s})}return o.sort(function(t,i){return t.distance-i.distance})}function H(t,i){var e,o,r,n,a,s,l,u,d,p,h,c,f=this.options.data,m=[],g=[],x=[],M=[],S=[],A=Math.max(2,i.minimumClusterSize||2),w=0;if(I(i.layoutAlgorithm.type)&&!this.isValidGroupedDataObject(t))return y("Highcharts marker-clusters module: The custom algorithm result is not valid!",!1,this.chart),!1;for(var X in t)if(t[X].length>=A){if(r=t[X],e=V(),a=r.length,i.zones)for(var Y=0;Y<i.zones.length;Y++)a>=i.zones[Y].from&&a<=i.zones[Y].to&&((h=i.zones[Y]).zoneIndex=Y,p=i.zones[Y].marker,c=i.zones[Y].className);d=O(r),"grid"!==i.layoutAlgorithm.type||i.allowOverlap?l={x:d.x,y:d.y}:(s=this.options.marker||{},l=this.preventClusterCollisions({x:d.x,y:d.y,key:X,groupedData:t,gridSize:this.getScaledGridSize(i.layoutAlgorithm),defaultRadius:s.radius||3+(s.lineWidth||0),clusterRadius:p&&p.radius?p.radius:(i.marker||{}).radius||v.marker.radius}));for(var Y=0;Y<a;Y++)r[Y].parentStateId=e;if(x.push({x:l.x,y:l.y,id:X,stateId:e,index:w,data:r,clusterZone:h,clusterZoneClassName:c}),m.push(l.x),g.push(l.y),S.push({options:{formatPrefix:"cluster",dataLabels:i.dataLabels,marker:b(i.marker,{states:i.states},p||{})}}),null==f?void 0:f.length)for(var Y=0;Y<a;Y++)k(f[r[Y].dataIndex])&&(r[Y].options=f[r[Y].dataIndex]);w++,p=null}else for(var Y=0;Y<t[X].length;Y++)o=t[X][Y],e=V(),u=null,n=null==f?void 0:f[o.dataIndex],m.push(o.x),g.push(o.y),o.parentStateId=e,M.push({x:o.x,y:o.y,id:X,stateId:e,index:w,data:t[X]}),u=n&&"object"==typeof n&&!C(n)?b(n,{x:o.x,y:o.y}):{userOptions:n,x:o.x,y:o.y},S.push({options:u}),w++;return{clusters:x,noise:M,groupedXData:m,groupedYData:g,groupMap:S}}function W(){var t=this.chart,i=this.xAxis,e=this.yAxis,o=0;return{plotLeft:i&&this.dataMinX&&this.dataMaxX?i.reversed?i.toPixels(this.dataMaxX):i.toPixels(this.dataMinX):t.plotLeft,plotTop:e&&this.dataMinY&&this.dataMaxY?e.reversed?e.toPixels(this.dataMinY):e.toPixels(this.dataMaxY):t.plotTop}}function N(t,i,e){var o,r,n,a=i?T(i,e):[],s=T(t,e),l={};Y=[],t.clusters.forEach(function(t){l[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}}),t.noise.forEach(function(t){l[t.stateId]={x:t.x,y:t.y,id:t.stateId,point:t.point,parentsId:[]}});for(var u=0;u<s.length;u++)r=s[u],n=a[u],(null==r?void 0:r.parentStateId)&&(null==n?void 0:n.parentStateId)&&(null===(o=l[r.parentStateId])||void 0===o?void 0:o.parentsId.indexOf(n.parentStateId))===-1&&(l[r.parentStateId].parentsId.push(n.parentStateId),-1===Y.indexOf(n.parentStateId)&&Y.push(n.parentStateId));return l}function B(){var t=this.chart,i=t.mapView?0:t.plotLeft,e=R(this,{x:i,y:t.mapView?0:t.plotTop}),o=R(this,{x:i+t.plotWidth,y:i+t.plotHeight}),r=e.x,n=o.x,a=e.y,s=o.y;return{minX:Math.min(r,n),maxX:Math.max(r,n),minY:Math.min(a,s),maxY:Math.max(a,s)}}function U(t){var i=this.xAxis,e=this.chart.mapView,o=t.processedGridSize||v.layoutAlgorithm.gridSize,r=!0,n=1,a=1;this.gridValueSize||(e?this.gridValueSize=o/e.getScale():this.gridValueSize=Math.abs(i.toValue(o)-i.toValue(0)));for(var s=+(o/(e?this.gridValueSize*e.getScale():i.toPixels(this.gridValueSize)-i.toPixels(0))).toFixed(14);r&&1!==s;){var l=Math.pow(2,n);s>.75&&s<1.25?r=!1:s>=1/l&&s<1/l*2?(r=!1,a=l):s<=l&&s>l/2&&(r=!1,a=1/l),n++}return o/a/s}function _(){var t,i,e=this.markerClusterSeriesData,o=null===(i=null===(t=this.markerClusterInfo)||void 0===t?void 0:t.pointsState)||void 0===i?void 0:i.oldState,r=Y.map(function(t){var i;return(null===(i=null==o?void 0:o[t].point)||void 0===i?void 0:i.id)||""});null==e||e.forEach(function(t){var i;t&&-1!==r.indexOf(t.id)?(t.graphic&&t.graphic.hide(),t.dataLabel&&t.dataLabel.hide()):null===(i=null==t?void 0:t.destroy)||void 0===i||i.call(t)})}function K(t){var i=!1;return!!k(t)&&(S(t,function(t){if(i=!0,!C(t)||!t.length){i=!1;return}for(var e=0;e<t.length;e++)if(!k(t[e])||!t[e].x||!t[e].y){i=!1;return}}),i)}function J(t){var i,e,o,r,n,a,s,l,u,d,p,h,c,f,m,g,y=t.key.split(":").map(parseFloat),C=y[0],I=y[1],k=t.gridSize,M=t.groupedData,b=t.defaultRadius,S=t.clusterRadius,A=I*k,w=C*k,X=Q(this,t),Y=[],P=null===(e=this.options.cluster)||void 0===e?void 0:e.marker,L=null===(o=this.options.cluster)||void 0===o?void 0:o.zones,z=this.getGridOffset(),D=X.x,T=X.y,V=0,E=0;D-=z.plotLeft,T-=z.plotTop;for(var j=1;j<5;j++)for(p=0,s=j%2?-1:1,l=j<3?-1:1,u=Math.floor((D+s*S)/k),g=[(d=Math.floor((T+l*S)/k))+":"+u,d+":"+I,C+":"+u];p<g.length;p++)-1===Y.indexOf(g[p])&&g[p]!==t.key&&Y.push(g[p]);for(var G=0;G<Y.length;G++){var F=Y[G];if(M[F]){M[F].posX||(f=O(M[F]),M[F].posX=f.x,M[F].posY=f.y);var Z=Q(this,{x:M[F].posX||0,y:M[F].posY||0});if(n=Z.x-z.plotLeft,a=Z.y-z.plotTop,c=(i=F.split(":").map(parseFloat))[0],h=i[1],L){V=M[F].length;for(var j=0;j<L.length;j++)V>=L[j].from&&V<=L[j].to&&(E=x(null===(r=L[j].marker)||void 0===r?void 0:r.radius)?L[j].marker.radius||0:(null==P?void 0:P.radius)?P.radius:v.marker.radius)}M[F].length>1&&0===E&&(null==P?void 0:P.radius)?E=P.radius:1===M[F].length&&(E=b),m=S+E,E=0,h!==I&&Math.abs(D-n)<m&&(D=h-I<0?A+S:A+k-S),c!==C&&Math.abs(T-a)<m&&(T=c-C<0?w+S:w+k-S)}}var q=R(this,{x:D+z.plotLeft,y:T+z.plotTop});return M[t.key].posX=q.x,M[t.key].posY=q.y,q}function Q(t,i){var e=t.chart,o=t.xAxis,r=t.yAxis;return e.mapView?e.mapView.projectedUnitsToPixels(i):{x:o?o.toPixels(i.x):0,y:r?r.toPixels(i.y):0}}var $={compose:function(t,i){var e=i.prototype;!e.markerClusterAlgorithms&&(a=e.generatePoints,e.markerClusterAlgorithms=X,e.animateClusterPoint=G,e.destroyClusteredData=F,e.generatePoints=Z,e.getClusterDistancesFromPoint=q,e.getClusteredData=H,e.getGridOffset=W,e.getPointsState=N,e.getRealExtremes=B,e.getScaledGridSize=U,e.hideClusteredData=_,e.isValidGroupedDataObject=K,e.preventClusterCollisions=J,g(i,"destroy",e.destroyClusteredData),t.plotOptions&&(t.plotOptions.series=b(t.plotOptions.series,u)))}},tt=l().animObject,ti=l().defaultOptions,te=l().composed,to=l().addEvent,tr=l().defined,tn=l().error,ta=l().isFunction,ts=l().merge,tl=l().pushUnique,tu=l().syncTimeout;function td(){for(var t=this.chart,i=0,e=0,o=t.series;e<o.length;e++){var r=o[e];r.markerClusterInfo&&(i=tt((r.options.cluster||{}).animation).duration||0)}tu(function(){t.tooltip&&t.tooltip.destroy()},i)}function tp(){for(var t,i=0,e=this.series||[];i<e.length;i++){var o=e[i];if(o.markerClusterInfo){var r=o.options.cluster,n=((o.markerClusterInfo||{}).pointsState||{}).oldState;if((r||{}).animation&&o.markerClusterInfo&&0===((null===(t=o.chart.pointer)||void 0===t?void 0:t.pinchDown)||[]).length&&"pan"!==((o.xAxis||{}).eventArgs||{}).trigger&&n&&Object.keys(n).length){for(var a=0,s=o.markerClusterInfo.clusters;a<s.length;a++){var l=s[a];o.animateClusterPoint(l)}for(var u=0,d=o.markerClusterInfo.noise;u<d.length;u++){var p=d[u];o.animateClusterPoint(p)}}}}}function th(t){var i=(((t.point||t.target).series.options.cluster||{}).events||{}).drillToCluster;ta(i)&&i.call(this,t)}function tc(){if(this.dataGroup)return tn("Highcharts marker-clusters module: Running `Point.update` when point belongs to clustered series is not supported.",!1,this.series.chart),!1}function tf(){var t=(this.options.cluster||{}).drillToCluster;if(this.markerClusterInfo&&this.markerClusterInfo.clusters)for(var i=0,e=this.markerClusterInfo.clusters;i<e.length;i++){var o=e[i];o.point&&o.point.graphic&&(o.point.graphic.addClass("highcharts-cluster-point"),t&&o.point&&(o.point.graphic.css({cursor:"pointer"}),o.point.dataLabel&&o.point.dataLabel.css({cursor:"pointer"})),tr(o.clusterZone)&&o.point.graphic.addClass(o.clusterZoneClassName||"highcharts-cluster-zone-"+o.clusterZone.zoneIndex))}}function tm(t,e,o,r){var n=o/2,a=r/2,s=i.arc(t+n,e+a,n-4,a-4,{start:.5*Math.PI,end:2.5*Math.PI,open:!1}),l=i.arc(t+n,e+a,n-3,a-3,{start:.5*Math.PI,end:2.5*Math.PI,innerR:n-2,open:!1});return i.arc(t+n,e+a,n-1,a-1,{start:.5*Math.PI,end:2.5*Math.PI,innerR:n,open:!1}).concat(l,s)}(ti.plotOptions||{}).series=ts((ti.plotOptions||{}).series,u);var tv=l();({compose:function(t,i,e,o){if(tl(te,"MarkerClusters")){var r=o.prototype.pointClass,n=o.types.scatter;to(t,"setExtremes",td),to(i,"render",tp),to(r,"drillToCluster",th),to(r,"update",tc),to(o,"afterRender",tf),n&&$.compose(e,n)}}}).compose(tv.Axis,tv.Chart,tv.defaultOptions,tv.Series),({compose:function(t){(i=t.prototype.symbols).cluster=tm}}).compose(tv.SVGRenderer);var tg=l();return n.default}()});