!/**
 * Highstock JS v12.1.2 (2025-01-09)
 * @module highcharts/indicators/macd
 * @requires highcharts
 * @requires highcharts/modules/stock
 *
 * Indicator series type for Highcharts Stock
 *
 * (c) 2010-2024 Sebastian Bochan
 *
 * License: www.highcharts.com/license
 */function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("highcharts"),require("highcharts").SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/indicators/macd",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"]],o):"object"==typeof exports?exports["highcharts/indicators/macd"]=o(require("highcharts"),require("highcharts").SeriesRegistry):t.Highcharts=o(t.Highcharts,t.Highcharts.SeriesRegistry)}(this,function(t,o){return function(){"use strict";var e,s={512:function(t){t.exports=o},944:function(o){o.exports=t}},i={};function n(t){var o=i[t];if(void 0!==o)return o.exports;var e=i[t]={exports:{}};return s[t](e,e.exports,n),e.exports}n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,{a:o}),o},n.d=function(t,o){for(var e in o)n.o(o,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)};var r={};n.d(r,{default:function(){return C}});var a=n(944),p=n.n(a),l=n(512),h=n.n(l),c=(e=function(t,o){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function s(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}),d=p().noop,u=h().seriesTypes,g=(u.column,u.sma),y=p().extend,f=p().correctFloat,m=p().defined,x=p().merge,v=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return c(o,t),o.prototype.init=function(){h().seriesTypes.sma.prototype.init.apply(this,arguments);var t=this.color;this.options&&(m(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length}),this.color=t},o.prototype.toYData=function(t){return[t.y,t.signal,t.MACD]},o.prototype.translate=function(){var t=this,o=["plotSignal","plotMACD"];p().seriesTypes.column.prototype.translate.apply(t),t.points.forEach(function(e){[e.signal,e.MACD].forEach(function(s,i){null!==s&&(e[o[i]]=t.yAxis.toPixels(s,!0))})})},o.prototype.destroy=function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),h().seriesTypes.sma.prototype.destroy.apply(this,arguments)},o.prototype.drawGraph=function(){for(var t,o=this,e=o.points,s=o.options,i=o.zones,n={options:{gapSize:s.gapSize}},r=[[],[]],a=e.length;a--;)m((t=e[a]).plotMACD)&&r[0].push({plotX:t.plotX,plotY:t.plotMACD,isNull:!m(t.plotMACD)}),m(t.plotSignal)&&r[1].push({plotX:t.plotX,plotY:t.plotSignal,isNull:!m(t.plotMACD)});["macd","signal"].forEach(function(t,e){var i;o.points=r[e],o.options=x((null===(i=s[""+t+"Line"])||void 0===i?void 0:i.styles)||{},n),o.graph=o["graph".concat(t)],o.zones=(o[""+t+"Zones"].zones||[]).slice(o[""+t+"Zones"].startIndex||0),h().seriesTypes.sma.prototype.drawGraph.call(o),o["graph".concat(t)]=o.graph}),o.points=e,o.options=s,o.zones=i},o.prototype.applyZones=function(){var t=this.zones;this.zones=this.signalZones.zones,h().seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=t},o.prototype.getValues=function(t,o){var e,s,i,n=o.longPeriod-o.shortPeriod,r=[],a=[],p=[],l=0,c=[];if(!(t.xData.length<o.longPeriod+o.signalPeriod)){for(i=0,e=h().seriesTypes.ema.prototype.getValues(t,{period:o.shortPeriod,index:o.index}),s=h().seriesTypes.ema.prototype.getValues(t,{period:o.longPeriod,index:o.index}),e=e.values,s=s.values;i<=e.length;i++)m(s[i])&&m(s[i][1])&&m(e[i+n])&&m(e[i+n][0])&&r.push([e[i+n][0],0,null,e[i+n][1]-s[i][1]]);for(i=0;i<r.length;i++)a.push(r[i][0]),p.push([0,null,r[i][3]]);for(i=0,c=(c=h().seriesTypes.ema.prototype.getValues({xData:a,yData:p},{period:o.signalPeriod,index:2})).values;i<r.length;i++)r[i][0]>=c[0][0]&&(r[i][2]=c[l][1],p[i]=[0,c[l][1],r[i][3]],null===r[i][3]?(r[i][1]=0,p[i][0]=0):(r[i][1]=f(r[i][3]-c[l][1]),p[i][0]=f(r[i][3]-c[l][1])),l++);return{values:r,xData:a,yData:p}}},o.defaultOptions=x(g.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),o}(g);y(v.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:d,getColumnMetrics:p().seriesTypes.column.prototype.getColumnMetrics,crispCol:p().seriesTypes.column.prototype.crispCol,drawPoints:p().seriesTypes.column.prototype.drawPoints}),h().registerSeriesType("macd",v);var C=p();return r.default}()});