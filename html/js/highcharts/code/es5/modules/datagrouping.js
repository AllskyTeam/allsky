!/**
 * Highstock JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/datagrouping
 * @requires highcharts
 *
 * Data grouping module
 *
 * (c) 2010-2024 Torstein HÃ¸nsi
 *
 * License: www.highcharts.com/license
 */function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").Templating):"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","Templating"]],i):"object"==typeof exports?exports["highcharts/modules/datagrouping"]=i(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").Templating):t.Highcharts=i(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Templating)}(this,function(t,i,e){return function(){"use strict";var o,n,a={512:function(t){t.exports=i},984:function(t){t.exports=e},944:function(i){i.exports=t}},r={};function s(t){var i=r[t];if(void 0!==i)return i.exports;var e=r[t]={exports:{}};return a[t](e,e.exports,s),e.exports}s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,{a:i}),i},s.d=function(t,i){for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)};var u={};s.d(u,{default:function(){return tg}});var h=s(944),p=s.n(h),l={},d=p().arrayMax,c=p().arrayMin,g=p().correctFloat,m=p().extend,f=p().isNumber;function v(t){var i=t.length,e=x(t);return f(e)&&i&&(e=g(e/i)),e}function x(t){var i,e=t.length;if(!e&&t.hasNulls)i=null;else if(e)for(i=0;e--;)i+=t[e];return i}var y={average:v,averages:function(){var t=[];return[].forEach.call(arguments,function(i){t.push(v(i))}),void 0===t[0]?void 0:t},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?d(t):t.hasNulls?null:void 0},hlc:function(t,i,e){if(t=l.high(t),i=l.low(i),e=l.close(e),f(t)||f(i)||f(e))return[t,i,e]},low:function(t){return t.length?c(t):t.hasNulls?null:void 0},ohlc:function(t,i,e,o){if(t=l.open(t),i=l.high(i),e=l.low(e),o=l.close(o),f(t)||f(i)||f(e)||f(o))return[t,i,e,o]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,i){return(t=l.low(t),i=l.high(i),f(t)||f(i))?[t,i]:null===t&&null===i?null:void 0},sum:x};m(l,y);var G={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["week from %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},M=p().addEvent,b=p().extend,T=p().merge,D=p().pick;function S(t){var i=this,e=i.series;e.forEach(function(t){t.groupPixelWidth=void 0}),e.forEach(function(e){e.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),e.groupPixelWidth&&(e.hasProcessed=!0),e.applyGrouping(!!t.hasExtremesChanged)})}function A(){for(var t,i,e=this.series,o=e.length,n=0,a=!1;o--;)(i=e[o].options.dataGrouping)&&(n=Math.max(n,D(i.groupPixelWidth,G.common.groupPixelWidth)),t=(e[o].dataTable.modified||e[o].dataTable).rowCount,(e[o].groupPixelWidth||t>this.chart.plotSizeX/n||t&&i.forced)&&(a=!0));return a?n:0}function P(){this.series.forEach(function(t){t.hasProcessed=!1})}function C(t,i){var e;if(i=D(i,!0),t||(t={forced:!1,units:null}),this instanceof o)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:t},!1);else this.chart.options.series.forEach(function(i){i.dataGrouping="boolean"==typeof t?t:T(t,i.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),i&&this.chart.redraw()}var w=function(t){o=t;var i=t.prototype;i.applyGrouping||(M(t,"afterSetScale",P),M(t,"postProcessData",S),b(i,{applyGrouping:S,getGroupPixelWidth:A,setDataGrouping:C}))},k=p().fireEvent,R=p().isArray,F=p().objectEach,W=p().uniqueKey,O=function(){function t(t){void 0===t&&(t={});var i=this;this.autoId=!t.id,this.columns={},this.id=t.id||W(),this.modified=this,this.rowCount=0,this.versionTag=W();var e=0;F(t.columns||{},function(t,o){i.columns[o]=t.slice(),e=Math.max(e,t.length)}),this.applyRowCount(e)}return t.prototype.applyRowCount=function(t){this.rowCount=t,F(this.columns,function(i){R(i)&&(i.length=t)})},t.prototype.getColumn=function(t,i){return this.columns[t]},t.prototype.getColumns=function(t,i){var e=this;return(t||Object.keys(this.columns)).reduce(function(t,i){return t[i]=e.columns[i],t},{})},t.prototype.getRow=function(t,i){var e=this;return(i||Object.keys(this.columns)).map(function(i){var o;return null===(o=e.columns[i])||void 0===o?void 0:o[t]})},t.prototype.setColumn=function(t,i,e,o){var n;void 0===i&&(i=[]),void 0===e&&(e=0),this.setColumns(((n={})[t]=i,n),e,o)},t.prototype.setColumns=function(t,i,e){var o=this,n=this.rowCount;F(t,function(t,i){o.columns[i]=t.slice(),n=t.length}),this.applyRowCount(n),(null==e?void 0:e.silent)||(k(this,"afterSetColumns"),this.versionTag=W())},t.prototype.setRow=function(t,i,e,o){void 0===i&&(i=this.rowCount);var n=this.columns,a=e?this.rowCount+1:i+1;F(t,function(t,r){var s=n[r]||(null==o?void 0:o.addColumns)!==!1&&Array(a);s&&(e?s.splice(i,0,t):s[i]=t,n[r]=s)}),a>this.rowCount&&this.applyRowCount(a),(null==o?void 0:o.silent)||(k(this,"afterSetRows"),this.versionTag=W())},t}(),E=p().addEvent,H=p().getMagnitude,N=p().normalizeTickInterval,q=p().timeUnits;!function(t){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){if("datetime"!==this.type){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new o(this))}t.compose=function(t){return t.keepProps.includes("dateTime")||(t.keepProps.push("dateTime"),t.prototype.getTimeTicks=i,E(t,"afterSetType",e)),t};var o=function(){function t(t){this.axis=t}return t.prototype.normalizeTimeTickInterval=function(t,i){var e,o=i||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=o[o.length-1],a=q[n[0]],r=n[1];for(e=0;e<o.length&&(a=q[(n=o[e])[0]],r=n[1],!o[e+1]||!(t<=(a*r[r.length-1]+q[o[e+1][0]])/2));e++);a===q.year&&t<5*a&&(r=[1,2,5]);var s=N(t/a,r,"year"===n[0]?Math.max(H(t/a),1):1);return{unitRange:a,count:s,unitName:n[0]}},t.prototype.getXDateFormat=function(t,i){var e=this.axis,o=e.chart.time;return e.closestPointRange?o.getDateFormat(e.closestPointRange,t,e.options.startOfWeek,i)||o.resolveDTLFormat(i.year).main:o.resolveDTLFormat(i.day).main},t}();t.Additions=o}(n||(n={}));var I=n,j=s(512),L=s.n(j)().series.prototype,Y=p().addEvent,z=p().defined,X=p().error,B=p().extend,U=p().isNumber,_=p().merge,K=p().pick,J=p().splat,Q=L.generatePoints;function V(t){var i,e,o,n,a=this.chart,r=this.options.dataGrouping,s=!1!==this.allowDG&&r&&K(r.enabled,a.options.isStock),u=this.reserveSpace(),h=this.currentDataGrouping,p=!1;s&&!this.requireSorting&&(this.requireSorting=p=!0);var l=!1==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!s;if(p&&(this.requireSorting=!1),!l){this.destroyGroupedData();var d=r.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,c=this.getColumn("x",!r.groupAll),g=a.plotSizeX,m=this.xAxis,f=m.getExtremes(),v=m.options.ordinal,x=this.groupPixelWidth;if(x&&c&&d.rowCount&&g&&U(f.min)){e=!0,this.isDirty=!0,this.points=null;var y,M=f.min,b=f.max,T=v&&m.ordinal&&m.ordinal.getGroupIntervalFactor(M,b,this)||1,D=x*(b-M)/g*T,S=m.getTimeTicks(I.Additions.prototype.normalizeTimeTickInterval(D,r.units||G.units),Math.min(M,c[0]),Math.max(b,c[c.length-1]),m.options.startOfWeek,c,this.closestPointRange),A=L.groupData.apply(this,[d,S,r.approximation]),P=A.modified,C=P.getColumn("x",!0),w=0;for((null==r?void 0:r.smoothed)&&P.rowCount&&(r.firstAnchor="firstPoint",r.anchor="middle",r.lastAnchor="lastPoint",X(32,!1,a,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),i=1;i<S.length;i++)S.info.segmentStarts&&-1!==S.info.segmentStarts.indexOf(i)||(w=Math.max(S[i]-S[i-1],w));(o=S.info).gapSize=w,this.closestPointRange=S.info.totalRange,this.groupMap=A.groupMap,this.currentDataGrouping=o,function(t,i,e){var o=t.options.dataGrouping,n=t.currentDataGrouping&&t.currentDataGrouping.gapSize,a=t.getColumn("x");if(o&&a.length&&n&&t.groupMap){var r=i.length-1,s=o.anchor,u=o.firstAnchor,h=o.lastAnchor,p=i.length-1,l=0;if(u&&a[0]>=i[0]){l++;var d=t.groupMap[0].start,c=t.groupMap[0].length,g=void 0;U(d)&&U(c)&&(g=d+(c-1)),i[0]=({start:i[0],middle:i[0]+.5*n,end:i[0]+n,firstPoint:a[0],lastPoint:g&&a[g]})[u]}if(r>0&&h&&n&&i[r]>=e-n){p--;var m=t.groupMap[t.groupMap.length-1].start;i[r]=({start:i[r],middle:i[r]+.5*n,end:i[r]+n,firstPoint:m&&a[m],lastPoint:a[a.length-1]})[h]}if(s&&"start"!==s)for(var f=n*({middle:.5,end:1})[s];p>=l;)i[p]+=f,p--}}(this,C||[],b),u&&C&&(z((y=C)[0])&&U(m.min)&&U(m.dataMin)&&y[0]<m.min&&((!z(m.options.min)&&m.min<=m.dataMin||m.min===m.dataMin)&&(m.min=Math.min(y[0],m.min)),m.dataMin=Math.min(y[0],m.dataMin)),z(y[y.length-1])&&U(m.max)&&U(m.dataMax)&&y[y.length-1]>m.max&&((!z(m.options.max)&&U(m.dataMax)&&m.max>=m.dataMax||m.max===m.dataMax)&&(m.max=Math.max(y[y.length-1],m.max)),m.dataMax=Math.max(y[y.length-1],m.dataMax))),r.groupAll&&(this.allGroupedTable=P,C=(P=(n=this.cropData(P,m.min||0,m.max||0)).modified).getColumn("x"),this.cropStart=n.start),this.dataTable.modified=P}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=e,this.preventGraphAnimation=(h&&h.totalRange)!==(o&&o.totalRange)}}function Z(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function $(){Q.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function tt(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function ti(t,i,e){var o,n,a,r=t.getColumn("x",!0)||[],s=t.getColumn("y",!0),u=this,h=u.data,p=u.options&&u.options.data,d=[],c=new O,g=[],m=t.rowCount,f=!!s,v=[],x=u.pointArrayMap,y=x&&x.length,G=["x"].concat(x||["y"]),M=(x||["y"]).map(function(){return[]}),b=this.options.dataGrouping&&this.options.dataGrouping.groupAll,T=0,D=0,S="function"==typeof e?e:e&&l[e]?l[e]:l[u.getDGApproximation&&u.getDGApproximation()||"average"];if(y)for(var A=x.length;A--;)v.push([]);else v.push([]);for(var P=y||1,C=0;C<=m;C++)if(!(r[C]<i[0])){for(;void 0!==i[T+1]&&r[C]>=i[T+1]||C===m;){if(o=i[T],u.dataGroupInfo={start:b?D:u.cropStart+D,length:v[0].length,groupStart:o},a=S.apply(u,v),u.pointClass&&!z(u.dataGroupInfo.options)&&(u.dataGroupInfo.options=_(u.pointClass.prototype.optionsToObject.call({series:u},u.options.data[u.cropStart+D])),G.forEach(function(t){delete u.dataGroupInfo.options[t]})),void 0!==a){d.push(o);for(var w=J(a),k=0;k<w.length;k++)M[k].push(w[k]);g.push(u.dataGroupInfo)}D=C;for(var k=0;k<P;k++)v[k].length=0,v[k].hasNulls=!1;if(T+=1,C===m)break}if(C===m)break;if(x)for(var R=b?C:u.cropStart+C,F=h&&h[R]||u.pointClass.prototype.applyOptions.apply({series:u},[p[R]]),W=void 0,k=0;k<y;k++)U(W=F[x[k]])?v[k].push(W):null===W&&(v[k].hasNulls=!0);else U(n=f?s[C]:null)?v[0].push(n):null===n&&(v[0].hasNulls=!0)}var E={x:d};return(x||["y"]).forEach(function(t,i){E[t]=M[i]}),c.setColumns(E),{groupMap:g,modified:c}}function te(t){var i=t.options,e=this.type,o=this.chart.options.plotOptions,n=this.useCommonDataGrouping&&G.common,a=G.seriesSpecific,r=p().defaultOptions.plotOptions[e].dataGrouping;if(o&&(a[e]||n)){var s=this.chart.rangeSelector;r||(r=_(G.common,a[e])),i.dataGrouping=_(n,r,o.series&&o.series.dataGrouping,o[e].dataGrouping,this.userOptions.dataGrouping,!i.isInternal&&s&&U(s.selected)&&s.buttonOptions[s.selected].dataGrouping)}}var to=function(t){var i=t.prototype;i.applyGrouping||(Y(t.prototype.pointClass,"update",function(){if(this.dataGroup)return X(24,!1,this.series.chart),!1}),Y(t,"afterSetOptions",te),Y(t,"destroy",Z),B(i,{applyGrouping:V,destroyGroupedData:Z,generatePoints:$,getDGApproximation:tt,groupData:ti}))},tn=s(984),ta=s.n(tn)().format,tr=p().composed,ts=p().addEvent,tu=p().extend,th=p().isNumber,tp=p().pick,tl=p().pushUnique;function td(t){var i,e,o,n,a,r,s=this.chart,u=s.time,h=t.point,p=h.series,l=p.options,d=p.tooltipOptions,c=l.dataGrouping,g=p.xAxis,m=d.xDateFormat||"",f=d[t.isFooter?"footerFormat":"headerFormat"];if(g&&"datetime"===g.options.type&&c&&th(h.key)){o=p.currentDataGrouping,n=c.dateTimeLabelFormats||G.common.dateTimeLabelFormats,o?(a=n[o.unitName],1===o.count?m=a[0]:(m=a[1],e=a[2])):!m&&n&&g.dateTime&&(m=g.dateTime.getXDateFormat(h.x,d.dateTimeLabelFormats));var v=tp(null===(i=p.groupMap)||void 0===i?void 0:i[h.index].groupStart,h.key),x=v+((null==o?void 0:o.totalRange)||0)-1;r=u.dateFormat(m,v),e&&(r+=u.dateFormat(e,x)),p.chart.styledMode&&(f=this.styledModeFormat(f)),t.text=ta(f,{point:tu(h,{key:r}),series:p},s),t.preventDefault()}}var tc=p();tc.dataGrouping=tc.dataGrouping||{},tc.dataGrouping.approximationDefaults=tc.dataGrouping.approximationDefaults||y,tc.dataGrouping.approximations=tc.dataGrouping.approximations||l,({compose:function(t,i,e){w(t),to(i),e&&tl(tr,"DataGrouping")&&ts(e,"headerFormatter",td)},groupData:ti}).compose(tc.Axis,tc.Series,tc.Tooltip);var tg=p();return u.default}()});