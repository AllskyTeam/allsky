!/**
 * Highcharts JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/pattern-fill
 * @requires highcharts
 *
 * Module for adding patterns and images as point fills.
 *
 * (c) 2010-2024 Highsoft AS
 * Author: Torstein Hønsi, Øystein Moseng
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts")):"function"==typeof define&&define.amd?define("highcharts/modules/pattern-fill",[["highcharts/highcharts"]],e):"object"==typeof exports?exports["highcharts/modules/pattern-fill"]=e(require("highcharts")):t.Highcharts=e(t.Highcharts)}(this,function(t){return function(){"use strict";var e,r,i,a,n,o={944:function(e){e.exports=t}},h={};function s(t){var e=h[t];if(void 0!==e)return e.exports;var r=h[t]={exports:{}};return o[t](r,r.exports,s),r.exports}s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var d={};s.d(d,{default:function(){return O}});var l=s(944),p=s.n(l),c=p().animObject,f=p().getOptions,u=p().addEvent,g=p().defined,m=p().erase,v=p().extend,x=p().merge,y=p().pick,w=p().removeEvent,M=p().wrap,b=function(){for(var t=[],e=f().colors,r=0,i=0,a=["M 0 0 L 5 5 M 4.5 -0.5 L 5.5 0.5 M -0.5 4.5 L 0.5 5.5","M 0 5 L 5 0 M -0.5 0.5 L 0.5 -0.5 M 4.5 5.5 L 5.5 4.5","M 2 0 L 2 5 M 4 0 L 4 5","M 0 2 L 5 2 M 0 4 L 5 4","M 0 1.5 L 2.5 1.5 L 2.5 0 M 2.5 5 L 2.5 3.5 L 5 3.5"];i<a.length;i++){var n=a[i];t.push({path:n,color:e[r++],width:5,height:5,patternTransform:"scale(1.4 1.4)"})}r=5;for(var o=0,h=["M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9"];o<h.length;o++){var n=h[o];t.push({path:n,color:e[r],width:10,height:10}),r+=5}return t}();function L(t,e){var r,i=JSON.stringify(t),a=i.length||0,n=0,o=0;if(e){r=Math.max(Math.floor(a/500),1);for(var h=0;h<a;h+=r)n+=i.charCodeAt(h);n&=n}for(;o<a;++o)n=(n<<5)-n+i.charCodeAt(o),n&=n;return n.toString(16).replace("-","1")}function _(t){if(!t.width||!t.height){var e=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},r=this.shapeArgs;if(r&&(e.width=r.width||e.width,e.height=r.height||e.height,e.x=r.x||e.x,e.y=r.y||e.y),t.image){if(!e.width||!e.height){t._width="defer",t._height="defer";var i=this.series.chart.mapView&&this.series.chart.mapView.getSVGTransform().scaleY;g(i)&&i<0&&(t._inverted=!0);return}t.aspectRatio&&(e.aspectRatio=e.width/e.height,t.aspectRatio>e.aspectRatio?e.aspectWidth=e.height*t.aspectRatio:e.aspectHeight=e.width/t.aspectRatio),t._width=t.width||Math.ceil(e.aspectWidth||e.width),t._height=t.height||Math.ceil(e.aspectHeight||e.height)}t.width||(t._x=t.x||0,t._x+=e.x-Math.round(e.aspectWidth?Math.abs(e.aspectWidth-e.width)/2:0)),t.height||(t._y=t.y||0,t._y+=e.y-Math.round(e.aspectHeight?Math.abs(e.aspectHeight-e.height)/2:0))}}function A(){if(null===(t=this.chart)||void 0===t?void 0:t.mapView){var t,e,r=this.chart.renderer,i=r.patternElements;(null===(e=r.defIds)||void 0===e?void 0:e.length)&&i&&this.points.filter(function(t){var e,r,i,a;return!!t.graphic&&(t.graphic.element.hasAttribute("fill")||t.graphic.element.hasAttribute("color")||t.graphic.element.hasAttribute("stroke"))&&!(null===(r=null===(e=t.options.color)||void 0===e?void 0:e.pattern)||void 0===r?void 0:r.image)&&!!(null===(i=t.group)||void 0===i?void 0:i.scaleX)&&!!(null===(a=t.group)||void 0===a?void 0:a.scaleY)}).map(function(t){var e,i,a,n,o;return{id:((null===(e=t.graphic)||void 0===e?void 0:e.element.getAttribute("fill"))||(null===(i=t.graphic)||void 0===i?void 0:i.element.getAttribute("color"))||(null===(a=t.graphic)||void 0===a?void 0:a.element.getAttribute("stroke"))||"").replace(r.url,"").replace("url(#","").replace(")",""),x:(null===(n=t.group)||void 0===n?void 0:n.scaleX)||1,y:(null===(o=t.group)||void 0===o?void 0:o.scaleY)||1}}).filter(function(t,e,r){return""!==t.id&&-1!==t.id.indexOf("highcharts-pattern-")&&!r.some(function(r,i){return r.id===t.id&&i<e})}).forEach(function(t){var e=t.id;i[e].scaleX=1/t.x,i[e].scaleY=1/t.y,i[e].updateTransform("patternTransform")})}}var E=p();E.patterns=b,e=E.Chart,r=E.Series,i=E.SVGRenderer,(n=(a=r.prototype.pointClass).prototype).calculatePatternDimensions||(u(e,"endResize",function(){if(this.renderer&&(this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length){for(var t=0,e=this.series;t<e.length;t++){var r=e[t];if(r.visible)for(var i=0,a=r.points;i<a.length;i++){var n=a[i],o=n.options&&n.options.color;o&&o.pattern&&(o.pattern._width="defer",o.pattern._height="defer")}}this.redraw(!1)}}),u(e,"redraw",function(){var t={},e=this.renderer,r=(e.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});if(r.length){[].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(r){var i=r.getAttribute("fill")||r.getAttribute("color")||r.getAttribute("stroke");i&&(t[i.replace(e.url,"").replace("url(#","").replace(")","")]=!0)});for(var i=0;i<r.length;i++){var a=r[i];!t[a]&&(m(e.defIds,a),e.patternElements[a]&&(e.patternElements[a].destroy(),delete e.patternElements[a]))}}}),v(n,{calculatePatternDimensions:_}),u(a,"afterInit",function(){var t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=x(this.series.options.color,t))}),u(r,"render",function(){var t=this.chart.isResizing;if(this.isDirtyData||t||!this.chart.hasRendered)for(var e=0,r=this.points;e<r.length;e++){var i=r[e],a=i.options&&i.options.color;a&&a.pattern&&(t&&!(i.shapeArgs&&i.shapeArgs.width&&i.shapeArgs.height)?(a.pattern._width="defer",a.pattern._height="defer"):i.calculatePatternDimensions(a.pattern))}}),M(r.prototype,"getColor",function(t){var e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,[].slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,[].slice.call(arguments,1))}),u(r,"afterRender",A),u(r,"mapZoomComplete",A),v(i.prototype,{addPattern:function(t,e){var r,i,a,n=y(e,!0),o=c(n),h=t.color||"#333333",s=t.height||("number"==typeof t._height?t._height:0)||32,d=t.width||("number"==typeof t._width?t._width:0)||32,l=t.id;if(!l&&(this.idCounter=this.idCounter||0,l="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.forExport&&(l+="-export"),this.defIds=this.defIds||[],!(this.defIds.indexOf(l)>-1)){this.defIds.push(l);var f={id:l,patternUnits:"userSpaceOnUse",patternContentUnits:t.patternContentUnits||"userSpaceOnUse",width:d,height:s,x:t._x||t.x||0,y:t._y||t.y||0};t._inverted&&(f.patternTransform="scale(1, -1)",t.patternTransform&&(t.patternTransform+=" scale(1, -1)")),t.patternTransform&&(f.patternTransform=t.patternTransform);var u=this.createElement("pattern").attr(f).add(this.defs);return(u.id=l,t.path)?(a=p().isObject(t.path)?t.path:{d:t.path},t.backgroundColor&&(r=t.backgroundColor,this.rect(0,0,d,s).attr({fill:r}).add(u)),i={d:a.d},this.styledMode||(i.stroke=a.stroke||h,i["stroke-width"]=y(a.strokeWidth,2),i.fill=a.fill||"none"),a.transform&&(i.transform=a.transform),this.createElement("path").attr(i).add(u),u.color=h):t.image&&(n?this.image(t.image,0,0,d,s,function(){this.animate({opacity:y(t.opacity,1)},o),w(this.element,"load")}).attr({opacity:0}).add(u):this.image(t.image,0,0,d,s).add(u)),t.image&&n||void 0===t.opacity||[].forEach.call(u.element.childNodes,function(e){e.setAttribute("opacity",t.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[l]=u,u}}}),u(i,"complexColor",function(t){var e=t.args[0],r=t.args[1],i=t.args[2],a=this.chartIndex||0,n=e.pattern,o="#333333";if(void 0!==e.patternIndex&&b&&(n=b[e.patternIndex]),!n)return!0;if(n.image||"string"==typeof n.path||n.path&&n.path.d){var h=i.parentNode&&i.parentNode.getAttribute("class");h=h&&h.indexOf("highcharts-legend")>-1,("defer"===n._width||"defer"===n._height)&&_.call({graphic:{element:i}},n),(h||!n.id)&&((n=x({},n)).id="highcharts-pattern-"+a+"-"+L(n)+L(n,!0)),this.addPattern(n,!this.forExport&&y(n.animation,this.globalAnimation,{duration:100})),o="url(".concat(this.url,"#").concat(n.id+(this.forExport?"-export":""),")")}else o=n.color||o;return i.setAttribute(r,o),e.toString=function(){return o},!1}));var O=p();return d.default}()});