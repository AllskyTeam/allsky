{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts JS v12.1.2 (2025-01-09)\n * @module highcharts/modules/geoheatmap\n * @requires highcharts\n *\n * (c) 2009-2024\n *\n * License: www.highcharts.com/license\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"highcharts\"), require(\"highcharts\")[\"SeriesRegistry\"]);\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"highcharts/modules/geoheatmap\", [[\"highcharts/highcharts\"], [\"highcharts/highcharts\",\"SeriesRegistry\"]], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"highcharts/modules/geoheatmap\"] = factory(require(\"highcharts\"), require(\"highcharts\")[\"SeriesRegistry\"]);\n\telse\n\t\troot[\"Highcharts\"] = factory(root[\"Highcharts\"], root[\"Highcharts\"][\"SeriesRegistry\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__944__, __WEBPACK_EXTERNAL_MODULE__512__) {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 512:\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__512__;\n\n/***/ }),\n\n/***/ 944:\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__944__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ geoheatmap_src; }\n});\n\n// EXTERNAL MODULE: external {\"amd\":[\"highcharts/highcharts\"],\"commonjs\":[\"highcharts\"],\"commonjs2\":[\"highcharts\"],\"root\":[\"Highcharts\"]}\nvar highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_ = __webpack_require__(944);\nvar highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default = /*#__PURE__*/__webpack_require__.n(highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_);\n// EXTERNAL MODULE: external {\"amd\":[\"highcharts/highcharts\",\"SeriesRegistry\"],\"commonjs\":[\"highcharts\",\"SeriesRegistry\"],\"commonjs2\":[\"highcharts\",\"SeriesRegistry\"],\"root\":[\"Highcharts\",\"SeriesRegistry\"]}\nvar highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_ = __webpack_require__(512);\nvar highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default = /*#__PURE__*/__webpack_require__.n(highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_);\n;// ./code/es5/es-modules/Series/GeoHeatmap/GeoHeatmapPoint.js\n/* *\n *\n *  (c) 2010-2024 Highsoft AS\n *\n *  Authors: Magdalena Gut, Piotr Madej\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d,\n        b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d,\n        b) { d.__proto__ = b; }) ||\n                function (d,\n        b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MapPoint = (highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default()).seriesTypes.map.prototype.pointClass;\nvar isNumber = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).isNumber;\n/* *\n *\n *  Class\n *\n * */\nvar GeoHeatmapPoint = /** @class */ (function (_super) {\n    __extends(GeoHeatmapPoint, _super);\n    function GeoHeatmapPoint() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * @private\n     */\n    GeoHeatmapPoint.prototype.applyOptions = function (options, x) {\n        var point = _super.prototype.applyOptions.call(this,\n            options,\n            x),\n            _a = point.options,\n            lat = _a.lat,\n            lon = _a.lon;\n        if (isNumber(lon) && isNumber(lat)) {\n            var _b = this.series.options, _c = _b.colsize, colsize = _c === void 0 ? 1 : _c, _d = _b.rowsize, rowsize = _d === void 0 ? 1 : _d, x1 = lon - colsize / 2, y1 = lat - rowsize / 2;\n            point.geometry = point.options.geometry = {\n                type: 'Polygon',\n                // A rectangle centered in lon/lat\n                coordinates: [\n                    [\n                        [x1, y1],\n                        [x1 + colsize, y1],\n                        [x1 + colsize, y1 + rowsize],\n                        [x1, y1 + rowsize],\n                        [x1, y1]\n                    ]\n                ]\n            };\n        }\n        return point;\n        /* eslint-enable valid-jsdoc */\n    };\n    return GeoHeatmapPoint;\n}(MapPoint));\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ var GeoHeatmap_GeoHeatmapPoint = (GeoHeatmapPoint);\n\n;// ./code/es5/es-modules/Series/InterpolationUtilities.js\n/* *\n *\n *  (c) 2010-2024 Hubert Kozik\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n\n\nvar doc = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).doc;\n\nvar defined = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).defined, pick = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).pick;\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Find color of point based on color axis.\n *\n * @function Highcharts.colorFromPoint\n *\n * @param {number | null} value\n *        Value to find corresponding color on the color axis.\n *\n * @param {Highcharts.Point} point\n *        Point to find it's color from color axis.\n *\n * @return {number[]}\n *        Color in RGBa array.\n */\nfunction colorFromPoint(value, point) {\n    var colorAxis = point.series.colorAxis;\n    if (colorAxis) {\n        var rgba = (colorAxis.toColor(value || 0, point)\n                .split(')')[0]\n                .split('(')[1]\n                .split(',')\n                .map(function (s) { return pick(parseFloat(s), parseInt(s, 10)); }));\n        rgba[3] = pick(rgba[3], 1.0) * 255;\n        if (!defined(value) || !point.visible) {\n            rgba[3] = 0;\n        }\n        return rgba;\n    }\n    return [0, 0, 0, 0];\n}\n/**\n * Method responsible for creating a canvas for interpolation image.\n * @private\n */\nfunction getContext(series) {\n    var canvas = series.canvas,\n        context = series.context;\n    if (canvas && context) {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n    }\n    else {\n        series.canvas = doc.createElement('canvas');\n        series.context = series.canvas.getContext('2d', {\n            willReadFrequently: true\n        }) || void 0;\n        return series.context;\n    }\n    return context;\n}\nvar InterpolationUtilities = {\n    colorFromPoint: colorFromPoint,\n    getContext: getContext\n};\n/* harmony default export */ var Series_InterpolationUtilities = (InterpolationUtilities);\n\n;// ./code/es5/es-modules/Series/GeoHeatmap/GeoHeatmapSeries.js\n/* *\n *\n *  (c) 2010-2024 Highsoft AS\n *\n *  Authors: Magdalena Gut, Piotr Madej\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n\nvar GeoHeatmapSeries_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d,\n        b) {\n            extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array && function (d,\n        b) { d.__proto__ = b; }) ||\n                function (d,\n        b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b,\n        p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar animObject = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).animObject, stop = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).stop;\n\n\nvar noop = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).noop;\n\nvar GeoHeatmapSeries_colorFromPoint = Series_InterpolationUtilities.colorFromPoint, GeoHeatmapSeries_getContext = Series_InterpolationUtilities.getContext;\n\nvar MapSeries = (highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default()).seriesTypes.map;\n\nvar addEvent = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).addEvent, extend = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).extend, GeoHeatmapSeries_isNumber = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).isNumber, isObject = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).isObject, merge = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).merge, GeoHeatmapSeries_pick = (highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()).pick;\n/**\n * Normalize longitute value to -180:180 range.\n * @private\n */\nfunction normalizeLonValue(lon) {\n    return lon - Math.floor((lon + 180) / 360) * 360;\n}\n/**\n * Get proper point's position for PixelData array.\n * @private\n */\nfunction scaledPointPos(lon, lat, canvasWidth, canvasHeight, colsize, rowsize) {\n    return Math.ceil((canvasWidth * (canvasHeight - 1 - (lat + 90) / rowsize)) +\n        ((lon + 180) / colsize));\n}\n/* *\n *\n *  Class\n *\n * */\n/**\n * The Geo Heatmap series type.\n *\n * @private\n * @class\n * @name Highcharts.seriesTypes.geoheatmap\n *\n * @augments Highcharts.Series\n */\nvar GeoHeatmapSeries = /** @class */ (function (_super) {\n    GeoHeatmapSeries_extends(GeoHeatmapSeries, _super);\n    function GeoHeatmapSeries() {\n        /* *\n         *\n         *  Static Properties\n         *\n         * */\n        var _this = _super !== null && _super.apply(this,\n            arguments) || this;\n        _this.isDirtyCanvas = true;\n        return _this;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /* eslint-disable valid-jsdoc */\n    /**\n     * For updated colsize and rowsize options\n     * @private\n     */\n    GeoHeatmapSeries.prototype.update = function () {\n        var series = this;\n        series.options = merge(series.options, arguments[0]);\n        if (series.getInterpolation().enabled) {\n            series.isDirtyCanvas = true;\n            series.points.forEach(function (point) {\n                if (point.graphic) {\n                    point.graphic.destroy();\n                    delete point.graphic;\n                }\n            });\n        }\n        _super.prototype.update.apply(series, arguments);\n    };\n    /**\n     * Override translate method to not fire if not needed.\n     * @private\n     */\n    GeoHeatmapSeries.prototype.translate = function () {\n        if (this.getInterpolation().enabled &&\n            this.image &&\n            !this.isDirty &&\n            !this.isDirtyData) {\n            return;\n        }\n        _super.prototype.translate.apply(this, arguments);\n    };\n    /**\n     * Create the extended object out of the boolean\n     * @private\n     */\n    GeoHeatmapSeries.prototype.getInterpolation = function () {\n        if (!isObject(this.options.interpolation)) {\n            return {\n                blur: 1,\n                enabled: this.options.interpolation\n            };\n        }\n        return this.options.interpolation;\n    };\n    /**\n     * Overriding drawPoints original method to apply new features.\n     * @private\n     */\n    GeoHeatmapSeries.prototype.drawPoints = function () {\n        var series = this,\n            chart = series.chart,\n            mapView = chart.mapView,\n            seriesOptions = series.options;\n        if (series.getInterpolation().enabled && mapView && series.bounds) {\n            var ctx = series.context || GeoHeatmapSeries_getContext(series),\n                canvas = series.canvas,\n                colorAxis = series.colorAxis,\n                image_1 = series.image,\n                chart_1 = series.chart,\n                points = series.points,\n                _a = [\n                    GeoHeatmapSeries_pick(seriesOptions.colsize, 1),\n                    GeoHeatmapSeries_pick(seriesOptions.rowsize, 1)\n                ],\n                colsize = _a[0],\n                rowsize = _a[1], \n                // Calculate dimensions based on series bounds\n                topLeft = mapView.projectedUnitsToPixels({\n                    x: series.bounds.x1,\n                    y: series.bounds.y2\n                }),\n                bottomRight = mapView.projectedUnitsToPixels({\n                    x: series.bounds.x2,\n                    y: series.bounds.y1\n                });\n            if (canvas && ctx && colorAxis && topLeft && bottomRight) {\n                var dimensions_1 = {\n                        x: topLeft.x,\n                        y: topLeft.y,\n                        width: bottomRight.x - topLeft.x,\n                        height: bottomRight.y - topLeft.y\n                    };\n                if (\n                // Do not calculate new canvas if not necessary\n                series.isDirtyCanvas ||\n                    // Calculate new canvas if data is dirty\n                    series.isDirtyData ||\n                    // Always calculate new canvas for Orthographic projection\n                    mapView.projection.options.name === 'Orthographic') {\n                    series.isDirtyCanvas = true;\n                    var canvasWidth = canvas.width = ~~(360 / colsize) + 1, canvasHeight = canvas.height = ~~(180 / rowsize) + 1, canvasArea = canvasWidth * canvasHeight, pixelData = new Uint8ClampedArray(canvasArea * 4);\n                    series.directTouch = false; // Needed for tooltip\n                    // First pixelData represents the geo coordinates\n                    for (var i = 0; i < points.length; i++) {\n                        var p = points[i],\n                            sourceArr = new Uint8ClampedArray(GeoHeatmapSeries_colorFromPoint(p.value,\n                            p)),\n                            _b = p.options,\n                            lon = _b.lon,\n                            lat = _b.lat;\n                        if (GeoHeatmapSeries_isNumber(lon) && GeoHeatmapSeries_isNumber(lat)) {\n                            pixelData.set(sourceArr, scaledPointPos(lon, lat, canvasWidth, canvasHeight, colsize, rowsize) * 4);\n                        }\n                    }\n                    var blur_1 = series.getInterpolation().blur,\n                        blurFactor = blur_1 === 0 ? 1 : blur_1 * 11,\n                        upscaledWidth = ~~(canvasWidth * blurFactor),\n                        upscaledHeight = ~~(canvasHeight * blurFactor),\n                        projectedWidth = ~~dimensions_1.width,\n                        projectedHeight = ~~dimensions_1.height,\n                        img = new ImageData(pixelData,\n                        canvasWidth,\n                        canvasHeight);\n                    canvas.width = upscaledWidth;\n                    canvas.height = upscaledHeight;\n                    // Next step is to upscale pixelData to big image to get\n                    // the blur on the interpolation\n                    ctx.putImageData(img, 0, 0);\n                    // Now we have an unscaled version of our ImageData\n                    // let's make the compositing mode to 'copy' so that\n                    // our next drawing op erases whatever was there\n                    // previously just like putImageData would have done\n                    ctx.globalCompositeOperation = 'copy';\n                    // Now we can draw ourself over ourself\n                    ctx.drawImage(canvas, 0, 0, img.width, img.height, // Grab the ImageData\n                    0, 0, canvas.width, canvas.height // Scale it\n                    );\n                    // Add projection to upscaled ImageData\n                    var cartesianImageData = ctx.getImageData(0, 0,\n                        canvas.width,\n                        canvas.height),\n                        projectedPixelData = this.getProjectedImageData(mapView,\n                        projectedWidth,\n                        projectedHeight,\n                        cartesianImageData,\n                        canvas,\n                        dimensions_1.x,\n                        dimensions_1.y),\n                        projectedImg = new ImageData(projectedPixelData,\n                        projectedWidth,\n                        projectedHeight);\n                    ctx.globalCompositeOperation = 'copy';\n                    canvas.width = projectedWidth;\n                    canvas.height = projectedHeight;\n                    ctx.putImageData(projectedImg, 0, 0);\n                }\n                if (image_1) {\n                    if (chart_1.renderer.globalAnimation && chart_1.hasRendered) {\n                        var startX_1 = Number(image_1.attr('x')), startY_1 = Number(image_1.attr('y')), startWidth_1 = Number(image_1.attr('width')), startHeight_1 = Number(image_1.attr('height'));\n                        var step_1 = function (now,\n                            fx) {\n                                image_1.attr({\n                                    x: (startX_1 + (dimensions_1.x - startX_1) * fx.pos),\n                                    y: (startY_1 + (dimensions_1.y - startY_1) * fx.pos),\n                                    width: (startWidth_1 + (dimensions_1.width - startWidth_1) * fx.pos),\n                                    height: (startHeight_1 + (dimensions_1.height - startHeight_1) * fx.pos)\n                                });\n                        };\n                        var animOptions = merge(animObject(chart_1.renderer.globalAnimation)),\n                            userStep_1 = animOptions.step;\n                        animOptions.step =\n                            function () {\n                                if (userStep_1) {\n                                    userStep_1.apply(this, arguments);\n                                }\n                                step_1.apply(this, arguments);\n                            };\n                        image_1\n                            .attr(merge({ animator: 0 }, series.isDirtyCanvas ? {\n                            href: canvas.toDataURL('image/png', 1)\n                        } : void 0))\n                            .animate({ animator: 1 }, animOptions);\n                        // When dragging or first rendering, animation is off\n                    }\n                    else {\n                        stop(image_1);\n                        image_1.attr(merge(dimensions_1, series.isDirtyCanvas ? {\n                            href: canvas.toDataURL('image/png', 1)\n                        } : void 0));\n                    }\n                }\n                else {\n                    series.image = chart_1.renderer.image(canvas.toDataURL('image/png', 1))\n                        .attr(dimensions_1)\n                        .add(series.group);\n                }\n                series.isDirtyCanvas = false;\n            }\n        }\n        else {\n            _super.prototype.drawPoints.apply(series, arguments);\n        }\n    };\n    /**\n     * Project ImageData to actual mapView projection used on a chart.\n     * @private\n     */\n    GeoHeatmapSeries.prototype.getProjectedImageData = function (mapView, projectedWidth, projectedHeight, cartesianImageData, canvas, horizontalShift, verticalShift) {\n        var _a;\n        var projectedPixelData = new Uint8ClampedArray(projectedWidth * projectedHeight * 4), lambda = GeoHeatmapSeries_pick((_a = mapView.projection.options.rotation) === null || _a === void 0 ? void 0 : _a[0], 0), widthFactor = canvas.width / 360, heightFactor = -1 * canvas.height / 180;\n        var y = -1;\n        // For each pixel on the map plane, find the map\n        // coordinate and get the color value\n        for (var i = 0; i < projectedPixelData.length; i += 4) {\n            var x = (i / 4) % projectedWidth;\n            if (x === 0) {\n                y++;\n            }\n            var projectedCoords = mapView.pixelsToLonLat({\n                    x: horizontalShift + x,\n                    y: verticalShift + y\n                });\n            if (projectedCoords) {\n                // Normalize lon values\n                if (projectedCoords.lon > -180 - lambda &&\n                    projectedCoords.lon < 180 - lambda) {\n                    projectedCoords.lon =\n                        normalizeLonValue(projectedCoords.lon);\n                }\n                var projected = [\n                        projectedCoords.lon,\n                        projectedCoords.lat\n                    ],\n                    cvs2PixelX = projected[0] * widthFactor + canvas.width / 2,\n                    cvs2PixelY = projected[1] * heightFactor +\n                        canvas.height / 2;\n                if (cvs2PixelX >= 0 &&\n                    cvs2PixelX <= canvas.width &&\n                    cvs2PixelY >= 0 &&\n                    cvs2PixelY <= canvas.height) {\n                    var redPos = (\n                        // Rows\n                        Math.floor(cvs2PixelY) *\n                            canvas.width * 4 +\n                            // Columns\n                            Math.round(cvs2PixelX) * 4);\n                    projectedPixelData[i] =\n                        cartesianImageData.data[redPos];\n                    projectedPixelData[i + 1] =\n                        cartesianImageData.data[redPos + 1];\n                    projectedPixelData[i + 2] =\n                        cartesianImageData.data[redPos + 2];\n                    projectedPixelData[i + 3] =\n                        cartesianImageData.data[redPos + 3];\n                }\n            }\n        }\n        return projectedPixelData;\n    };\n    GeoHeatmapSeries.prototype.searchPoint = function (e, compareX) {\n        var series = this,\n            chart = this.chart,\n            mapView = chart.mapView;\n        if (mapView &&\n            series.bounds &&\n            series.image &&\n            chart.tooltip &&\n            chart.tooltip.options.enabled) {\n            if (\n            // If user drags map do not build k-d-tree\n            !chart.pointer.hasDragged &&\n                // If user zooms in/out map do not build k-d-tree\n                (+series.image.attr('animator') <= 0.01 ||\n                    +series.image.attr('animator') >= 0.99)) {\n                var topLeft = mapView.projectedUnitsToPixels({\n                        x: series.bounds.x1,\n                        y: series.bounds.y2\n                    }),\n                    bottomRight = mapView.projectedUnitsToPixels({\n                        x: series.bounds.x2,\n                        y: series.bounds.y1\n                    });\n                chart.pointer.normalize(e);\n                if (e.lon && e.lat &&\n                    topLeft && bottomRight &&\n                    e.chartX - chart.plotLeft > topLeft.x &&\n                    e.chartX - chart.plotLeft < bottomRight.x &&\n                    e.chartY - chart.plotTop > topLeft.y &&\n                    e.chartY - chart.plotTop < bottomRight.y) {\n                    return this.searchKDTree({\n                        clientX: e.chartX,\n                        lon: normalizeLonValue(e.lon),\n                        lat: e.lat\n                    }, compareX, e);\n                }\n            }\n            else {\n                chart.tooltip.destroy();\n            }\n        }\n    };\n    /**\n     * A `geoheatmap` series is a variety of heatmap series, composed into\n     * the map projection, where the units are expressed in the latitude\n     * and longitude, and individual values contained in a matrix are\n     * represented as colors.\n     *\n     * @sample maps/demo/geoheatmap-europe/\n     *         GeoHeatmap Chart with interpolation on Europe map\n     * @sample maps/series-geoheatmap/geoheatmap-equalearth/\n     *         GeoHeatmap Chart on the Equal Earth Projection\n     *\n     * @extends      plotOptions.map\n     * @since        11.0.0\n     * @product      highmaps\n     * @excluding    allAreas, dragDrop, findNearestPointBy, geometry, joinBy,\n     * negativeColor, onPoint, stickyTracking\n     * @requires     modules/geoheatmap\n     * @optionparent plotOptions.geoheatmap\n     */\n    GeoHeatmapSeries.defaultOptions = merge(MapSeries.defaultOptions, {\n        nullColor: 'transparent',\n        tooltip: {\n            pointFormat: 'Lat: {point.lat}, Lon: {point.lon}, Value: {point.value}<br/>'\n        },\n        /**\n         * The border width of each geoheatmap tile.\n         *\n         * In styled mode, the border stroke width is given in the\n         * `.highcharts-point` class.\n         *\n         * @sample maps/demo/geoheatmap-orthographic/\n         *         borderWidth set to 1 to create a grid\n         *\n         * @type      {number|null}\n         * @default   0\n         * @product   highmaps\n         * @apioption plotOptions.geoheatmap.borderWidth\n         */\n        borderWidth: 0,\n        /**\n         * The column size - how many longitude units each column in the\n         * geoheatmap should span.\n         *\n         * @sample maps/demo/geoheatmap-europe/\n         *         1 by default, set to 5\n         *\n         * @product   highmaps\n         * @apioption plotOptions.geoheatmap.colsize\n         */\n        colsize: 1,\n        /**\n         * The main color of the series. In heat maps this color is rarely\n         * used, as we mostly use the color to denote the value of each\n         * point. Unless options are set in the [colorAxis](#colorAxis), the\n         * default value is pulled from the [options.colors](#colors) array.\n         *\n         * @type      {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n         * @product   highmaps\n         * @apioption plotOptions.geoheatmap.color\n         */\n        /**\n         * The rowsize size - how many latitude units each row in the\n         * geoheatmap should span.\n         *\n         * @sample maps/demo/geoheatmap-europe/\n         *         1 by default, set to 5\n         *\n         * @product   highmaps\n         * @apioption plotOptions.geoheatmap.rowsize\n         */\n        rowsize: 1,\n        stickyTracking: true,\n        /**\n         * Make the geoheatmap render its data points as an interpolated\n         * image. It can be used to show a Temperature Map-like charts.\n         *\n         * @sample maps/demo/geoheatmap-earth-statistics\n         *         Advanced demo of GeoHeatmap interpolation with multiple\n         *         datasets\n         *\n         * @type      {boolean|Highcharts.InterpolationOptionsObject}\n         * @since     11.2.0\n         * @product   highmaps\n         */\n        interpolation: {\n            /**\n             * Enable or disable the interpolation of the geoheatmap series.\n             *\n             * @since 11.2.0\n             */\n            enabled: false,\n            /**\n             * Represents how much blur should be added to the interpolated\n             * image. Works best in the range of 0-1, all higher values\n             * would need a lot more performance of the machine to calculate\n             * more detailed interpolation.\n             *\n             *  * **Note:** Useful, if the data is spread into wide range of\n             *  longitude and latitude values.\n             *\n             * @sample maps/series-geoheatmap/turkey-fire-areas\n             *         Simple demo of GeoHeatmap interpolation\n             *\n             * @since  11.2.0\n             */\n            blur: 1\n        }\n    });\n    return GeoHeatmapSeries;\n}(MapSeries));\naddEvent(GeoHeatmapSeries, 'afterDataClassLegendClick', function () {\n    this.isDirtyCanvas = true;\n    this.drawPoints();\n});\nextend(GeoHeatmapSeries.prototype, {\n    type: 'geoheatmap',\n    applyJitter: noop,\n    pointClass: GeoHeatmap_GeoHeatmapPoint,\n    pointArrayMap: ['lon', 'lat', 'value'],\n    kdAxisArray: ['lon', 'lat'] // Search k-d-tree by lon/lat values\n});\nhighcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default().registerSeriesType('geoheatmap', GeoHeatmapSeries);\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ var GeoHeatmap_GeoHeatmapSeries = ((/* unused pure expression or super */ null && (GeoHeatmapSeries)));\n/* *\n *\n *  API Options\n *\n * */\n/**\n * A `geoheatmap` series. If the [type](#series.map.type) option is not\n * specified, it is inherited from [chart.type](#chart.type).\n *\n * @extends   series,plotOptions.geoheatmap\n * @excluding allAreas, dataParser, dataURL, dragDrop, findNearestPointBy,\n *            joinBy, marker, mapData, negativeColor, onPoint, shadow,\n *            stickyTracking\n * @product   highmaps\n * @apioption series.geoheatmap\n */\n/**\n * An array of data points for the series. For the `geoheatmap` series\n * type, points can be given in the following ways:\n *\n * 1.  An array of arrays with 3 or 2 values. In this case, the values\n * correspond to `lon,lat,value`. The `value` refers to the color on the `colorAxis`.\n *\n *  ```js\n *     data: [\n *         [51.50, -0.12, 7],\n *         [54.59, -5.93, 4],\n *         [55.8, -4.25, 3]\n *     ]\n *  ```\n *\n * 2.  An array of objects with named values. The following snippet shows only a\n * few settings, see the complete options set below. If the total number of data\n * points exceeds the series' [turboThreshold](#series.heatmap.turboThreshold),\n * this option is not available.\n *\n *  ```js\n *     data: [{\n *         lat: 51.50,\n *         lon: -0.12,\n *         value: 7,\n *         name: \"London\"\n *     }, {\n *         lat: 54.59,\n *         lon: -5.93,\n *         value: 4,\n *         name: \"Belfast\"\n *     }]\n *  ```\n *\n * @sample maps/demo/geoheatmap-europe/\n *         GeoHeatmap Chart with interpolation on Europe map\n * @sample maps/series-geoheatmap/geoheatmap-equalearth/\n *         GeoHeatmap Chart on the Equal Earth Projection\n *\n * @type      {Array<Array<number>|*>}\n * @extends   series.map.data\n * @product   highmaps\n * @apioption series.geoheatmap.data\n */\n/**\n * Individual color for the point. By default the color is either used\n * to denote the value, or pulled from the global `colors` array.\n *\n * @type      {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n * @product   highmaps\n * @apioption series.geoheatmap.data.color\n */\n/**\n * The value of the point, resulting in a color controlled by options\n * as set in the [colorAxis](#colorAxis) configuration.\n *\n * @type      {number|null}\n * @product   highmaps\n * @apioption series.geoheatmap.data.value\n */\n/**\n * Detailed options for interpolation object.\n *\n * @interface Highcharts.InterpolationOptionsObject\n */ /**\n*  Enable or disable the interpolation.\n*\n* @name Highcharts.InterpolationOptionsObject#enabled\n* @type {boolean}\n*/ /**\n* Represents how much blur should be added to the interpolated\n* image. Works best in the range of 0-1, all higher values\n* would need a lot more performance of the machine to calculate\n* more detailed interpolation.\n*\n* @name Highcharts.InterpolationOptionsObject#blur\n* @type {number}\n*/\n''; // Adds doclets above to the transpiled file\n\n;// ./code/es5/es-modules/masters/modules/geoheatmap.src.js\n\n\n\n\n/* harmony default export */ var geoheatmap_src = ((highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default()));\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE__944__","__WEBPACK_EXTERNAL_MODULE__512__","extendStatics","__webpack_modules__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","__webpack_exports__","geoheatmap_src","highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_","highcharts_commonjs_highcharts_commonjs2_highcharts_root_Highcharts_default","highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_","highcharts_SeriesRegistry_commonjs_highcharts_SeriesRegistry_commonjs2_highcharts_SeriesRegistry_root_Highcharts_SeriesRegistry_default","__extends","b","setPrototypeOf","__proto__","Array","p","__","constructor","create","MapPoint","seriesTypes","map","pointClass","isNumber","GeoHeatmapPoint","_super","apply","arguments","applyOptions","options","x","point","_a","lat","lon","_b","series","_c","colsize","_d","rowsize","x1","y1","geometry","type","coordinates","doc","defined","pick","canvas","context","clearRect","width","height","createElement","getContext","willReadFrequently","GeoHeatmapSeries_extends","TypeError","String","animObject","stop","noop","GeoHeatmapSeries_colorFromPoint","value","colorAxis","rgba","toColor","split","s","parseFloat","parseInt","visible","MapSeries","addEvent","extend","GeoHeatmapSeries_isNumber","isObject","merge","GeoHeatmapSeries_pick","normalizeLonValue","Math","floor","GeoHeatmapSeries","_this","isDirtyCanvas","update","getInterpolation","enabled","points","forEach","graphic","destroy","translate","image","isDirty","isDirtyData","interpolation","blur","drawPoints","mapView","chart","seriesOptions","bounds","ctx","GeoHeatmapSeries_getContext","image_1","chart_1","topLeft","projectedUnitsToPixels","y","y2","bottomRight","x2","dimensions_1","projection","name","canvasWidth","canvasHeight","pixelData","Uint8ClampedArray","canvasArea","directTouch","i","length","sourceArr","set","scaledPointPos","ceil","blur_1","blurFactor","projectedWidth","projectedHeight","img","ImageData","putImageData","globalCompositeOperation","drawImage","cartesianImageData","getImageData","projectedImg","getProjectedImageData","renderer","globalAnimation","hasRendered","startX_1","Number","attr","startY_1","startWidth_1","startHeight_1","step_1","now","fx","pos","animOptions","userStep_1","step","animator","href","toDataURL","animate","add","group","horizontalShift","verticalShift","projectedPixelData","lambda","rotation","widthFactor","heightFactor","projectedCoords","pixelsToLonLat","projected","cvs2PixelX","cvs2PixelY","redPos","round","data","searchPoint","e","compareX","tooltip","pointer","hasDragged","normalize","chartX","plotLeft","chartY","plotTop","searchKDTree","clientX","defaultOptions","nullColor","pointFormat","borderWidth","stickyTracking","applyJitter","pointArrayMap","kdAxisArray","registerSeriesType"],"mappings":"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"}