!/**
 * Highcharts JS v12.1.2 (2025-01-09)
 * @module highcharts/modules/dependency-wheel
 * @requires highcharts
 * @requires highcharts/modules/sankey
 *
 * Dependency wheel module
 *
 * (c) 2010-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").SVGElement):"function"==typeof define&&define.amd?define("highcharts/modules/dependency-wheel",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","SVGElement"]],e):"object"==typeof exports?exports["highcharts/modules/dependency-wheel"]=e(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").SVGElement):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.SVGElement)}(this,function(t,e,r){return function(){"use strict";var n,o,a,i,s,h={28:function(t){t.exports=r},512:function(t){t.exports=e},944:function(e){e.exports=t}},c={};function u(t){var e=c[t];if(void 0!==e)return e.exports;var r=c[t]={exports:{}};return h[t](r,r.exports,u),r.exports}u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,{a:e}),e},u.d=function(t,e){for(var r in e)u.o(e,r)&&!u.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var d={};u.d(d,{default:function(){return D}});var p=u(944),l=u.n(p),f=u(512),g=u.n(f),y=(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v=g().seriesTypes.sankey.prototype.pointClass,x=l().pInt,m=l().wrap,b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.getDataLabelPath=function(t){var e,r=this,n=r.series.chart.renderer,o=r.shapeArgs,a=r.angle<0||r.angle>Math.PI,i=o.start||0,s=o.end||0;return r.dataLabelPath?(r.dataLabelPath=r.dataLabelPath.destroy(),delete r.dataLabelPath):m(t,"destroy",function(t){return r.dataLabelPath&&(r.dataLabelPath=r.dataLabelPath.destroy()),t.call(this)}),r.dataLabelPath=n.arc({open:!0,longArc:Math.abs(Math.abs(i)-Math.abs(s))<Math.PI?0:1}).attr({x:o.x,y:o.y,r:(o.r||0)+x((null===(e=t.options)||void 0===e?void 0:e.distance)||0),start:a?i:s,end:a?s:i,clockwise:+a}).add(n.defs),r.dataLabelPath},e.prototype.isValid=function(){return!0},e}(v),P={center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}},M=l().defined,L=l().getAlignFactor,k=l().relativeLength;(o=s||(s={})).compose=function(t,e){return t.sankeyColumn=new a(t,e),t},a=function(){function t(t,e){this.points=t,this.series=e}return t.prototype.getTranslationFactor=function(t){for(var e,r,n=this.points,o=n.slice(),a=t.chart,i=t.options.minLinkWidth||0,s=0,h=(a.plotSizeY||0)-(t.options.borderWidth||0)-(n.length-1)*t.nodePadding;n.length;){for(s=h/n.sankeyColumn.sum(),e=!1,r=n.length;r--;)n[r].getSum()*s<i&&(n.splice(r,1),h=Math.max(0,h-i),e=!0);if(!e)break}n.length=0;for(var c=0;c<o.length;c++){var u=o[c];n.push(u)}return s},t.prototype.top=function(t){var e=this.series,r=e.nodePadding,n=this.points.reduce(function(n,o){return n>0&&(n+=r),n+=Math.max(o.getSum()*t,e.options.minLinkWidth||0)},0);return L(e.options.nodeAlignment||"center")*((e.chart.plotSizeY||0)-n)},t.prototype.left=function(t){var e=this.series,r=e.chart,n=e.options.equalNodes,o=r.inverted?r.plotHeight:r.plotWidth,a=e.nodePadding,i=this.points.reduce(function(r,i){return r>0&&(r+=a),r+=n?o/i.series.nodes.length-a:Math.max(i.getSum()*t,e.options.minLinkWidth||0)},0);return((r.plotSizeX||0)-Math.round(i))/2},t.prototype.sum=function(){return this.points.reduce(function(t,e){return t+e.getSum()},0)},t.prototype.offset=function(t,e){var r,n=this.points,o=this.series,a=o.nodePadding,i=0;if(o.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(var s=0;s<n.length;s++){var h=n[s].getSum(),c=Math.max(h*e,o.options.minLinkWidth||0),u=t.options[o.chart.inverted?"offsetHorizontal":"offsetVertical"],d=t.options.offset||0;if(r=h?c+a:0,n[s]===t)return{relativeTop:i+(M(u)?k(u,c):k(d,r))};i+=r}},t}(),o.SankeyColumnAdditions=a;var S=s,O=u(28),T=u.n(O),_=l().deg2rad,A=l().addEvent,C=l().merge,w=l().uniqueKey,j=l().defined,N=l().extend;function q(t,e){var r=this;e=C(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);var n=this.renderer.url,o=this.text||this,a=o.textPath,i=e.attributes,s=e.enabled;if(t=t||a&&a.path,a&&a.undo(),t&&s){var h=A(o,"afterModifyTree",function(e){if(t&&s){var a=t.attr("id");a||t.attr("id",a=w());var h={x:0,y:0};j(i.dx)&&(h.dx=i.dx,delete i.dx),j(i.dy)&&(h.dy=i.dy,delete i.dy),o.attr(h),r.attr({transform:""}),r.box&&(r.box=r.box.destroy());var c=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:N(i,{"text-anchor":i.textAnchor,href:""+n+"#".concat(a)}),children:c}}});o.textPath={path:t,undo:h}}else o.attr({dx:0,dy:0}),delete o.textPath;return this.added&&(o.textCache="",this.renderer.buildText(o)),this}function F(t){var e,r=t.bBox,n=null===(e=this.element)||void 0===e?void 0:e.querySelector("textPath");if(n){for(var o=[],a=this.renderer.fontMetrics(this.element),i=a.b,s=a.h-i,h=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),c=n.innerHTML.replace(h,"").split(/<tspan class="highcharts-br"[^>]*>/),u=c.length,d=function(t,e){var r=e.x,o=e.y,a=(n.getRotationOfChar(t)-90)*_,h=Math.cos(a),c=Math.sin(a);return[[r-s*h,o-s*c],[r+i*h,o+i*c]]},p=0,l=0;l<u;l++){for(var f=c[l].length,g=0;g<f;g+=5)try{var y=p+g+l,v=d(y,n.getStartPositionOfChar(y)),x=v[0],m=v[1];0===g?(o.push(m),o.push(x)):(0===l&&o.unshift(m),l===u-1&&o.push(x))}catch(t){break}p+=f-1;try{var y=p+l,b=n.getEndPositionOfChar(y),P=d(y,b),x=P[0],m=P[1];o.unshift(m),o.unshift(x)}catch(t){break}}o.length&&o.push(o[0].slice()),r.polygon=o}return r}function H(t){var e,r=t.labelOptions,n=t.point,o=r[n.formatPrefix+"TextPath"]||r.textPath;o&&!r.useHTML&&(this.setTextPath((null===(e=n.getDataLabelPath)||void 0===e?void 0:e.call(n,this))||n.graphic,o),n.dataLabelPath&&!o.enabled&&(n.dataLabelPath=n.dataLabelPath.destroy()))}var R=(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E=l().animObject,W=l().deg2rad,Y=g().seriesTypes,B=Y.pie,I=Y.sankey,V=l().extend,X=l().merge,z=l().relativeLength;({compose:function(t){A(t,"afterGetBBox",F),A(t,"beforeAddingDataLabel",H);var e=t.prototype;e.setTextPath||(e.setTextPath=q)}}).compose(T());var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.animate=function(t){if(!t){for(var e=E(this.options.animation).duration/2/this.nodes.length,r=0,n=function(t){var n=t.graphic;n&&(n.attr({opacity:0}),setTimeout(function(){t.graphic&&t.graphic.animate({opacity:1},{duration:e})},e*r++))},o=0,a=this.nodes;o<a.length;o++){var i=a[o];n(i)}for(var s=0,h=this.points;s<h.length;s++){var i=h[s],c=i.graphic;!i.isNode&&c&&c.attr({opacity:0}).animate({opacity:1},this.options.animation)}}},e.prototype.createNode=function(e){var r=t.prototype.createNode.call(this,e);return r.getSum=function(){return r.linksFrom.concat(r.linksTo).reduce(function(t,e){return t+e.weight},0)},r.offset=function(t){var e,n=function(t){return t.fromNode===r?t.toNode:t.fromNode},o=0,a=r.linksFrom.concat(r.linksTo);a.sort(function(t,e){return n(t).index-n(e).index});for(var i=0;i<a.length;i++)if(n(a[i]).index>r.index){a=a.slice(0,i).reverse().concat(a.slice(i).reverse()),e=!0;break}e||a.reverse();for(var i=0;i<a.length;i++){if(a[i]===t)return o;o+=a[i].weight}},r},e.prototype.createNodeColumns=function(){for(var t=[S.compose([],this)],e=0,r=this.nodes;e<r.length;e++){var n=r[e];n.column=0,t[0].push(n)}return t},e.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},e.prototype.translate=function(){var e=this.options,r=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),n=this.getCenter(),o=(e.startAngle-90)*W,a=e.borderRadius,i="object"==typeof a?a.radius:a;t.prototype.translate.call(this);for(var s=0,h=this.nodeColumns[0];s<h.length;s++)!function(t){if(t.sum){var a=t.shapeArgs,s=n[0],h=n[1],c=n[2]/2,u=c-z(("auto"===e.nodeWidth?20:e.nodeWidth)||0,c),d=o+r*(a.y||0),p=o+r*((a.y||0)+(a.height||0));t.angle=d+(p-d)/2,t.shapeType="arc",t.shapeArgs={x:s,y:h,r:c,innerR:u,start:d,end:p,borderRadius:i},t.dlBox={x:s+Math.cos((d+p)/2)*(c+u)/2,y:h+Math.sin((d+p)/2)*(c+u)/2,width:1,height:1};for(var l=function(t){if(t.linkBase){var n,a,i=t.linkBase.map(function(i,c){var d=r*i,p=Math.cos(o+d)*(u+1),l=Math.sin(o+d)*(u+1);return n=e.curveFactor||0,(a=Math.abs(t.linkBase[3-c]*r-d))>Math.PI&&(a=2*Math.PI-a),(a*=u)<u&&(n*=a/u),{x:s+p,y:h+l,cpX:s+(1-n)*p,cpY:h+(1-n)*l}});t.shapeArgs={d:[["M",i[0].x,i[0].y],["A",u,u,0,0,1,i[1].x,i[1].y],["C",i[1].cpX,i[1].cpY,i[2].cpX,i[2].cpY,i[2].x,i[2].y],["A",u,u,0,0,1,i[3].x,i[3].y],["C",i[3].cpX,i[3].cpY,i[0].cpX,i[0].cpY,i[0].x,i[0].y]]}}},f=0,g=t.linksFrom;f<g.length;f++)l(g[f])}}(h[s])},e.defaultOptions=X(I.defaultOptions,P),e}(I);V(G.prototype,{orderNodes:!1,getCenter:B.prototype.getCenter}),G.prototype.pointClass=b,g().registerSeriesType("dependencywheel",G);var D=l();return d.default}()});