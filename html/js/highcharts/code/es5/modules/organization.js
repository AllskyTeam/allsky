!/**
 * Highcharts JS v12.1.2 (2025-01-09)
 * Organization chart series type
 * @module highcharts/modules/organization
 * @requires highcharts
 * @requires highcharts/modules/sankey
 *
 * (c) 2019-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").SVGElement):"function"==typeof define&&define.amd?define("highcharts/modules/organization",[["highcharts/highcharts"],["highcharts/highcharts","SeriesRegistry"],["highcharts/highcharts","SVGElement"]],e):"object"==typeof exports?exports["highcharts/modules/organization"]=e(require("highcharts"),require("highcharts").SeriesRegistry,require("highcharts").SVGElement):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.SVGElement)}(this,function(t,e,i){return function(){"use strict";var n,r,o={28:function(t){t.exports=i},512:function(t){t.exports=e},944:function(e){e.exports=t}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var i=a[t]={exports:{}};return o[t](i,i.exports,s),i.exports}s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var h={};s.d(h,{default:function(){return B}});var l=s(944),p=s.n(l),d=s(512),u=s.n(d),c=(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=u().seriesTypes.sankey.prototype.pointClass,f=p().defined,y=p().find,m=p().pick,v=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.isNode||(r.dataLabelOnNull=!0,r.formatPrefix="link"),r}return c(e,t),e.prototype.getSum=function(){return 1},e.prototype.setNodeColumn=function(){t.prototype.setNodeColumn.call(this);var e=this,i=e.getFromNode().fromNode;if(!f(e.options.column)&&0!==e.linksTo.length&&i&&"hanging"===i.options.layout){var n=-1,r=void 0;e.options.layout=m(e.options.layout,"hanging"),e.hangsFrom=i,y(i.linksFrom,function(t,i){var r=t.toNode===e;return r&&(n=i),r});for(var o=0;o<i.linksFrom.length;++o)(r=i.linksFrom[o]).toNode.id===e.id?o=i.linksFrom.length:n+=function t(e){var i=e.linksFrom.length;return e.linksFrom.forEach(function(e){e.id===e.toNode.linksTo[0].id?i+=t(e.toNode):i--}),i}(r.toNode);e.column=(e.column||0)+n}},e}(g),b={borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){var t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},e={"max-height":"100%","border-radius":"50%"},i={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function n(t){return Object.keys(t).reduce(function(e,i){return e+i+":"+t[i]+";"},'style="')+'"'}var r=this.point,o=r.description,a=r.image,s=r.title;a&&(e["max-width"]="30%",i.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",i.position="absolute",i.left=a?"30%":0,i.top=0);var h="<div "+n(t)+">";return a&&(h+='<img src="'+a+'" '+n(e)+">"),h+="<div "+n(i)+">",this.point.name&&(h+="<h4 "+n({margin:0})+">"+this.point.name+"</h4>"),s&&(h+="<p "+n({margin:0})+">"+(s||"")+"</p>"),o&&(h+="<p "+n({opacity:.75,margin:"5px"})+">"+o+"</p>"),h+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em",textAlign:"left"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",hangingSide:"left",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}},k={applyRadius:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n][1],o=t[n][2];if("number"==typeof r&&"number"==typeof o){if(0===n)i.push(["M",r,o]);else if(n===t.length-1)i.push(["L",r,o]);else if(e){var a=t[n-1],s=t[n+1];if(a&&s){var h=a[1],l=a[2],p=s[1],d=s[2];if("number"==typeof h&&"number"==typeof p&&"number"==typeof l&&"number"==typeof d&&h!==p&&l!==d){var u=h<p?1:-1,c=l<d?1:-1;i.push(["L",r-u*Math.min(Math.abs(r-h),e),o-c*Math.min(Math.abs(o-l),e)],["C",r,o,r,o,r+u*Math.min(Math.abs(r-p),e),o+c*Math.min(Math.abs(o-d),e)])}}}else i.push(["L",r,o])}}return i}},x=s(28),A=s.n(x),L=p().deg2rad,O=p().addEvent,w=p().merge,P=p().uniqueKey,M=p().defined,N=p().extend;function T(t,e){var i=this;e=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);var n=this.renderer.url,r=this.text||this,o=r.textPath,a=e.attributes,s=e.enabled;if(t=t||o&&o.path,o&&o.undo(),t&&s){var h=O(r,"afterModifyTree",function(e){if(t&&s){var o=t.attr("id");o||t.attr("id",o=P());var h={x:0,y:0};M(a.dx)&&(h.dx=a.dx,delete a.dx),M(a.dy)&&(h.dy=a.dy,delete a.dy),r.attr(h),i.attr({transform:""}),i.box&&(i.box=i.box.destroy());var l=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:N(a,{"text-anchor":a.textAnchor,href:""+n+"#".concat(o)}),children:l}}});r.textPath={path:t,undo:h}}else r.attr({dx:0,dy:0}),delete r.textPath;return this.added&&(r.textCache="",this.renderer.buildText(r)),this}function S(t){var e,i=t.bBox,n=null===(e=this.element)||void 0===e?void 0:e.querySelector("textPath");if(n){for(var r=[],o=this.renderer.fontMetrics(this.element),a=o.b,s=o.h-a,h=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),l=n.innerHTML.replace(h,"").split(/<tspan class="highcharts-br"[^>]*>/),p=l.length,d=function(t,e){var i=e.x,r=e.y,o=(n.getRotationOfChar(t)-90)*L,h=Math.cos(o),l=Math.sin(o);return[[i-s*h,r-s*l],[i+a*h,r+a*l]]},u=0,c=0;c<p;c++){for(var g=l[c].length,f=0;f<g;f+=5)try{var y=u+f+c,m=d(y,n.getStartPositionOfChar(y)),v=m[0],b=m[1];0===f?(r.push(b),r.push(v)):(0===c&&r.unshift(b),c===p-1&&r.push(v))}catch(t){break}u+=g-1;try{var y=u+c,k=n.getEndPositionOfChar(y),x=d(y,k),v=x[0],b=x[1];r.unshift(b),r.unshift(v)}catch(t){break}}r.length&&r.push(r[0].slice()),i.polygon=r}return i}function W(t){var e,i=t.labelOptions,n=t.point,r=i[n.formatPrefix+"TextPath"]||i.textPath;r&&!i.useHTML&&(this.setTextPath((null===(e=n.getDataLabelPath)||void 0===e?void 0:e.call(n,this))||n.graphic,r),n.dataLabelPath&&!r.enabled&&(n.dataLabelPath=n.dataLabelPath.destroy()))}var _=(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),C=u().seriesTypes.sankey,F=p().css,R=p().crisp,j=p().extend,E=p().isNumber,H=p().merge,q=p().pick;({compose:function(t){O(t,"afterGetBBox",S),O(t,"beforeAddingDataLabel",W);var e=t.prototype;e.setTextPath||(e.setTextPath=T)}}).compose(A());var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.alignDataLabel=function(e,i,n){var r=e.shapeArgs;if(n.useHTML&&r){var o=this.options.borderWidth+2*this.options.dataLabels.padding,a=r.width||0,s=r.height||0;this.chart.inverted&&(a=s,s=r.width||0),s-=o,a-=o;var h=i.text;h&&(F(h.element.parentNode,{width:a+"px",height:s+"px"}),F(h.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),i.getBBox=function(){return{width:a,height:s,x:0,y:0}},i.width=a,i.height=s}t.prototype.alignDataLabel.apply(this,arguments)},e.prototype.createNode=function(e){var i=t.prototype.createNode.call(this,e);return i.getSum=function(){return 1},i},e.prototype.pointAttribs=function(t,e){var i=C.prototype.pointAttribs.call(this,t,e),n=t.isNode?t.level:t.fromNode.level,r=this.mapOptionsToLevel[n||0]||{},o=t.options,a=r.states&&r.states[e]||{},s=q(a.borderRadius,o.borderRadius,r.borderRadius,this.options.borderRadius),h=q(a.linkColor,o.linkColor,r.linkColor,this.options.linkColor,a.link&&a.link.color,o.link&&o.link.color,r.link&&r.link.color,this.options.link&&this.options.link.color),l=q(a.linkLineWidth,o.linkLineWidth,r.linkLineWidth,this.options.linkLineWidth,a.link&&a.link.lineWidth,o.link&&o.link.lineWidth,r.link&&r.link.lineWidth,this.options.link&&this.options.link.lineWidth),p=q(a.linkOpacity,o.linkOpacity,r.linkOpacity,this.options.linkOpacity,a.link&&a.link.linkOpacity,o.link&&o.link.linkOpacity,r.link&&r.link.linkOpacity,this.options.link&&this.options.link.linkOpacity);return t.isNode?E(s)&&(i.r=s):(i.stroke=h,i["stroke-width"]=l,i.opacity=p,delete i.fill),i},e.prototype.translateLink=function(t){var e=this.chart,i=this.options,n=t.fromNode,r=t.toNode,o=q(i.linkLineWidth,i.link.lineWidth,0),a=q(i.link.offset,.5),s=q(t.options.link&&t.options.link.type,i.link.type);if(n.shapeArgs&&r.shapeArgs){var h=i.hangingIndent,l="right"===i.hangingSide,p=r.options.offset,d=/%$/.test(p)&&parseInt(p,10),u=e.inverted,c=R((n.shapeArgs.x||0)+(n.shapeArgs.width||0),o),g=R((n.shapeArgs.y||0)+(n.shapeArgs.height||0)/2,o),f=R(r.shapeArgs.x||0,o),y=R((r.shapeArgs.y||0)+(r.shapeArgs.height||0)/2,o),m=void 0;if(u&&(c-=n.shapeArgs.width||0,f+=r.shapeArgs.width||0),m=this.colDistance?R(f+(u?1:-1)*(this.colDistance-this.nodeWidth)/2,o):R((f+c)/2,o),d&&(d>=50||d<=-50)&&(m=f=R(f+(u?-.5:.5)*(r.shapeArgs.width||0),o),y=r.shapeArgs.y||0,d>0&&(y+=r.shapeArgs.height||0)),r.hangsFrom===n&&(e.inverted?(g=l?R((n.shapeArgs.y||0)+h/2,o):R((n.shapeArgs.y||0)+(n.shapeArgs.height||0)-h/2,o),y=l?(r.shapeArgs.y||0)+h/2:(r.shapeArgs.y||0)+(r.shapeArgs.height||0)):g=R((n.shapeArgs.y||0)+h/2,o),m=f=R((r.shapeArgs.x||0)+(r.shapeArgs.width||0)/2,o)),t.plotX=m,t.plotY=(g+y)/2,t.shapeType="path","straight"===s)t.shapeArgs={d:[["M",c,g],["L",f,y]]};else if("curved"===s){var v=Math.abs(f-c)*a*(u?-1:1);t.shapeArgs={d:[["M",c,g],["C",c+v,g,f-v,y,f,y]]}}else t.shapeArgs={d:k.applyRadius([["M",c,g],["L",m,g],["L",m,y],["L",f,y]],q(i.linkRadius,i.link.radius))};t.dlBox={x:(c+f)/2,y:(g+y)/2,height:o,width:0}}},e.prototype.translateNode=function(e,i){t.prototype.translateNode.call(this,e,i);var n=this.chart,r=this.options,o=Math.max(Math.round(e.getSum()*this.translationFactor),r.minLinkWidth||0),a="right"===r.hangingSide,s=r.hangingIndent||0,h=r.hangingIndentTranslation,l=r.minNodeLength||10,p=Math.round(this.nodeWidth),d=e.shapeArgs,u=n.inverted?-1:1,c=e.hangsFrom;if(c){if("cumulative"===h)for(d.height-=s,n.inverted&&!a&&(d.y-=u*s);c;)d.y+=(a?1:u)*s,c=c.hangsFrom;else if("shrink"===h)for(;c&&d.height>s+l;)d.height-=s,(!n.inverted||a)&&(d.y+=s),c=c.hangsFrom;else d.height-=s,(!n.inverted||a)&&(d.y+=s)}e.nodeHeight=n.inverted?d.width:d.height,e.shapeArgs&&!e.hangsFrom&&(e.shapeArgs=H(e.shapeArgs,{x:(e.shapeArgs.x||0)+p/2-(e.shapeArgs.width||0)/2,y:(e.shapeArgs.y||0)+o/2-(e.shapeArgs.height||0)/2}))},e.prototype.drawDataLabels=function(){var e=this.options.dataLabels;if(e.linkTextPath&&e.linkTextPath.enabled)for(var i=0,n=this.points;i<n.length;i++){var r=n[i];r.options.dataLabels=H(r.options.dataLabels,{useHTML:!1})}t.prototype.drawDataLabels.call(this)},e.defaultOptions=H(C.defaultOptions,b),e}(C);j(D.prototype,{pointClass:v}),u().registerSeriesType("organization",D);var B=p();return h.default}()});