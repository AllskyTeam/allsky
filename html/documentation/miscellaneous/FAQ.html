<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../js/documentation.js" type="application/javascript"></script>
    <link href="../css/light.css" rel="stylesheet">
	<link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<style>
		#pageTitle::before {
			content: "Allsky FAQ";
		} 
	</style>
    <link href="../css/documentation.css" rel="stylesheet">
    <link href="../documentation-favicon.ico" rel="shortcut icon" type="image/png">
	<title>Allsky FAQ</title>
</head>
<body>
<div w3-include-html="/documentation/pageHeader.html" id="pageHeader"></div>
<div class="Layout">
<div class="Layout-sidebar" w3-include-html="/documentation/sidebar.html" id="sidebar"></div>
<div class="Layout-main markdown-body" id="mainContents">

<h1>JUST STARTING THIS</h1>
<p>
Will add to this FAQ as time goes on...
</p>
<h2>The <span class="fileName">/var/log/allsky.log</span> file is gone?  How do I get it back?</h2>
<details><summary></summary>
<p>
<ul>
	<li>Try restarting the software: <code>sudo systemctl restart allsky</code>.
	<li>If that doesn't help, restart the software that controls the log files:
		<code>sudo systemctl restart syslog</code>.
	<li>If that doesn't help, reboot the Pi.
	<li>If that doesn't help, wait until tomorrow - sometimes the log file
		mysteriously reappears after midnight.
		Note this is NOT an Allsky problem since it also happens with other services.
</ul>
</p>
</details>


<h2>After starting Allsky, all I get is "Allsky software is starting up"</h2>
<details><summary></summary>
<p>
Most likely Allsky is dropping all images for being overly dark or overly bright due to inappropriate settings.
Check the log to see what it says by running <code>tail -f /var/log/allsky.log</code> in a terminal window.
</p>
<p>
If you are using <b>manual</b> exposure/gain try adjusting those values.
</p>
<p>
If you are using <b>auto</b> exposure/gain, the starting values are what you specified as the manual values,
and it may take several exposures for the software to home in on the best exposure.
While it's doing that, you'll see the "Allsky software is starting up" message.  This is normal.
If, however the message remains after several minutes follow the instructions
<a allsky="true" href="/documentation/troublehsooting/reportingIssues.html">here</a>
and submit the log file.
</p>
<p>
You can also temporarily set <span class="shSetting">REMOVE_BAD_IMAGES</span> to "false" in
<span class="fileName">~/allsky/config/config.sh</span>
to see what the incorrectly exposed images look like - this
might give you an idea as to the problem.
</p>
</details>


<h2>There is a long delay between when my pictures are saved</h2>
<details><summary></summary>
<p>
The time between when one picture ends and another starts is determined by
these settings in the WebUI:
<ol>
	<li><span class="WebUISetting">Delay</span> (daytime or nighttime).
	<li><span class="WebUISetting">Max Auto-Exposure</span> (daytime or nighttime),
		even if you are using manual exposure.
	<li><span class="WebUISetting">Consistent Delays Between Images</span>.
</ol>
There are two possibilities:
<ol>
	<li>If <span class="WebUISetting">Consistent Delays Between Images</span> is "Yes",
		then the total delay is:
		<br>
		<span class="WebUISetting">Delay</span> +
		<span class="WebUISetting">Max Auto-Exposure</span>.
	<li>If <span class="WebUISetting">Consistent Delays Between Images</span> is "No",
		then the total delay is simply the <span class="WebUISetting">Delay</span>.
</ol>
If the time between pictures is longer than you expected,
check your <span class="WebUISetting">Max Auto-Exposure</span>.
</p>
</details>


<h2>Reducing wear on your SDcard</h2>
<details><summary></summary>
<p>
SDcards have a limited number of writes they can handle before they wear out.
Although this is usually a very large number you may wish nonetheless to
minimize writes to the SDcard.
The bet way to do this is by making Allsky's <span class="fileName">allsky/tmp</span>
directory a memory-based filesystem,
i.e., instead of residing on the SDcard it resides in RAM memory.

<blockquote>
During Allsky installation you were prompted to create
<span class="fileName">tmp</span> as a memory-based filesystem.
If you did that you can ignore this tip.
</blockquote>

Note the following:
<ul>
<li>In order to do this you'll need enough free RAM memory,
	so this may not work well with systems with very limited memory, for example, 512 MB.
<li>The contents of the <span class="fileName">tmp</span>
	directory will be erased every time you reboot your Pi.
	This should be ok since it's only used for temporary log files and to hold images
	as they come out of the camera,
	before they are stored in <span class="fileName">allsky/images/DATE</span>.
</ul>
<p>
It's simple to create a memory-based filesystem:
<pre>
cd ~/allsky
./install.sh --function check_tmp
</pre>

It's suggested you accept the defaults.
</details>


<h2>Focusing the camera</h2>
<details><summary></summary>
<p>
Try get your camera at least roughly focused during the day.
It'll be easier to see your focus ring, and exposure duration will be much shorter so
you'll get more instant feedback.
</p>
<p>
To complete focus, enable the <span class="WebUISetting">Show Focus Metric</span>
setting in the WebUI's <b>Allsky Settings</b> page.
A focus number will appear on your images - the higher the number, the better focus you have.
Note that the number can change depending on the brightness,
so focus when the brightness isn't changing.
<p>
When done focusing, disable the <span class="WebUISetting">Show Focus Metric</span>
setting since it's no longer needed.
</p>
</details>


<h2>Pro-tip: install <code>gh</code> on your Pi so you can easily collaborate using Github Gists</h2>
<details><summary></summary>
<p>
Click <a href="https://cli.github.com/">here</a>
for the full details or download the latest release from
<a href="https://github.com/cli/cli/releases/latest">here</a>.
Once you have the Command Line Interface (CLI) installed,
you can easily upload a script you wrote with something like:
<pre>
gh gist create -d "a tool to find alien spaceships" < my_awesome_allsky_script.py
</pre>

or share logs using something like
<pre>
journalctl --since 05:00 -u allsky | gh gist create
gh gist create < log.txt
</pre>

</details>


</div><!-- Layout-main -->
</div><!-- Layout -->
</body>
</html>
<script> includeHTML(); </script>
