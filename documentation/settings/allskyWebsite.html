<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<script src="../documentation.js" type="application/javascript"></script>
	<link href="../css/light.css" rel="stylesheet">
	<link href="../css/documentation.css" rel="stylesheet">
	<link href="../documentation-favicon.ico" rel="shortcut icon" type="image/png">
	<title>Allsky Website Settings</title>
</head>
<body>
<div class="d-flex flex-column flex-md-row gh-header">
	<h1 class="flex-auto min-width-0 mb-2 mb-md-0 mr-0 mr-md-2 gh-header-title" id="onPage">Allsky Website Settings</h1>
</div>

<div class="xcontainer-xl px-3 px-md-4 px-lg-5 mt-4">
<div data-view-component="true" class="Layout Layout--flowRow-until-md Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end">

<div data-view-component="true" class="Layout-sidebar wiki-rightbar">
	<div w3-include-html="/documentation/sidebar.html" id="sidebar"></div>
</div>

<div data-view-component="true" class="Layout-main"><div class="markdown-body" id="mainContents">
<p>
The Allsky Website allows you to display your images on a website,
either on your Pi or on another machine.
It can optionally add an overlay of constellations and other objects,
as well as optional Aurora data from NOAA.
</p>
<p>
To configure the Website:
<ul>
<li>In the WebUI, click on the <code>Editor</code> link.
<li>In the drop-down at the bottom of the page, select
	one of the following, depending on which Website you want to configure:
	<ul>
	<li><b>configuration.json (local Allsky Website)</b> or
	<li><b>remote_configuration.json (remote Allsky Website)</b>
		(only if you have a remote Website)
	</ul>
</ul>
</p>
<p>
The Allsky Website configuration file has two sections:
<ol>
<li><span class="editorVariable">"config"</span> -
	settings for the image and constellation overlay.
<li><span class="editorVariable">"homePage"</span> -
	settings to change the look and feel
	of the Website's home page including the icons on the left side and the
	information popout on the right side.
</ol>
</p>
<p>
Any setting whose default is <b>XX_need_to_update_XX</b> needs to be updated prior
to using the Website.
The latitude and longitude also need to be updated if not already updated.
</p>


<h3>"config" settings</h3>
<details><summary></summary>
<p>
Items preceded by <span class="sentToMapServer"></span> are sent to the map server
if you camera is on the <a allsky="true" href="/documentation/allskyMap/index.html">Allsky map</a>.
</p>
<p>
Items marked with <span class="autoSet"></span> are automatically set during
installation based on what's in your Allsky Settings and your Pi model, but can be overridden.
<blockquote>
It's important to update all your settings in the WebUI <b>before</b> installing the
Allsky Website so you only have to update them once.
</blockquote>
</p>
<table>
<thead>
<tr>
	<th>Setting</th>
	<th>Default</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>comment</td>
	<td></td>
	<td>This line is describes what this section is for and can be deleted if desired.</td>
</tr>
<tr>
	<td>imageName</td>
	<td>/current/tmp/image.jpg</td>
	<td>The image uploaded from your allsky camera.
		<b>On a <u>remote</u> web server this should normally be
		<span class="editorString">image.jpg</span></b>
	</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> location</td>
	<td><span class="autoSet"></span></td>
	<td>The location of your camera.</td>
</tr>
<tr>
	<td><span class="sentToMapServer"></span> latitude</td>
	<td><span class="autoSet"></span></td>
	<td>Latitude of the camera as a decimal number (negative is Southern Equator)
		or as an unsigned number with "N" or "S",
		e.g., <span class="editorString">"41.79N"</span>
	</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> longitude</td>
	<td><span class="autoSet"></span></td>
	<td>Longitude of the camera as a decimal number (negative is west of the prime meridian)
		or as an unsigned number with "E" or "W",
		e.g., <span class="editorString">"41.79W"</span>
	</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> camera</td>
	<td><span class="autoSet"></span></td>
	<td>Your camera type and model.</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> lens</td>
	<td><span class="autoSet"></span></td>
	<td>Your camera's lens, for example, brand, mm, etc.</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> computer</td>
	<td><span class="autoSet"></span></td>
	<td>Your Raspberry Pi model.</td>
</tr>
<tr>
	<td><span class="sentToMapServer"><span> owner</td>
	<td><span class="autoSet"></span></td>
	<td>The camera owner</td>
</tr>
<tr>
	<td>auroraForecast</td>
	<td>false</td>
	<td>Displays the 3-day aurora forecast in the top right corner when set to <code>true</code></td>
</tr>
<tr>
	<td>auroraMap</td>
	<td><span class="autoSet"></span></td>
	<td>Aurora oval map for the "north" or "south" hemisphere</td>
</tr>
<tr>
	<td>intervalSeconds</td>
	<td>5</td>
	<td>Number of seconds between checks for new image.
		Can set to half the time between the start of one exposure and the start
		of the next one if you want to decrease CPU usage of the browser.
	</td>
</tr>
<tr>
	<td>showOverlayAtStartup</td>
	<td>false</td>
	<td>Set to "true" to have the overlay displayed when the page is loaded.</td>
</tr>
<tr>
	<td>overlayWidth</td>
	<td>875</td>
	<td>Width of the overlay in pixels.</td>
</tr>
<tr>
	<td>overlayHeight</td>
	<td>875</td>
	<td>Height of the overlay in pixels.</td>
</tr>
<tr>
	<td>overlayOffsetLeft</td>
	<td>0</td>
	<td>Horizontal adjustment of the overlay in pixels.
		Use negative numbers to move left.
	</td>
</tr>
<tr>
	<td>overlayOffsetTop</td>
	<td>0</td>
	<td>Vertical adjustment of the overlay in pixels.
		Use negative numbers to move up.
	</td>
</tr>
<tr>
	<td>az</td>
	<td>0</td>
	<td>(azimuth) Changes the rotation of the overlay.
		0 is north up, 90 is north to the right, etc.
	</td>
</tr>
<tr>
	<td>imageHeight</td>
	<td>720</td>
	<td>Height of the image in pixels.
		The image width will be calculated automatically to keep the aspect ratio constant.
	</td>
</tr>
<tr>
	<td>opacity</td>
	<td>0.5</td>
	<td>Opacity of the constellation overlay, from 0.0 (invisible) to 1.0 (full brightness).</td>
</tr>
<tr>
	<td>objectsComment</td>
	<td></td>
	<td>This line is FYI and can be deleted if desired.</td>
</tr>
<tr>
	<td>XXX_objects</td>
	<td>virtualsky/messier.json</td>
	<td>Name of one or more semi colon-separated file(s) that contains other objects to display.
		<br>To use, remove the leading <span class="editorVariable">XXX_</span>.
	</td>
</tr>
<tr>
	<td>meridian</td>
	<td>false</td>
	<td>Displays the meridian line.</td>
</tr>
<tr>
	<td>ecliptic</td>
	<td>false</td>
	<td>Displays the ecliptic line.</td>
</tr>
<tr>
	<td>fontsize</td>
	<td>14px</td>
	<td>Font size for constellation and star names.</td>
</tr>
<tr>
	<td>cardinalpoints</td>
	<td>true</td>
	<td>Display the cardinal points (N, S, E, W)?</td>
</tr>
<tr>
	<td>cardinalpoints_fontsize</td>
	<td>18px</td>
	<td>Size of cardinal points.
		If they are hard to see, increase the size.
	</td>
</tr>
<tr>
	<td>showstarlabels</td>
	<td>true</td>
	<td>Display the star names.</td>
</tr>
<tr>
	<td>projection</td>
	<td>fisheye</td>
	<td>Leave at the default if your Allsky camera has a fisheye lens (most do).</td>
</tr>
<tr>
	<td>constellations</td>
	<td>true</td>
	<td>Show constellation lines?</td>
</tr>
<tr>
	<td>constellationwidth</td>
	<td>0.75</td>
	<td>Width of lines making up constellations.</td>
</tr>
<tr>
	<td>constellationlabels</td>
	<td>false</td>
	<td>Show the constellation names?</td>
</tr>
<tr>
	<td>constellationboundaries</td>
	<td>false</td>
	<td>Show the constellation boundaries?</td>
</tr>
<tr>
	<td>constellationboundarieswidth</td>
	<td>0.75</td>
	<td>Width of constellation boundary lines.</td>
</tr>
<tr>
	<td>gridlines_eq</td>
	<td>true</td>
	<td>Show the RA/Dec grid lines?</td>
</tr>
<tr>
	<td>gridlineswidth</td>
	<td>0.75</td>
	<td>Width of RA/Dec grid lines.</td>
</tr>
<tr>
	<td>showgalaxy</td>
	<td>true</td>
	<td>Show galaxies?</td>
</tr>
<tr>
	<td>galaxywidth</td>
	<td>0.75</td>
	<td>Width of galaxy outline line.</td>
</tr>
<tr>
	<td>mouse</td>
	<td>false</td>
	<td>Allow the mouse to rotate the overlay?
		Can be useful when trying to get the overlay to fit properly over your image.
	</td>
</tr>
<tr>
	<td>keyboard</td>
	<td>true</td>
	<td>Allow keyboard controls?
		If set to "true", type "?" when over the image for a list of keyboard commands.
	</td>
</tr>
<tr>
	<td>showdate</td>
	<td>false</td>
	<td>Show the date and time?
		Not really needed if you add the date and time to your images.
	</td>
</tr>
<tr>
	<td>showposition</td>
	<td>false</td>
	<td>Show/hide the latitude/longitude.
		Not very useful since clicking on the information icon on the
		left displays this information.
	</td>
</tr>
<tr>
	<td>sky_gradient</td>
	<td>false</td>
	<td>Should the sky lighten toward the horizon?</td>
</tr>
<tr>
	<td>gradient</td>
	<td>false</td>
	<td>Reduce the brightness of stars near the horizon?</td>
</tr>
<tr>
	<td>transparent</td>
	<td>true</td>
	<td>Makes the sky background transparent.</td>
</tr>
<tr>
	<td>lang</td>
	<td>en</td>
	<td>Language the object names should be in.
		Look in <code>~/allsky/html/allsky/virtualsky/lang</code> for available languages.
	</td>
</tr>
<tr>
	<td>colours</td>
	<td></td>
	<td>Allows you to override the default overlay colors in "normal" and "negative" mode.
		To see an example, remove the leading <span class="editorVariable">XXX_</span>
		from the samples.
		<br><b>rgba()</b> takes 4 arguments: red, green, and blue values, plus opacity (0.0 - 1.0).
	</td>
</tr>
<tr>
	<td>live</td>
	<td>true</td>
	<td>Update the display in real time?  Rarely changed.</td>
</tr>
<tr>
	<td>id</td>
	<td></td>
	<td><b>Do not change</b>.</td>
</tr>
<tr>
	<td>AllskyVersion</td>
	<td></td>
	<td><b>Do not change</b>.</td>
</tr>
<tr>
	<td>AllskyWebsiteVersion</td>
	<td></td>
	<td><b>Do not change</b>.</td>
</tr>
</tbody>
</table>
A complete list of virtual-sky based options is
<a href="https://slowe.github.io/VirtualSky/#options">here</a>.
<hr class="separator">
</details>


<h3>"homePage" settings</h3>
<details><summary></summary>
<table>
<thead>
<tr>
	<th>Setting</th>
	<th>Default</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>comment</td>
	<td></td>
	<td>This line is describes what this section is for and can be deleted if desired.</td>
</tr>
<tr>
	<td>onPi</td>
	<td>true (local)<br>false (remote)</td>
	<td>Set automatically to indicate if the Website is running on a Pi or a remote server.
		Should normally not need to change.
	</td>
</tr>
<tr>
	<td>title</td>
	<td>XX_NEED_TO_UPDATE_XX</td>
	<td>Text displayed next to the Allsky logo on the upper left.
		Can be anything you want, but keep it short.
		It is also displayed on the tab in your browser.
	</td>
</tr>
<tr>
	<td>og_description</td>
	<td>XX_NEED_TO_UPDATE_XX</td>
	<td>The description given to your Website if you drag/drop its icon to things like
		social media sites.  Often the same as <span class="editorVariable">title</span>.
	</td>
</tr>
<tr>
	<td>backgroundImage</td>
	<td></td>
	<td>Allows you to set an optional background image.
		Set <span class="editorVariable">url</span>
		to the location of the image (a URL or file name).
		Set <span class="editorVariable">style</span>
		to an optional CSS style, e.g.,
		<span class="editorString">border: 1px solid red</span> will give a
		1 pixel border around the image.
	</td>
</tr>
<tr>
	<td>loadingImage</td>
	<td>loading.jpg</td>
	<td>The location of the "Loading ..." image that's displayed after you start the Website
		and before the first captured image appears.
		Can be a URL or a file name.
		<blockquote>
		If this is a file on your Pi or remote server,
		it's suggested to put it in the <code>myImages</code> directory which is
		backed up and restored when upgrading Allsky Website.
		</blockquote>
	</td>
</tr>
<tr>
	<td>imageBorder</td>
	<td>false</td>
	<td>Should a border be added to the image?
		The border helps distinguish the image from the black background.
	</td>
</tr>
<tr>
	<td>includeGoogleAnalytics</td>
	<td>false</td>
	<td>Should the <code>analyticsTracking.js</code> file be included?
		If you don't know what this is, leave it "false".
		<br>If you change the file it will be copied to newer release of the Allsky Website.
	</td>
</tr>
<tr>
	<td>includeLinkToMakeOwn</td>
	<td>true</td>
	<td>Display the "Make your own" link at the bottom right of the home page?</td>
</tr>
<tr>
	<td>personalLink</td>
	<td></td>
	<td>Allows you to add a link to a page at the top of the home page, for example:
		<br>
		<span style="color: red;">Click
		<a href="https://google.com" title="this is a title">here</a>
		to go to my observatory page.</span>
		<ul>
		<li><b>prelink</b> - Text before the link ("Click").
		<li><b>message</b> - What the link says ("here").
		<li><b>url</b> - The location the user is taken to when clicking on the link ("https://google.com").
		<li><b>title</b> - Text displayed when hovering over the link ("this is a title").
		<li><b>style</b> - Optional CSS style of the link ("color: red;").
		</ul>
	</td>
</tr>
<tr>
	<td>og_type</td>
	<td>website</td>
	<td>Used by social media and other sites if you drag/drop your Website icon to them. Rarely changed.
	</td>
</tr>
<tr>
	<td>og_url</td>
	<td></td>
	<td>Link to your Allsky Website page - used if you drag/drop your Website icon
		to social media and other sites.
	</td>
</tr>
<tr>
	<td>og_image</td>
	<td>image.jpg</td>
	<td>Link to a picture to display as a thumbnail when dragging/dropping your Website icon
		to social media and other sites.
	</td>
</tr>
<tr>
	<td>favicon</td>
	<td>allsky-favicon.png</td>
	<td>Location of the "favorite icon" which is displayed in the browser title bar.
		<blockquote>
		If this is a file on your Pi or remote server,
		it's suggested to put it in the <code>myImages</code> directory which is
		backed up and restored when upgrading Allsky Website.
		</blockquote>
	</td>
</tr>
<tr>
	<td>leftSidebar</td>
	<td></td>
	<td>Settings that modify the left sidebar's icons.
		Each icon has the following settings:
		<ul>
		<li><b>display</b> - "true" to display the icon, "false" to hide it.
			<blockquote>
			The overlay toggle icon's display setting is "false" by default.
			If you plan to allow the overlay to be displayed,
			modify its size and position so it mostly matches the sky,
			then set this field to "true".
			</blockquote>
		<li><b>url</b> - The web page to display when the icon is clicked.
		<li><b>title</b> - Text displayed when hovering over the icon.
		<li><b>icon</b> - A list of
			<a href="https://fontawesome.com/v5/search?o=r&m=free">Font Awesome</a>
			classes that determine which icon is used.
			Allsky uses Font Awesome version 5.15.4.
			Note that not all icons work.
		<li><b>other</b> - Text to add to the link <b>in place of a url</b>.
			Typically used to take an action, like display a popup, when the icon is clicked.
		<li><b>style</b> - Optional CSS style, e.g., "color: red;" will turn the icon red.
		</ul>
		You can add, update, reorder, and delete icons.
	</td>
</tr>
<tr>
	<td>leftSidebarStyle</td>
	<td></td>
	<td>CSS for the left sidebar itself, not the icons in it.
		To change the sidebar yellow: "background-color: yellow;".
	</td>
</tr>
<tr>
	<td>popoutIcons</td>
	<td></td>
	<td>Settings that modify the information that appears in the popout on the right side.
		Each entry has contails an icon, name of the field, and the field's value,
		and has the following settings:
		<ul>
		<li><b>display</b> - "true" to display the entry, "false" to hide it.
		<li><b>label</b> - The name of the field for the entry.
		<li><b>icon</b> - The same as with <span class="editorVariable">leftSidebar</span> above.
		<li><b>variable</b> - A variable from the
			<span class="editorVariable">config</span>
			class whose value should be displayed.
			For example, if you set the <span class="editorVariable">owner</span>
			to <span class="editorString">Eric</span>,
			entering <span class="editorVariable">owner</span> for this setting will display
			<span class="editorString">Eric</span>.
			<br>Using variables means you only need to enter its value in one place.
		<li><b>value</b> - The field's value, used <b>in place of a variable</b>.
			Can be text or a url.
			See the
			<span class="editorVariable">Allsky Settings</span> entry for an example.
		<li><b>style</b> - Optional CSS style, e.g., "color: red;" will turn the text red.
		</ul>
		You can add, update, reorder, and delete entries.
	</td>
</tr>
</tbody>
</table>

</div><!-- markdown-body --></div><!-- Layout-main ... -->
</div><!-- Layout -->
</div><!-- xcontainer-x1 ... -->
</body>
</html>
<script> includeHTML(); </script>

