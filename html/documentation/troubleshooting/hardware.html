<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="../js/documentation.js" type="application/javascript"></script>
	<link href="../css/light.css" rel="stylesheet">
	<link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<style>
		#pageTitle::before {
			content: "Troubleshooting Hardware Issues";
		} 
	</style>
	<link href="../css/documentation.css" rel="stylesheet">
	<link href="../documentation-favicon.ico" rel="shortcut icon" type="image/png">
	<title>Hardware Troublehooting</title>
</head>
<body>
<div w3-include-html="/documentation/pageHeader.html" id="pageHeader"></div>
<div class="Layout">
<div class="Layout-sidebar" w3-include-html="/documentation/sidebar.html" id="sidebar"></div>
<div class="Layout-main markdown-body" id="mainContents">

<p>
Problems with your Raspberry Pi are not an issue with the AllSky software,
but we're providing this page as a service to Allsky users.
</p>

<h2>My Pi isn't using all its disk space</h2>
<details><summary></summary>
<p>
If you have a large SD card like 64 GB but the WebUI's <b>System</b> page shows significantly less,
you need to resize the card.  For example you see this:

<img src="notUsingAllDiskSpace.png" loading="lazy" class="imgCenter imgBorder" title="Not using all space">

To fix this, resize your filesystem:
<pre>
sudo resize2fs /dev/sda2
</pre>
<p>
It may ask you to run an <code>fsck</code> command then run the resize again.
If so, follow its instructions - you'll need to use <code>sudo</code>.
After the resize, you should have all your space reporting correctly.
</p>

</details>


<h2>Pi keeps rebooting after a few minutes</h2>
<details><summary></summary>
<p>
One user reported his Pi was stuck in a loop where it would continually reboot after a few minutes.
He had removed power from his Pi while it was still running.
He fixed the problem by shutting the system down as soon as it came up.
</p>
<blockquote>
If you need to shut down your Pi do not simply unplug the power;
instead, use the
<img allsky="true" src="/documentation/img/shutdownPi.png" class="buttonIconLarge" title="Shutdown button" loading="lazy">
button on the WebUI's <span class="WebUIPage">System</span> page or via the command prompt:
<pre>
sudo shutdown -r now
</pre>
</blockquote>
</details>


<h2>Pi 3B+ doesn't run the latest AllSky Software</h2>
<details><summary></summary>
<p>
If your Pi either hangs while booting with a camera connected or it gives
ASI_ERROR_TIMEOUT messages when connecting the camera after booting, read on.
</p>
<p>
If you are running the much older "Stretch" version of Linux, upgrade the firmware:  
<pre>
sudo apt-get install rpi-update    # on Raspbian  
sudo rpi-update
</pre>
</p>
</details>


<h2>Lenses</h2>
<details><summary></summary>
<p>
Lenses need to be matched to your camera and your environment.
If you're in an urban canyon, maybe you don't need a 180&deg; lens.
If you have light interference near the horizon you can create an artificial horizon,
with a piece of black PVC pipe for example.
If you're unsure of the field of view you can use a tool like
<a href="https://www.bintel.com.au/tools/astronomy-calculator/">Bintel</a>
to calculate the field of view on the sensor,
or <a href="https://stellarium.org/">Stellarium</a> to simulate the field of view.
</details>


<h2>Moisture on dome</h2>
<details><summary></summary>
<p>
If you are getting moisture on the inside of your allsky dome, consider adding a heater.
Click <a href="https://github.com/thomasjacquin/allsky/issues/113">here</a>
and <a href="https://www.instructables.com/Raspberry-Pi-Dew-Heater-for-All-sky-Camera/">here</a>.
</p>
<p>
You can also add a fan to the enclosure that sends air warmed by the Pi into the dome via one hole,
and out via another.
</p>
</details>


</div><!-- Layout-main -->
</div><!-- Layout -->
</body>
</html>
<script> includeHTML(); </script>

